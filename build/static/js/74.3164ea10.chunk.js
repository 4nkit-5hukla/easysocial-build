(this.webpackJsonpeasysocial=this.webpackJsonpeasysocial||[]).push([[74],{1060:function(e,t,a){"use strict";t.a=a.p+"static/media/sadicon.6009408d.svg"},1123:function(e,t,a){"use strict";a(0);var c=a(1297),s=a.n(c),n=a(1060),r=a(139),i=a(2);t.a=function(e){return Object(i.jsxs)("div",{className:s.a.Type0_Account,children:[Object(i.jsxs)("div",{className:s.a.Type0_Note,children:[Object(i.jsx)("img",{src:n.a,alt:"sad"}),Object(i.jsx)("p",{children:"We could not find any Facebook page accounts."}),Object(i.jsx)("main",{className:s.a.Type0_Link,children:Object(i.jsx)(r.c,{className:s.a.Type0_Button,onClick:function(){return window.open(e.setupRedirectURL,"_blank")},children:"Connect Instagram"})})]}),Object(i.jsxs)("p",{className:s.a.Done_Linking,children:["Done linking?"," ",Object(i.jsx)("span",{onClick:function(){e.history.push("/business-setup/link-facebook")},children:"Resume Setup!"})]})]})}},1297:function(e,t,a){e.exports={Type0_Account:"NoFacebookPage_Type0_Account__2bch9",Type0_Note:"NoFacebookPage_Type0_Note__2JHh5",Type0_Link:"NoFacebookPage_Type0_Link__2Dfa2",Type0_Button:"NoFacebookPage_Type0_Button__1uxXx",Done_Linking:"NoFacebookPage_Done_Linking__1dQBo"}},2367:function(e,t,a){e.exports={contactParentWrapper:"socialProfiles_contactParentWrapper__2XldM",sideDrawerHeaderWrapper:"socialProfiles_sideDrawerHeaderWrapper__1ymRq",sideDrawerHeadingWrapper:"socialProfiles_sideDrawerHeadingWrapper__2eHwK",formContainter:"socialProfiles_formContainter__vULyc",sideDrawerHeading:"socialProfiles_sideDrawerHeading__2L6f1",sideDrawerSubHeading:"socialProfiles_sideDrawerSubHeading__-N0r6",sideDrawerTitle:"socialProfiles_sideDrawerTitle__1Z1qy",secondHalf:"socialProfiles_secondHalf__3Jpfe",backArrow:"socialProfiles_backArrow__31woV",firstHalf:"socialProfiles_firstHalf__1iqKr",subContent:"socialProfiles_subContent__2Zx6q",viewMorbtn:"socialProfiles_viewMorbtn__32FO1",linktitle:"socialProfiles_linktitle__23Nnr",SocialProfiles_Main:"socialProfiles_SocialProfiles_Main__kmgGZ",sideDrawerWrapper:"socialProfiles_sideDrawerWrapper__1p9ql",selectButtonWrapper:"socialProfiles_selectButtonWrapper__P5tpj",topHeaderWrapper:"socialProfiles_topHeaderWrapper__1-HzX"}},2368:function(e,t,a){e.exports={Select_page:"Select_page_Select_page__2Zaav",link_social:"Select_page_link_social__16vGK",Icons:"Select_page_Icons__3tjJj",Link_Progress:"Select_page_Link_Progress__2fkGh",Line:"Select_page_Line__1IsEw",Icon_Grid:"Select_page_Icon_Grid__1rk78",Icon:"Select_page_Icon__2N5Sp",Form_Header:"Select_page_Form_Header__3ciO2",Back_Btn:"Select_page_Back_Btn__1fUkF",Header_Text:"Select_page_Header_Text__3uhGG",Pages:"Select_page_Pages__9Udyr",skipBtn:"Select_page_skipBtn__14P3N"}},2369:function(e,t,a){e.exports={Select_page:"Select_page_Select_page__29BSa",link_social:"Select_page_link_social__ZRqLH",Icons:"Select_page_Icons__1FBUW",Link_Progress:"Select_page_Link_Progress__Y7eZW",Line:"Select_page_Line__2EzjR",Icon_Grid:"Select_page_Icon_Grid__1NIPC",Icon:"Select_page_Icon__w8wvI",Form_Header:"Select_page_Form_Header__2xv60",Back_Btn:"Select_page_Back_Btn__pcQ6u",Header_Text:"Select_page_Header_Text__1VbDl",Pages:"Select_page_Pages__PXKkq",skipBtn:"Select_page_skipBtn__3dQJW"}},2553:function(e,t,a){"use strict";a.r(t);var c=a(9),s=a(0),n=a(2367),r=a.n(n),i=a(968),o=a(964),l=a(1784),_=a(1785),u=a(5),p=a(7),g=a(3),b=a.n(g),d=a(43),j=a(18),f=a(2368),O=a.n(f),m=a(54),k=a(1123),h=a(139),x=a(696),S=a(40),v=a(552),P=a(2),w=Object(S.withRouter)(Object(d.b)(null,(function(e){return{startLoading:function(){return e(j.T())},cancelLoading:function(){return e(j.e())},error:function(t){return e(j.n(t))}}}))((function(e){var t=Object(m.c)(),a=t.setSuccessMessage,n=t.setErrorMessage,r=Object(s.useRef)((function(){}));Object(s.useEffect)((function(){var e=!0;return r.current(e),function(){e=!1}}),[]);var i=Object(s.useState)(null),o=Object(c.a)(i,2),l=o[0],_=o[1],g=Object(s.useState)(!1),d=Object(c.a)(g,1)[0],j=Object(s.useState)(null),f=Object(c.a)(j,2),S=f[0],w=f[1],I=function(){var t=Object(p.a)(b.a.mark((function t(c){var s,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!S){t.next=16;break}return s=localStorage.getItem("businessId"),t.prev=3,t.next=6,Object(v.m)(s,Object(u.a)(Object(u.a)({},S),{},{businessId:s}));case 6:r=t.sent,r.success&&(a("Facebook setup complete!"),e.setConnect("instagram")),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("Save page data error: ",t.t0),i=t.t0.message,o=t.t0.error,n(i||(o||t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){if(l){var e=l.imgURL,t=l.pageID,a=l.pageName;w({pageID:t,pageName:a,imgURL:e})}}),[l]);return Object(P.jsx)("main",{children:d?Object(P.jsx)(k.a,{history:e.history}):Object(P.jsxs)("div",{className:O.a.Pages,children:[Object(P.jsxs)("form",{onSubmit:I,children:[e.FBPages.length>0&&e.FBPages.map((function(t){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(h.i,{img:t.imgURL,used:"no",id:t.pageID,name:t.pageName,tag:"pages",onClick:function(){return function(t){_(t),e.setSelectedFBPage(t)}(t)},value:t.pageID},t.pageID)})})),Object(P.jsx)(h.k,{svgStyle:{paddingLeft:"5px"},style:{margin:"0 auto"},children:"Link & Continue to Instagram"})]}),Object(P.jsxs)("p",{className:O.a.skipBtn,children:["Skip Facebook & Instagram",Object(P.jsx)("img",{alt:"skip",src:x.a})]})]})})}))),I=a(2369),N=a.n(I),y=Object(S.withRouter)((function(e){var t=Object(m.c)(),a=t.setSuccessMessage,n=t.setErrorMessage,r=Object(s.useState)(null),i=Object(c.a)(r,2),o=i[0],l=i[1],_=Object(s.useState)(!1),u=Object(c.a)(_,2),g=u[0],d=u[1],j=Object(s.useState)(null),f=Object(c.a)(j,2),O=f[0],w=f[1],I=Object(s.useRef)((function(){})),y=Object(S.useHistory)();Object(s.useEffect)((function(){var e=!0;return I.current(e),function(){e=!1}}),[]),Object(s.useEffect)((function(){var e=localStorage.getItem("businessId");Object(v.d)(e).then((function(e){l(e)})).catch((function(e){d(e.error),n(e.error)}))}),[]),Object(s.useEffect)((function(){if(g){var t=e.selectedFBPage,a=t.pageID,c=t.pageName,s="https://www.facebook.com/".concat(c,"-").concat(a,"/settings/?tab=instagram_management");w(s)}}),[g,e.selectedFBPage]);var F=function(){var e=Object(p.a)(b.a.mark((function e(t){var c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=localStorage.getItem("businessId"),!o){e.next=16;break}return e.prev=3,e.next=6,Object(v.o)(c,o.id);case 6:s=e.sent,s.success&&(a("Instagram setup complete!"),y.push("/business/twitter-connect")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),n("Save IG Info error: ",e.t0.error);case 14:e.next=17;break;case 16:n("Please select an Instagram business account.");case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("main",{children:g?Object(P.jsx)(P.Fragment,{children:O&&Object(P.jsx)(k.a,{history:e.history,setupRedirectURL:O})}):Object(P.jsxs)("div",{className:N.a.Pages,children:[Object(P.jsxs)("form",{onSubmit:F,children:[o&&Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(h.i,{img:o.profile_picture_url,used:"yes",id:o.id,name:o.username,tag:"pages"},o.id)}),Object(P.jsx)(h.k,{svgStyle:{paddingLeft:"5px"},style:{margin:"0 auto"},children:"Link & Continue to Twitter"})]}),Object(P.jsxs)("p",{className:N.a.skipBtn,children:["Skip Instagram",Object(P.jsx)("img",{src:x.a})]})]})})}));t.default=function(e){var t=Object(s.useState)("facebook"),a=Object(c.a)(t,2),n=a[0],u=a[1],p=Object(s.useState)([]),g=Object(c.a)(p,2),b=g[0],d=g[1],j=Object(s.useState)(null),f=Object(c.a)(j,2),O=f[0],m=f[1],k=Object(s.useRef)((function(){}));return Object(s.useEffect)((function(){k.current()}),[]),Object(s.useEffect)((function(){if("facebook"===n){var e=localStorage.getItem("businessId");Object(v.h)(e).then((function(e){var t=e.error,a=e.selectedFBPage;t&&console.log("Fetch selected page error: ",t),a&&Object.keys(a).length&&(u("instagram"),m(a)),a&&!Object.keys(a).length&&Object(v.a)().then((function(e){var t=e.fbPages;d(t)})).catch((function(e){console.log("Fetch business fb pages error: ",e)}))})).catch((function(e){var t=e.error;console.log("Fetch page error: ",t)}))}}),[]),Object(s.useEffect)((function(){b&&console.log("FB pages data: ",b)}),[b]),Object(P.jsxs)("div",{className:r.a.contactParentWrapper,children:[Object(P.jsx)("div",{className:r.a.firstHalf,children:Object(P.jsx)(i.a,{})}),Object(P.jsx)("div",{className:r.a.secondHalf,children:Object(P.jsxs)("div",{className:r.a.sideDrawerWrapper,children:[Object(P.jsxs)("div",{className:r.a.sideDrawerHeaderWrapper,children:[Object(P.jsx)("div",{className:r.a.topHeaderWrapper,children:Object(P.jsxs)("div",{children:[Object(P.jsx)("img",{src:"facebook"===n?l.a:_.a,alt:"social media"}),Object(P.jsx)("span",{children:"facebook"===n?"Linking Facebook":"Linking Instagram"})]})}),Object(P.jsxs)("div",{className:r.a.sideDrawerHeadingWrapper,children:[Object(P.jsx)("div",{className:r.a.backArrow,children:Object(P.jsx)("img",{src:o.a,alt:"back button"})}),Object(P.jsx)("div",{className:r.a.sideDrawerTitle,children:"facebook"===n?"Select Facebook Page":"Select Instagram Account"})]})]}),Object(P.jsxs)("div",{className:r.a.formContainter,children:["facebook"===n&&b.length>0&&Object(P.jsx)(w,{FBPages:b,setConnect:u,setSelectedFBPage:m}),"instagram"===n&&Object(P.jsx)(y,{selectedFBPage:O})]})]})})]})}},696:function(e,t,a){"use strict";t.a=a.p+"static/media/rightArrow.99dc2c4a.svg"}}]);
//# sourceMappingURL=74.3164ea10.chunk.js.map
{"version":3,"sources":["Pages/ExcelUploadTest/style.module.css","api/ExcelUpload.ts","Styles/dropzoneStyles.ts","Pages/ExcelUploadTest/ExcelUploadTest.tsx"],"names":["module","exports","ExcelUploadAPI","formData","axios","url","API","method","data","headers","res","Error","message","baseStyle","display","justifyContent","alignItems","flex","marginBottom","padding","height","width","cursor","textAlign","borderRadius","borderColor","borderStyle","backgroundColor","color","opacity","outline","transition","boxSizing","activeStyle","acceptStyle","rejectStyle","ExcelUploadTest","useState","files","setFiles","onChange","acceptedFiles","fileRejections","event","a","length","map","file","Object","assign","preview","URL","createObjectURL","FormData","append","uploadExcel","useDropzone","maxFiles","maxSize","accept","xls","noClick","noKeyboard","onDrop","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","open","style","useMemo","className","classes","PreFile","onClick","File_Added","i","File_Preview","InsertDriveFileOutlined","fontSize","path","clsx","RemoveButton"],"mappings":"gGACAA,EAAOC,QAAU,CAAC,WAAa,0BAA0B,eAAiB,8BAA8B,cAAgB,6BAA6B,QAAU,uBAAuB,aAAa,0BAA0B,aAAe,4BAA4B,aAAe,8B,8JCElQC,E,uIACnB,WAAgCC,GAAhC,gGAEsBC,IAAM,CACtBC,IAAI,GAAD,OAAKC,MAAL,SACHC,OAAQ,OACRC,KAAML,EACNM,QAAS,CACP,eAAgB,yBAPxB,cAEUC,EAFV,yBAUWA,GAVX,sCAYU,IAAIC,MAAM,KAAIC,SAZxB,yD,uECJWC,EAAiC,CAC5CC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,KAAM,EAENC,aAAc,OACdC,QAAS,OAETC,OAAQ,QACRC,MAAO,OAEPC,OAAQ,UAERC,UAAW,SAEXC,aAAc,MACdC,YAAa,UACbC,YAAa,SACbC,gBAAiB,WACjBC,MAAO,UAEPC,QAAS,MACTC,QAAS,OACTC,WAAY,0BACZC,UAAW,cAGAC,EAAmC,CAC9CR,YAAa,WAGFS,EAAmC,CAC9CT,YAAa,WAGFU,EAAmC,CAC9CV,YAAa,W,0BCuEAW,UA9FS,WACtB,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEMC,EAAQ,uCAAG,WAAOC,EAAeC,EAAgBC,GAAtC,eAAAC,EAAA,2DACXH,EAAcI,OAAS,GADZ,uBAEbN,EACEE,EAAcK,KAAI,SAACC,GAAD,OAChBC,OAAOC,OAAOF,EAAM,CAClBG,QAASC,IAAIC,gBAAgBL,UAK7B5C,EAAW,IAAIkD,UAEZC,OACP,OACAb,EAAcK,KAAI,SAACC,GAAD,OAChBC,OAAOC,OAAOF,EAAM,CAClBG,QAASC,IAAIC,gBAAgBL,QAE/B,IAlBS,SAqBP7C,EAAeqD,YAAYpD,GArBpB,2CAAH,0DAyBd,EAOIqD,YAAY,CACdC,SAAU,EACVC,QAAS,IACTC,OAAQ,CAAEC,IAAK,CAAC,OAAQ,UACxBC,SAAS,EACTC,YAAY,EACZC,OAAQvB,IAZRwB,EADF,EACEA,aACAC,EAFF,EAEEA,cACAC,EAHF,EAGEA,aACAC,EAJF,EAIEA,aACAC,EALF,EAKEA,aACAC,EANF,EAMEA,KAUIC,EAA6BC,mBACjC,8BAAC,uCACI1D,GADL,IAEEO,OAAQ,SACJ8C,EAAejC,EAAc,IAC7BkC,EAAejC,EAAc,IAC7BkC,EAAejC,EAAc,MAEnC,CAAC+B,EAAcE,EAAcD,IAG/B,OACE,qBAAKK,UAAU,OAAf,SACoB,IAAjBlC,EAAMO,OACL,qBAAK2B,UAAWC,IAAQC,QAASC,QAASN,EAA1C,SACE,gDAASL,EAAa,CAAEM,WAAxB,cACE,qCAAWL,MACX,sBAAKO,UAAWC,IAAQ,cAAxB,UACE,kDACA,8CAKN,qBAAKD,UAAWC,IAAQG,WAAxB,SACGtC,EAAMQ,KAAI,SAACC,EAAyC8B,GACnD,OACE,+BACE,mCACE,sBAAKL,UAAWC,IAAQK,aAAxB,UACE,sBAAKN,UAAU,4BAAf,UACE,cAACO,EAAA,EAAD,CAAyBC,SAAS,UAAW,IAC7C,4BAAIjC,EAAKkC,UAEX,cAAC,IAAD,CACET,UAAWU,kBAAK,OAAQT,IAAQU,cADlC,0BAPKN","file":"static/js/111.61c6a54e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"File_Added\":\"style_File_Added__1qi46\",\"Upload_Overlay\":\"style_Upload_Overlay__3J5a3\",\"image_preview\":\"style_image_preview__iDHMY\",\"PreFile\":\"style_PreFile__2sxG2\",\"input-text\":\"style_input-text__XPLrR\",\"File_Preview\":\"style_File_Preview__1HKkP\",\"RemoveButton\":\"style_RemoveButton__2UFuL\"};","import axios from \"axios\";\r\nimport { API } from \"../Backend\";\r\n\r\nexport default class ExcelUploadAPI {\r\n  public static async uploadExcel(formData: FormData) {\r\n    try {\r\n      const res = await axios({\r\n        url: `${API}/test`,\r\n        method: \"POST\",\r\n        data: formData,\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n      return res;\r\n    } catch (err) {\r\n      throw new Error(err.message);\r\n    }\r\n  }\r\n}\r\n","export const baseStyle: React.CSSProperties = {\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  flex: 1,\r\n\r\n  marginBottom: \"16px\",\r\n  padding: \"20px\",\r\n\r\n  height: \"244px\",\r\n  width: \"100%\",\r\n\r\n  cursor: \"pointer\",\r\n\r\n  textAlign: \"center\",\r\n\r\n  borderRadius: \"8px\",\r\n  borderColor: \"#B8BAC2\",\r\n  borderStyle: \"dashed\",\r\n  backgroundColor: \" #F2F3F7\",\r\n  color: \"#000000\",\r\n\r\n  opacity: \"0.5\",\r\n  outline: \"none\",\r\n  transition: \"border .24s ease-in-out\",\r\n  boxSizing: \"border-box\",\r\n};\r\n\r\nexport const activeStyle: React.CSSProperties = {\r\n  borderColor: \"#2196f3\",\r\n};\r\n\r\nexport const acceptStyle: React.CSSProperties = {\r\n  borderColor: \"#00e676\",\r\n};\r\n\r\nexport const rejectStyle: React.CSSProperties = {\r\n  borderColor: \"#ff1744\",\r\n};\r\n","import { InsertDriveFileOutlined } from \"@material-ui/icons\";\r\nimport clsx from \"clsx\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport ExcelUploadAPI from \"../../api/ExcelUpload\";\r\nimport { MuiCustomButton } from \"../../Components/exports\";\r\nimport {\r\n  baseStyle,\r\n  activeStyle,\r\n  acceptStyle,\r\n  rejectStyle,\r\n} from \"../../Styles/dropzoneStyles\";\r\nimport classes from \"./style.module.css\";\r\n\r\nconst ExcelUploadTest = () => {\r\n  const [files, setFiles] = useState([]);\r\n\r\n  const onChange = async (acceptedFiles, fileRejections, event) => {\r\n    if (acceptedFiles.length > 0) {\r\n      setFiles(\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      );\r\n\r\n      const formData = new FormData();\r\n\r\n      formData.append(\r\n        \"file\",\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )[0]\r\n      );\r\n\r\n      await ExcelUploadAPI.uploadExcel(formData);\r\n    }\r\n  };\r\n\r\n  const {\r\n    getRootProps,\r\n    getInputProps,\r\n    isDragActive,\r\n    isDragAccept,\r\n    isDragReject,\r\n    open,\r\n  } = useDropzone({\r\n    maxFiles: 1,\r\n    maxSize: 3e6,\r\n    accept: { xls: [\".xls\", \".xlsx\"] },\r\n    noClick: true,\r\n    noKeyboard: true,\r\n    onDrop: onChange,\r\n  });\r\n\r\n  const style: React.CSSProperties = useMemo(\r\n    () => ({\r\n      ...baseStyle,\r\n      height: \"120px\",\r\n      ...(isDragActive ? activeStyle : {}),\r\n      ...(isDragAccept ? acceptStyle : {}),\r\n      ...(isDragReject ? rejectStyle : {}),\r\n    }),\r\n    [isDragActive, isDragReject, isDragAccept]\r\n  );\r\n\r\n  return (\r\n    <div className=\"mt-2\">\r\n      {files.length === 0 ? (\r\n        <div className={classes.PreFile} onClick={open}>\r\n          <div {...getRootProps({ style })}>\r\n            <input {...getInputProps()} />\r\n            <div className={classes[\"input-text\"]}>\r\n              <h1>Upload XLSX file</h1>\r\n              <p>XLSX</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className={classes.File_Added}>\r\n          {files.map((file: { preview: string; path: string }, i) => {\r\n            return (\r\n              <span key={i}>\r\n                <>\r\n                  <div className={classes.File_Preview}>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <InsertDriveFileOutlined fontSize=\"large\" />{\" \"}\r\n                      <p>{file.path}</p>\r\n                    </div>\r\n                    <MuiCustomButton\r\n                      className={clsx(\"mt-1\", classes.RemoveButton)}\r\n                    >\r\n                      Remove\r\n                    </MuiCustomButton>\r\n                  </div>\r\n                </>\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExcelUploadTest;\r\n"],"sourceRoot":""}
(this.webpackJsonpeasysocial=this.webpackJsonpeasysocial||[]).push([[114],{2382:function(e,t,n){e.exports={PlanSummary:"OrderSummary_PlanSummary__YMnmh",Parent:"OrderSummary_Parent__2Sc79",Billing_Detail:"OrderSummary_Billing_Detail__166m7",Summary_Title:"OrderSummary_Summary_Title__Z_rDp",Detail:"OrderSummary_Detail__3y4-4",Sub:"OrderSummary_Sub__2dThl",section:"OrderSummary_section__2HtFS",Plan_Dropdown:"OrderSummary_Plan_Dropdown__3eqvU",Toggle_DropDown:"OrderSummary_Toggle_DropDown__34tsf",Total_Amount:"OrderSummary_Total_Amount__2DY_0"}},2482:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(28),s=n(25),o=n(21),i=n(44),c=n(45),l=n(0),d=n.n(l),u=n(2382),p=n.n(u),h=n(43),g=n(18),j=n(40),m=n(110),b=n(224),O=n(106),x=n(34),f=n(171),y=n(146),S=n(54),D=n(2),_=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={userData:{promo:{value:"",elementType:"text",required:!0,type:"Promo",placeholder:"Enter Code",id:1},gst:{value:"",elementType:"text",required:!0,type:"GST",maxLength:12,minLength:12,placeholder:"Enter GST Number",id:2}},plan:null,showGST:!1,Toggle_DropDown:!1,address:null,gstPercentage:18,gstPercentage2:1.18},e.inputChangedHandler=function(t,n){var s=e.state.userData,o=Object(x.l)(s[n],{value:t.target.value}),i=Object(x.l)(s,Object(r.a)({},n,o));e.setState(Object(a.a)(Object(a.a)({},e.state),{},{userData:i}))},e.onKeyPressHandler=function(t){13===t.keyCode&&(t.target.value.length<1?alert("Enter Something!"):t.target.name===e.state.userData.promo.type?e.state.plan.amount>0?e.props.validateCouponCode(e.state.userData.promo.value):alert("This coupon code is not eligible on this plan!"):t.target.name===e.state.userData.gst.type&&e.setState(Object(a.a)(Object(a.a)({},e.state),{},{showGST:!0})))},e.storeAddressOnSession=function(){sessionStorage.getItem("address"),sessionStorage.setItem("address",JSON.stringify(e.state.address))},e.orderHandler=function(t,n,a){e.props.orderHandler(e.props.couponDetail.discounted_amount?e.props.couponDetail.discounted_amount*e.state.gstPercentage2:t&&t.amount*e.state.gstPercentage2,n,new Date(JSON.parse(sessionStorage.getItem("renewDetail")).expiry),JSON.parse(sessionStorage.getItem("renewDetail")).businessId,e.props.couponDetail,e.state.showGST&&e.state.userData.gst.value,e.props.history,e.state.gstPercentage,a,e.context)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.startLoading();var t=null;sessionStorage.getItem("renewDetail")&&(t=JSON.parse(sessionStorage.getItem("renewDetail")).planId,Object(m.b)(t).then((function(t){e.setState(Object(a.a)(Object(a.a)({},e.state),{},{plan:t.data}))})).catch((function(t){return e.props.error(t)}))),Object(f.b)().then((function(t){e.setState(Object(a.a)(Object(a.a)({},e.state),{},{address:Object(a.a)(Object(a.a)({},t.data),{},{latitude:null,longitude:null})})),e.props.cancelLoading()})).catch((function(t){return e.props.error(t)}));var n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",document.getElementsByTagName("head")[0].appendChild(n)}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this;if(!sessionStorage.getItem("renewDetail"))return Object(D.jsx)(j.Redirect,{to:"/user/payments/renewals"});var t=[];for(var n in this.state.userData)t.push({id:n,config:this.state.userData[n]});var r=this.state,s=r.plan,o=r.address,i=null,c=null;s&&(i=Object.keys(s.details),c=Object.values(s.details));var l=this.state.Toggle_DropDown?[p.a.Plan_Dropdown,p.a.Toggle_DropDown]:[p.a.Plan_Dropdown];return Object(D.jsx)("section",{className:p.a.PlanSummary,children:Object(D.jsx)(b.a,{Header_Text:"Order Summary",children:Object(D.jsxs)("div",{className:p.a.Parent,children:[Object(D.jsxs)("div",{className:p.a.Billing_Detail,children:[o&&Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:Object(D.jsx)("h1",{children:o.business_name})}),Object(D.jsxs)("p",{children:[o.locality,", ",o.state,", ",o.city,","," ",o.pincode]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:s&&s.name}),Object(D.jsxs)("span",{children:[Object(D.jsxs)("p",{children:["\u20b9",s&&s.amount.toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),"/Month"]}),Object(D.jsxs)("h6",{style:{fontSize:"11px"},onClick:function(){return e.setState(Object(a.a)(Object(a.a)({},e.state),{},{Toggle_DropDown:!e.state.Toggle_DropDown}))},children:["View Details","  ",Object(D.jsx)("i",{className:"fa fa-angle-".concat(this.state.Toggle_DropDown?"up":"down"),style:{fontSize:"15px"}})]})]}),Object(D.jsxs)("div",{className:l.join(" "),children:[Object(D.jsx)("div",{children:i&&i.map((function(e,t){return Object(D.jsx)("h1",{children:e},t)}))}),Object(D.jsx)("div",{children:c&&c.map((function(e,t){return Array.isArray(e)?Object(D.jsx)("p",{children:e.join(" ")},t):Object(D.jsx)("p",{children:e},t)}))})]})]})]}),Object(D.jsx)("div",{className:p.a.Summary_Title,children:Object(D.jsx)("h1",{children:"Price Detail"})}),Object(D.jsxs)("div",{className:p.a.Detail,children:[Object(D.jsxs)("div",{className:p.a.Sub,children:[Object(D.jsx)("h3",{children:s&&s.name}),Object(D.jsxs)("h3",{children:["\u20b9"," ",s&&s.amount.toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")]})]}),s&&s.amount>0&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:p.a.Sub,children:[Object(D.jsx)("h3",{children:"Discount Promo"}),this.props.couponDetail.discount?Object(D.jsxs)("h3",{style:{color:"#1bb954"},children:["-\u20b9",this.props.couponDetail.discount.toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")]}):Object(D.jsx)(O.a,{type:t[0].config.elementType,name:t[0].config.type,value:t[0].config.value,inputChangedHandler:this.inputChangedHandler,id:t[0].id,placeholder:t[0].config.placeholder,required:t[0].config.required,onKeyPressHandler:this.onKeyPressHandler}),this.props.couponDetail.discount&&Object(D.jsxs)("p",{style:{borderRadius:"4px",marginTop:"5px",width:"fit-content",fontSize:"13px",fontWeight:"normal",color:"#7b8aa2",backgroundColor:"#f2f3f7",padding:"5px"},children:[this.state.userData.promo.value.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),"   ",Object(D.jsx)("span",{style:{fontWeight:"bold",color:"black"},onClick:this.props.resetCouponField,children:"X"})]}),this.props.couponDetail.error&&Object(D.jsxs)("p",{style:{color:"red",fontSize:"13px",fontWeight:"normal",marginTop:"-10px",backgroundColor:"#f2f3f7",padding:"5px",width:"fit-content"},children:[this.props.couponDetail.error,"!"]})]}),Object(D.jsxs)("div",{className:p.a.Sub,children:[Object(D.jsx)("h3",{children:"Tax GST"}),Object(D.jsx)("h3",{children:this.props.couponDetail.discounted_amount?"\u20b9".concat(this.props.couponDetail.discounted_amount*this.state.gstPercentage2-this.props.couponDetail.discounted_amount):"\u20b9".concat(s&&s.amount*this.state.gstPercentage2-s.amount)})]}),Object(D.jsxs)("div",{className:p.a.Sub,style:this.state.showGST?{display:"grid",gridTemplateColumns:"65% 35%"}:{display:"grid",gridTemplateColumns:"50% 50%"},children:[Object(D.jsx)("h3",{children:"Enter GST"}),this.state.showGST?Object(D.jsxs)("h3",{style:{borderRadius:"4px",marginTop:"3px",fontSize:"15px",fontWeight:"normal",color:"#7b8aa2",backgroundColor:"#f2f3f7",padding:"5px"},children:[this.state.userData.gst.value," ",Object(D.jsx)("span",{style:{fontWeight:"bold",color:"black"},onClick:function(){return e.setState(Object(a.a)(Object(a.a)({},e.state),{},{showGST:!1}))},children:"X"})]}):Object(D.jsx)(O.a,{type:t[1].config.elementType,name:t[1].config.type,value:t[1].config.value,inputChangedHandler:this.inputChangedHandler,id:t[1].id,placeholder:t[1].config.placeholder,onKeyPressHandler:this.onKeyPressHandler,required:t[1].config.required,maxLength:t[1].config.maxLength,minLength:t[1].config.minLength})]})]})]}),Object(D.jsxs)("div",{className:p.a.Total_Amount,children:[Object(D.jsx)("h1",{children:"Total Payable Amount"}),Object(D.jsxs)("span",{children:[Object(D.jsx)("h1",{children:this.props.couponDetail.discounted_amount?"\u20b9".concat((this.props.couponDetail.discounted_amount*this.state.gstPercentage2).toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")):"\u20b9".concat(s&&(s.amount*this.state.gstPercentage2).toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","))}),Object(D.jsx)("h6",{children:"Monthly"})]})]}),Object(D.jsxs)(y.a,{onClick:function(){var t=s.amount*(e.state.gstPercentage/100);e.orderHandler(s,s.planId,t)},children:["Pay"," ",this.props.couponDetail.discounted_amount?"\u20b9".concat((this.props.couponDetail.discounted_amount*this.state.gstPercentage2).toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")):"\u20b9".concat(s&&(s.amount*this.state.gstPercentage2).toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","))]})]})})})}}]),n}(d.a.Component);_.contextType=S.a;t.default=Object(h.b)((function(e){return{gst:e.auth.gst,userId:e.auth.userId,couponDetail:e.auth.couponDetail}}),(function(e){return{validateCouponCode:function(t){return e(g.ib(t))},validatePlan:function(){return e(g.jb())},resetCouponField:function(){return e(g.G())},orderHandler:function(t,n,a,r,s,o,i,c,l,d){return e(g.F(t,n,a,r,s,o,i,c,l,d))},startLoading:function(){return e(g.T())},cancelLoading:function(){return e(g.e())},error:function(t){return e(g.n(t))}}}))(_)}}]);
//# sourceMappingURL=114.be2b58bb.chunk.js.map
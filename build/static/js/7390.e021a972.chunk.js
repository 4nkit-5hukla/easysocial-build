"use strict";(self.webpackChunkeasysocial=self.webpackChunkeasysocial||[]).push([[7390],{9862:function(e,n,t){t.d(n,{$5:function(){return $e},Ac:function(){return ye},B_:function(){return Ze},Br:function(){return sn},CS:function(){return pe},DU:function(){return C},Dj:function(){return G},Dy:function(){return _e},Ed:function(){return B},FO:function(){return an},Gh:function(){return R},H8:function(){return he},HU:function(){return je},Ip:function(){return H},KR:function(){return ie},KT:function(){return O},Kk:function(){return Xe},Lx:function(){return ln},Mj:function(){return le},Ol:function(){return Fe},P0:function(){return W},Qm:function(){return D},RC:function(){return rn},T9:function(){return We},UE:function(){return Ve},UW:function(){return ke},VY:function(){return Z},Vo:function(){return U},W9:function(){return Pe},Wi:function(){return be},Xi:function(){return X},YH:function(){return Be},Zq:function(){return me},_8:function(){return oe},_D:function(){return A},_e:function(){return L},aN:function(){return re},aV:function(){return Me},aq:function(){return De},av:function(){return te},bQ:function(){return q},be:function(){return K},bi:function(){return $},dE:function(){return E},ef:function(){return qe},en:function(){return Se},ey:function(){return on},fI:function(){return Y},fN:function(){return Ce},fW:function(){return Ye},fv:function(){return b},gN:function(){return He},gq:function(){return Ie},hm:function(){return M},iC:function(){return N},im:function(){return m},iw:function(){return ee},jB:function(){return y},je:function(){return en},jo:function(){return w},kV:function(){return Ae},kh:function(){return Q},lN:function(){return ve},m8:function(){return Ge},mn:function(){return Ee},n2:function(){return Le},nv:function(){return V},ny:function(){return tn},oU:function(){return de},oX:function(){return ce},og:function(){return I},pw:function(){return J},q7:function(){return z},qD:function(){return Oe},r3:function(){return Je},rV:function(){return _},sQ:function(){return Re},s_:function(){return fe},sb:function(){return T},sm:function(){return j},sv:function(){return S},tg:function(){return ue},ub:function(){return nn},vd:function(){return F},vs:function(){return se},w2:function(){return ae},we:function(){return Qe},xI:function(){return xe},xz:function(){return P},y7:function(){return ne},yE:function(){return k},yW:function(){return v},z:function(){return we}});var r=t(1413),i=t(5987),o=t(2791),a=t(4554),l=t(6151),s=t(3457),u=t(113),c=t(184),d=["children","statusColor","sx"],f=["children","sx"],p=["children","type","color","icon","sx"],x=["children","sx"],h=["children","sx"],g=["children","type","color","variant","disableIcon","disabled","icon","sx"],m=(0,s.Z)("div")({alignItems:"stretch",background:"radial-gradient(63.05% 113.84% at 94.71% 94.68%, #ECF5FF 4.4%, #F5F7F9 100%)",display:"flex",height:"100vh",justifyContent:"flex-start"}),b={background:{xs:"#ffffff",md:"radial-gradient(63.05% 113.84% at 94.71% 94.68%, #ECF5FF 4.4%, #F5F7F9 100%)"}},Z=(0,s.Z)("div")({flex:"1 1 auto",height:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),v=(0,s.Z)("div")({alignItems:"center",backgroundColor:"#ffffff",borderBottom:"1px solid #24272c1a",display:"flex",gap:20,height:70,justifyContent:"space-between",left:0,padding:20,position:"relative",top:0,width:"100%",zIndex:1010}),w={position:{xs:"fixed",md:"relative"}},y=(0,s.Z)("div")({alignItems:"center",backgroundColor:"#ffffff",borderTop:"1px solid #24272c1a",bottom:0,display:"flex",flexDirection:"column",minHeight:72,justifyContent:"center",left:0,paddingTop:10,paddingRight:20,paddingBottom:10,paddingLeft:20,position:"fixed",width:"100%",zIndex:1010}),j=(0,s.Z)("div")({display:"flex",flexDirection:"column"}),F=(0,s.Z)("div")({display:"flex",justifyContent:"flex-end"}),C=(0,s.Z)("div")({alignItems:"center",display:"flex",marginTop:10,marginBottom:10}),k=(0,s.Z)("div")({maxWidth:"calc(100% - 96px)",flexShrink:1}),S=(0,s.Z)("div")({display:"flex",flexGrow:1,justifyContent:"flex-end"}),I=(0,s.Z)("h2")({color:"#24272c",fontSize:18,fontWeight:500,lineHeight:"21px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),D=(0,s.Z)("div")({alignItems:"flex-start",display:"flex",flex:"1 1 0",flexDirection:"column"}),R=(0,s.Z)("h1")({color:"#24272c",fontSize:24,fontWeight:500,lineHeight:"28px",marginRight:"auto"}),W=(0,s.Z)("h4")({color:"#24272c",flexGrow:1,fontWeight:700,fontSize:18,lineHeight:"21px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),B=(0,s.Z)("h5")({color:"#000000",fontWeight:700,fontSize:14,lineHeight:"16px"}),E=(0,s.Z)("p")({color:"#000000",fontWeight:400,fontSize:14,lineHeight:"16px",marginBottom:16}),M=(0,s.Z)("div")({height:"max-content",display:"inline-flex",width:"100%",paddingTop:0,paddingBottom:0,paddingLeft:30,paddingRight:30,marginLeft:"auto",marginRight:"auto",justifyContent:"center"}),T=(0,s.Z)("div")({alignItems:"center",display:"flex",justifyContent:"center"}),z={pt:{xs:8.75,md:0},pb:{xs:9,md:0}},H=(0,s.Z)("div")({display:"flex",flexDirection:"column",rowGap:36,maxWidth:650,width:"100%"}),L={py:{xs:0,md:6.25}},G=(0,s.Z)("div")({display:"flex",flexDirection:"column",height:"100%",maxWidth:"100%"}),_=(0,s.Z)("div")({display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",margin:"0 auto",minHeight:230,maxWidth:400,rowGap:24,width:"100%"}),A=(0,s.Z)("div")({textAlign:"center"}),N=(0,s.Z)("div")({color:"#24272C",textAlign:"center"}),O=(0,s.Z)("div")({gap:24,display:"flex",overflowX:"auto",justifyContent:"flex-start",scrollbarWidth:"none",scrollbarHeight:"none","&::-webkit-scrollbar":{height:0}}),V=(0,s.Z)("div")({gap:24,display:"flex",justifyContent:"space-between"}),q=function(e){var n=e.children,t=e.statusColor,o=void 0===t?"#0000001c":t,l=e.sx,s=(0,i.Z)(e,d);return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({bgcolor:"#FFFFFF",display:"flex",flex:{xs:"1 0 auto",sm:"1 1 0"},flexDirection:"column",justifyContent:"center",gap:1.75,alignItems:"flex-end",boxShadow:"0px 1px 20px ".concat("#0000001c"!==o?"rgba(18, 176, 238, 0.15)":"rgba(0, 0, 0, 0.15)"),border:"0.2px solid rgba(36, 39, 44, 0.05)",borderRadius:2,overflow:"hidden",padding:1.25,position:"relative",maxWidth:"calc((100% / 3) - 48px)",maxHeight:70,sx:(0,r.Z)({transition:"box-shadow 0.2s ease-in-out",minWidth:{xs:180,sm:177,lg:175},"&::before":{content:"''",top:0,left:0,width:0,height:"100%",display:"block",position:"absolute",borderLeft:"8px solid ".concat(o)},"&:hover":{border:"0.2px solid #12B0EE",boxShadow:"0px 1px 20px 10px rgba(18, 176, 238, 0.15)"}},l||{})},s),{},{children:n}))},P=function(e){var n=e.children,t=e.sx,o=(0,i.Z)(e,f);return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({bgcolor:"#FFFFFF",display:"flex",flex:"1 1 0",flexDirection:"column",justifyContent:"flex-start",gap:2,boxShadow:"0 1px 20px 0 rgba(18, 176, 238, 0.15)",border:"0.2px solid transparent",borderRadius:2,paddingTop:1.5,paddingX:1.25,paddingBottom:2,sx:(0,r.Z)({transition:"box-shadow 0.2s ease-in-out","&:hover":{border:"0.2px solid #12B0EE",boxShadow:"0 1px 20px 10px rgba(50, 197, 255 , 0.15)"}},t||{})},o),{},{children:n}))},Y=(0,s.Z)("div")({display:"flex",gap:5}),K=(0,s.Z)("div")({alignItems:"flex-start",display:"flex",flexDirection:"column",gap:5}),U=(0,s.Z)("h3")({color:"#24272C",fontSize:14,fontWeight:500,lineHeight:"16px",flex:"1 1 0"}),X=(0,s.Z)("h4")({color:"#24272C",fontSize:20,fontWeight:700,lineHeight:"23px",minWidth:30}),Q=(0,s.Z)("h4")({color:"#24272C80",fontSize:12,fontWeight:400,lineHeight:1,minWidth:50}),$=(0,s.Z)("h3")({color:"#24272C",fontSize:18,lineHeight:1}),J=(0,s.Z)("div")({alignItems:"center",display:"flex",gap:5}),ee=(0,s.Z)("span")({color:"#82868B",fontSize:14,fontWeight:500,lineHeight:"16px"}),ne=(0,s.Z)("p")({color:"#24272CB3",fontSize:15,fontWeight:400,lineHeight:"18px"}),te=(0,s.Z)("p")({alignItems:"center",color:"#24272C",display:"flex",fontSize:9,fontWeight:500,justifyContent:"center",lineHeight:"11px",textAlign:"center"}),re=(0,s.Z)("form")({paddingTop:20,paddingRight:30,paddingBottom:90,paddingLeft:30,flex:"1 0 0",overflowY:"auto"}),ie=(0,s.Z)("div")({paddingTop:20,paddingRight:30,paddingBottom:90,paddingLeft:30,flex:"1 0 0",overflowY:"auto"}),oe=(0,s.Z)("div")({display:"flex",width:"100%"}),ae=(0,s.Z)("div")({alignItems:"center",display:"block",width:"100%",position:"relative"}),le=(0,s.Z)("input")({backgroundColor:"#FFFFFF",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:20,flexGrow:1,fontSize:16,height:40,outline:"none",paddingRight:40,paddingLeft:40,width:"100%"}),se=(0,s.Z)("div")({display:"flex",flexDirection:"column",rowGap:36,maxWidth:650,paddingTop:50,paddingBottom:50,width:"100%"}),ue=(0,s.Z)("div")({display:"flex",flexDirection:"column",rowGap:18,maxWidth:400}),ce=(0,s.Z)("form")({display:"flex",flexDirection:"column",rowGap:36,maxWidth:650,paddingTop:50,paddingBottom:50,width:"100%"}),de=(0,s.Z)("div")({border:"1px solid #DEE2EA",height:"max-content",boxShadow:"2px 4px 8px 5px rgb(0, 0, 0, 0.1)",borderRadius:4,backgroundColor:"#FFFFFF",maxWidth:300,marginLeft:"auto",marginRight:"auto",marginBottom:30,padding:15,width:"100%"}),fe=(0,s.Z)("div")({width:"100%",display:"flex",overflow:"hidden",position:"relative",minHeight:130,alignItems:"center",borderTopLeftRadius:1,borderTopRightRadius:1,marginBottom:24,justifyContent:"center",backgroundColor:"#C4C4C4"}),pe=(0,s.Z)("ul")({listStyle:"none",marginTop:35}),xe=(0,s.Z)("ul")({listStyle:"none",marginBottom:24}),he=(0,s.Z)("h5")({color:"#434A54",fontSize:16,fontWeight:500,lineHeight:"19px",marginBottom:10}),ge={borderRadius:1,color:"#ffffff",height:48,px:1.25,fontSize:12,columnGap:1.25,fontWeight:700,lineHeight:"14px",textTransform:"initial"},me=(0,r.Z)((0,r.Z)({},ge),{},{bgcolor:"#4267B2","&:hover":{bgcolor:"#4267B2"}}),be=((0,r.Z)((0,r.Z)({},ge),{},{bgcolor:"#1DA1F2","&:hover":{bgcolor:"#1DA1F2"}}),(0,r.Z)((0,r.Z)({},ge),{},{bgcolor:"#0077b5","&:hover":{bgcolor:"#0077b5"}})),Ze={objectFit:"cover",objectPosition:"center",width:"100%"},ve={width:"100%",display:"flex",overflow:"hidden",position:"relative",minHeight:130,alignItems:"center",borderTopLeftRadius:4,borderTopRightRadius:4,marginBottom:3,justifyContent:"center",backgroundColor:"#C4C4C4"},we=(0,s.Z)("div")({color:"#767676",height:"max-content",fontSize:16,fontWeight:700,lineHeight:1,marginBottom:5}),ye=(0,s.Z)("div")({color:"#767676",height:"max-content",fontSize:14,fontWeight:400,lineHeight:"16px",marginBottom:12}),je=(0,s.Z)("div")({color:"#76767680",fontSize:12,fontWeight:500,lineHeight:"16px",marginBottom:20}),Fe=(0,s.Z)("div")({display:"flex",marginBottom:30}),Ce=(0,s.Z)("h2")({color:"#24272C",fontSize:18,fontWeight:500,lineHeight:"21px",marginBottom:30}),ke=(0,s.Z)("h5")({color:"#82858B",fontSize:12,fontWeight:500,lineHeight:"16px"}),Se=(0,s.Z)("div")({display:"flex",justifyContent:"center"}),Ie=(0,s.Z)("div")({display:"flex",columnGap:35,rowGap:30}),De={flexDirection:{xs:"column-reverse",md:"row"}},Re={columnGap:2.25,rowGap:0,flexDirection:{xs:"column-reverse",md:"row"}},We=(0,s.Z)("div")({flex:"0 0 auto"}),Be={width:{xs:"100%",md:"calc((100% - 18px)/2)"}},Ee=(0,s.Z)("div")({flexGrow:1}),Me=(0,s.Z)("div")({flexShrink:1}),Te={mb:3.75},ze={position:"relative",mb:1.75},He=function(e){var n=e.children,t=e.sx;return(0,c.jsx)(a.Z,{sx:t||Te,children:n})},Le=function(e){var n=e.children,t=e.sx;return(0,c.jsx)(a.Z,{sx:t||ze,children:n})},Ge=(0,s.Z)("h4")({color:"#24272c",fontSize:16,fontWeight:500,lineHeight:"19px"}),_e=(0,s.Z)("div")({alignItems:"center",display:"flex",gap:30,justifyContent:"flex-end"}),Ae=(0,s.Z)("span")({color:"#24272c",fontSize:12,fontWeight:400,lineHeight:"14px"}),Ne={bgcolor:"transparent",bottom:5,borderRadius:1,color:"#12B0EE",columnGap:1.25,display:"flex",fontSize:12,fontWeight:400,height:22,left:10,lineHeight:"14px",position:"absolute",px:.625,py:.5,"&:hover":{bgcolor:"transparent"},"&.Mui-disabled":{bgcolor:"transparent"}},Oe=function(e){var n=e.children,t=e.type,o=void 0===t?"button":t,a=e.color,s=void 0===a?"inherit":a,u=(e.icon,e.sx),d=(0,i.Z)(e,p);return(0,c.jsx)(l.Z,(0,r.Z)((0,r.Z)({type:o,color:s,sx:"inherit"===s?(0,r.Z)({},Ne):u},d),{},{children:n}))},Ve=function(e){var n=e.children,t=e.sx,o=(0,i.Z)(e,x);return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({display:"flex",justifyContent:"space-between",gap:.75,flexWrap:"wrap",sx:t||{}},o),{},{children:n}))},qe={alignItems:"center",bgcolor:"#ffffff",border:"1px solid #DEE2EA",borderRadius:2,flex:"1 1 auto",fontSize:14,fontWeight:500,gap:.625,height:40,justifyContent:"center",lineHeight:"16px",py:0,px:.625,textTransform:"initial",overflow:"hidden",textAlign:"left",whiteSpace:"nowrap",textOverflow:"ellipsis","&:hover":{bgcolor:"#ffffff",border:"1px solid #DEE2EA"}},Pe=function(e){var n=e.children,t=e.sx,o=(0,i.Z)(e,h);return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({display:"flex",justifyContent:"flex-end",columnGap:1.75,alignItems:"flex-end",sx:t||{}},o),{},{children:n}))},Ye={bgcolor:"#ffffff",color:"#12B0EE",borderRadius:2,boxShadow:"0px 8px 8px rgba(50, 197, 255, 0.1)",columnGap:1,display:"inline-flex",fontWeight:500,fontSize:14,lineHeight:1.75,marginTop:2.25,marginBottom:1.125,textTransform:"uppercase","&:hover":{bgcolor:"#ffffff"}},Ke={bgcolor:"#12B0EE",color:"#ffffff",columnGap:1.25,display:"flex",fontSize:16,height:48,mt:2.5,px:2.5,py:1.875,"&:hover":{bgcolor:"#12B0EE"}},Ue={color:"#ffffff",columnGap:1.25,display:"flex",fontSize:16,height:48,mt:2.5,px:2.5,py:1.875},Xe=function(e){var n=e.children,t=e.type,a=void 0===t?"button":t,s=e.color,d=void 0===s?"inherit":s,f=e.variant,p=e.disableIcon,x=void 0!==p&&p,h=e.disabled,m=e.icon,b=e.sx,Z=(0,i.Z)(e,g);return(0,c.jsxs)(l.Z,(0,r.Z)((0,r.Z)({type:a,color:d,variant:f,disabled:h,sx:"outlined"!==f?(0,r.Z)((0,r.Z)({},"inherit"===d?(0,r.Z)({},Ke):(0,r.Z)({},Ue)),b):(0,r.Z)({},b)},Z),{},{children:[n,!x&&(0,c.jsx)(o.Fragment,{children:m||(0,c.jsx)(u.ol,{color:h?"#00000042":"#ffffffff"})})]}))},Qe={bgcolor:{xs:"transparent",md:"#ffffff"},borderRadius:{md:2.5,xs:0},boxShadow:{md:"0px 0px 20px 1px rgba(0, 0, 0, 0.1)",xs:"none"},overflow:{xs:"visible"}},$e={alignItems:{xs:"center",md:"flex-end"},bgcolor:"#12B0EE",borderRadius:2.5,boxShadow:"0px 0px 20px 1px rgba(0, 0, 0, 0.1)",height:{md:190},display:"flex",flexDirection:{xs:"column",md:"row"},overflow:{md:"visible"},paddingTop:4.375,paddingRight:2.25,paddingBottom:2,paddingLeft:2.25,columnGap:1.25,rowGap:1.25,marginTop:.5},Je=(0,s.Z)("div")({display:"flex",flexGrow:1,flexDirection:"column"}),en=(0,s.Z)("div")({display:"flex",alignItems:"flex-end"}),nn={justifyContent:{xs:"flex-end",md:"space-between"}},tn={p:{xs:"0 !important"},pt:{md:"30px !important"},px:{md:"36px !important"},pb:{md:"40px !important"}},rn={bgcolor:"#F2F3F7","& .MuiFilledInput-root:hover,& .MuiFilledInput-root.Mui-focused":{bgcolor:"#F2F3F7"},borderRadius:2,height:52,"& .MuiInputAdornment-root":{"& .MuiIconButton-root":{p:0,borderRadius:0}}},on={bgcolor:"#F2F3F7","& .MuiFilledInput-root:hover,& .MuiFilledInput-root.Mui-focused":{bgcolor:"#F2F3F7"},borderRadius:2,height:52},an=(0,r.Z)((0,r.Z)({},on),{},{height:"100%","& .MuiFilledInput-root":{py:2.5,px:1.5}}),ln={bgcolor:"#F2F3F7",borderRadius:2,"&.MuiInputBase-root:hover, & .MuiFilledInput-root.Mui-focused":{bgcolor:"#F2F3F7"}},sn={bgcolor:"#F2F3F7","& .MuiFilledInput-root:hover, & .MuiFilledInput-root:focus, & .MuiFilledInput-root.Mui-focused":{bgcolor:"#F2F3F7"},borderRadius:2,height:52}},7390:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var r=t(4165),i=t(5861),o=t(885),a=t(2791),l=t(6907),s=t(3504),u=t(3400),c=t(7621),d=t(9504),f=t(4721),p=t(9709),x=t(221),h=t(8924),g=t(752),m=t(1377),b=t(9862),Z=t(113),v=t(5021),w=t(9900),y=t(1918),j=t(7064),F=t(1715),C=t(3786),k=t(5574),S=t(5661),I=t(9157),D=t(7123),R=t(6151),W=t(7235),B=t(184),E=function(e){var n=(0,g.s)(),t=n.setErrorMessage,l=n.setSuccessMessage,s=e.title,c=e.description,d=e.ruleId,f=(0,a.useState)(null),p=(0,o.Z)(f,2),h=p[0],m=p[1],b=(0,a.useState)(!1),Z=(0,o.Z)(b,2),E=Z[0],M=Z[1],T=function(){M(!1)},z=function(){m(null)},H=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.deleteLeadDistributionRule(d);case 3:if((n=e.sent).success){e.next=6;break}throw Error(n.message);case 6:l(n.message),setTimeout((function(){return window.location.reload()}),1e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t(e.t0.message);case 13:return e.prev=13,T(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return(0,B.jsxs)(a.Fragment,{children:[(0,B.jsxs)(v.ZP,{component:"div",sx:{px:{xs:0,md:2}},children:[(0,B.jsx)(w.Z,{primary:(0,B.jsxs)("div",{className:"primary-block",children:[(0,B.jsx)("h2",{className:"list-title",children:s}),(0,B.jsx)(y.Z,{label:c,className:"status-chip",size:"small",sx:{backgroundColor:"#12B0EE",alignItems:"center",color:"#ffffff",borderRadius:1,height:20,"& .MuiChip-label":{px:.5,fontSize:10,fontWeight:900,lineHeight:"12px"}}})]}),sx:{"& .primary-block":{alignItems:"center",display:"flex",flexWrap:"wrap",gap:1.25,marginBottom:.75,"& .list-title":{color:"text.secondary",fontSize:15,fontWeight:500,lineHeight:"18px"}}}}),(0,B.jsx)(j.Z,{children:(0,B.jsx)(u.Z,{onClick:function(e){m(e.currentTarget)},children:(0,B.jsx)(W.Z,{})})})]}),Boolean(h)&&(0,B.jsx)(F.Z,{anchorEl:h,open:Boolean(h),onClose:z,keepMounted:!0,MenuListProps:{"aria-labelledby":"Options"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{minWidth:120}},children:(0,B.jsx)(C.Z,{onClick:function(){M(!0),z()},children:"Delete"})}),(0,B.jsxs)(k.Z,{open:E,"aria-labelledby":"responsive-dialog-title",children:[(0,B.jsx)(S.Z,{id:"responsive-dialog-title",children:"Delete"}),(0,B.jsx)(I.Z,{children:"Are you sure you want to delete?"}),(0,B.jsxs)(D.Z,{children:[(0,B.jsx)(R.Z,{color:"secondary",onClick:function(){T()},children:"Cancel"}),(0,B.jsx)(R.Z,{onClick:(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:case"end":return e.stop()}}),e)}))),autoFocus:!0,children:"Delete"})]})]})]})},M=function(){var e=(0,m.O0)().totalLdRules,n=(0,m.Bn)().setShowLdrForm;return(0,B.jsxs)(b.sm,{children:[(0,B.jsx)(b.vd,{children:(0,B.jsx)(b.Kk,{disableIcon:!0,type:"button",onClick:function(){return n(!0)},sx:{py:0,px:.625,height:36,mt:0},children:"New Lead Distribution Rule"})}),(0,B.jsx)(b.DU,{children:(0,B.jsx)(b.yE,{children:(0,B.jsx)(b.og,{children:"".concat(e," Lead Distribution Rules")})})})]})},T=t(2982),z=t(1413),H=t(5987),L=t(3974),G=t(890),_=t(2343),A=t(4280),N=t(3239),O=t(1134),V=t(341),q=t(5641),P=["children"],Y=(0,a.forwardRef)((function(e,n){var t=e.children,r=(0,H.Z)(e,P),i=(0,a.useRef)(null);return(0,a.useImperativeHandle)(n,(function(){return i.current})),(0,B.jsx)("ul",(0,z.Z)((0,z.Z)({},r),{},{ref:i,role:"list-box",children:t}))})),K=function(e){var n=e.open,t=e.closeDrawer,l=(0,g.s)(),s=l.setErrorMessage,c=l.setSuccessMessage,d=(0,m.O0)(),f=d.teamMembers,p=d.leadDataFields,h=d.teamMembersTotal,v=(0,m.Bn)(),w=v.setTeamMembers,y=v.setTeamMembersTotal,j=(0,a.useState)(!1),F=(0,o.Z)(j,2),k=F[0],S=F[1],I=(0,a.useState)(!0),D=(0,o.Z)(I,2),R=D[0],W=D[1],E=(0,a.useState)(""),M=(0,o.Z)(E,2),H=M[0],P=M[1],K=(0,a.useDeferredValue)(H),U=(0,a.useState)(1),X=(0,o.Z)(U,2),Q=X[0],$=X[1],J=(0,O.cI)({defaultValues:{param_name:"",rule:{},assign_to:"",param_type:"",logic:"match"}}),ee=J.control,ne=J.handleSubmit,te=J.watch,re=J.setValue,ie=te().param_name,oe=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(n),e.next=4,x.Z.getTeamMembers(K,n);case 4:if((t=e.sent).success){e.next=7;break}throw Error(t.message);case 7:w([].concat((0,T.Z)(f),(0,T.Z)(t.payload.data))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),ae=(0,a.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=13;break}return 1,W(!0),$(1),e.next=7,x.Z.getTeamMembers(K,1);case 7:if((t=e.sent).success){e.next=10;break}throw Error(t.message);case 10:w(t.payload.data),y(t.payload.meta.total),W(!1);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),s(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),[n,K]),le=(0,a.useCallback)((function(){if(""!==ie){var e=p.filter((function(e){return e.field_name===ie})),n=(0,o.Z)(e,1)[0];n&&re("param_type",n.field_type)}}),[ie]),se=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.createLeadDistributionRule(n);case 3:if((i=e.sent).success){e.next=6;break}throw Error(i.message);case 6:c(i.message),setTimeout((function(){return window.location.reload()}),1e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(e.t0.message);case 13:return e.prev=13,setTimeout((function(){return t()}),1e3),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(n){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){ae()}),[ae]),(0,a.useEffect)((function(){le()}),[le]),(0,B.jsx)(L.ZP,{anchor:"right",open:n,onClose:function(e,n){return!(0,V.MF)(n)&&t()},sx:{zIndex:"modal"},children:(0,B.jsxs)(b.Dj,{sx:{width:{xs:"100vw",md:360}},children:[(0,B.jsxs)(b.yW,{children:[(0,B.jsx)(u.Z,{onClick:t,sx:{width:32,height:32},children:(0,B.jsx)(Z.IT,{})}),(0,B.jsx)(b.Gh,{children:"Create New Rule"})]}),(0,B.jsxs)(b.aN,{onSubmit:ne(se),autoComplete:"off",children:[(0,B.jsx)(G.Z,{component:"p",color:"#24272C",fontSize:18,lineHeight:"21px",marginBottom:3,children:"Assign enquiry to team member when lead data field matches value."}),(0,B.jsx)(b.gq,{children:(0,B.jsxs)(b.mn,{children:[(0,B.jsx)(b.gN,{children:(0,B.jsxs)(q.Z,{select:!0,control:ee,label:"Lead Data Field",name:"param_name",sx:b.Br,required:!0,defaultValue:ie,children:[0===p.length?(0,B.jsx)(C.Z,{value:"",disabled:!0,children:"No Lead Data Field Available"}):(0,B.jsx)(C.Z,{value:"",disabled:!0,children:"Select Lead Data Field"}),p.map((function(e){var n=e.id,t=e.display_name,r=e.field_name;return(0,B.jsx)(C.Z,{value:r,children:t},n)}))]})}),(0,B.jsx)(b.gN,{children:(0,B.jsx)(q.Z,{control:ee,name:"rule.value",label:"Match Value",placeholder:"Match Value",required:!0,sx:b.ey})}),(0,B.jsx)(b.gN,{children:(0,B.jsx)(_.Z,{open:k,onOpen:function(){S(!0)},onClose:function(){P(""),S(!1)},noOptionsText:"Team Member not found.",isOptionEqualToValue:function(e,n){return e.user.name===n.user.name},getOptionLabel:function(e){return e.user.name},options:f,loading:R,onChange:function(e,n){n&&re("assign_to",n.user.id)},onInputChange:function(e,n){P(n.length>2?n:"")},ListboxComponent:Y,ListboxProps:{onScroll:function(e){var n=e.currentTarget;n.scrollTop+n.clientHeight===n.scrollHeight&&h&&h>f.length&&oe(Q+1)}},renderOption:function(e,n){return(0,a.createElement)(C.Z,(0,z.Z)((0,z.Z)({},e),{},{value:n.user.id,key:n.user_id}),n.user.name)},renderInput:function(e){return(0,B.jsx)(A.Z,(0,z.Z)((0,z.Z)({},e),{},{label:"Assign To",required:!0,InputProps:(0,z.Z)((0,z.Z)({},e.InputProps),{},{endAdornment:(0,B.jsxs)(a.Fragment,{children:[R?(0,B.jsx)(N.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})})]})}),(0,B.jsx)(b.W9,{children:(0,B.jsx)(b.Kk,{type:"submit",children:"Save"})})]})]})})},U=function(){var e=(0,h.Og)(),n=e.isMobile,t=e.isTablet,v=(0,g.s)().setErrorMessage,w=(0,a.useState)(!0),y=(0,o.Z)(w,2),j=y[0],F=y[1],C=(0,a.useState)(!1),k=(0,o.Z)(C,2),S=k[0],I=k[1],D=(0,a.useState)(1),R=(0,o.Z)(D,2),W=R[0],T=R[1],z=(0,m.O0)(),H=z.leadDistributionRules,L=z.showLdrForm,G=z.totalLdRules,_=(0,m.Bn)(),A=_.setLeadDataFields,N=_.setLeadDistributionRules,O=_.setShowLdrForm,V=_.setTotalLdRules,q=(0,a.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.getLeadDistributionRules(W);case 3:if((n=e.sent).success){e.next=6;break}throw Error(n.message);case 6:N((function(e){return e.concat(n.payload.data)})),0===G&&V(n.payload.meta.total),F(!1),I(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),v(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[W]),P=(0,a.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.getLeadDataFields();case 3:if((n=e.sent).success){e.next=6;break}throw Error(n.message);case 6:A(n.payload),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),v(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]);return(0,a.useEffect)((function(){P()}),[P]),(0,a.useEffect)((function(){q()}),[q]),(0,B.jsxs)(a.Fragment,{children:[(0,B.jsx)(l.ql,{children:(0,B.jsx)("title",{children:"Lead Distribution Rules"})}),(0,B.jsxs)(b.VY,{children:[n&&(0,B.jsxs)(b.yW,{sx:b.jo,children:[(0,B.jsx)(u.Z,{component:s.rU,to:"/business-settings",sx:{width:32,height:32},children:(0,B.jsx)(Z.IT,{})}),(0,B.jsx)(b.Gh,{children:"Lead Distribution Rules"})]}),(0,B.jsx)(b.hm,{sx:b.q7,children:(0,B.jsx)(b.Ip,{sx:b._e,children:!j&&(0,B.jsx)(c.Z,{elevation:0,sx:b.we,children:(0,B.jsx)(d.Z,{sx:b.ny,children:0===H.length?(0,B.jsxs)(b.rV,{children:[(0,B.jsx)(b._D,{children:(0,B.jsx)(b.Kk,{disableIcon:!0,onClick:function(){return O(!0)},sx:{borderRadius:2,boxShadow:"0px 8px 8px rgba(50, 197, 255, 0.1)",fontSize:16,fontWeight:700,height:36,lineHeight:"19px",margin:"auto",textTransform:"capitalize"},children:"New Lead Distribution Rule"})}),(0,B.jsx)(b.iC,{children:(0,B.jsx)(b.y7,{children:"Create logical rules, based on which an enquiry is automatically assigned to a team member."})})]}):(0,B.jsxs)(a.Fragment,{children:[t&&(0,B.jsx)(M,{}),t&&(0,B.jsx)(f.Z,{}),H.map((function(e,n){var t=e.rule,r=e.user,i=(e.param_name,e.id);return(0,B.jsx)(E,{title:r.name,description:t.value,ruleId:i},n)})),G>H.length&&(0,B.jsx)(b.en,{children:(0,B.jsx)(p.Z,{variant:"contained",color:"primary",onClick:function(){T((function(e){return e+1})),I(!0)},loading:S,children:"Load More"})})]})})})})}),n&&H.length>0&&(0,B.jsx)(b.jB,{children:(0,B.jsx)(b.Kk,{onClick:function(){return O(!0)},variant:"outlined",color:"primary",disableIcon:!0,children:"New Lead Distribution Rule"})})]}),(0,B.jsx)(K,{open:L,closeDrawer:function(){O(!1)}})]})},X=function(){return(0,B.jsx)(U,{})}},5641:function(e,n,t){var r=t(1413),i=t(5987),o=t(4280),a=t(1134),l=t(184),s=["control","defaultValue","rules","name","children"];n.Z=function(e){var n=e.control,t=(e.defaultValue,e.rules),u=e.name,c=e.children,d=(0,i.Z)(e,s);return(0,l.jsx)(a.Qr,{rules:t,control:n,name:u,render:function(e){var n,t=e.field;return(0,l.jsx)(o.Z,(0,r.Z)((0,r.Z)({},d),{},{value:null!==(n=t.value)&&void 0!==n?n:"",onChange:t.onChange,children:c}))}})}},341:function(e,n,t){t.d(n,{E:function(){return s},MF:function(){return l},bw:function(){return u},mr:function(){return o},qt:function(){return a}});var r=t(2426),i=t.n(r);function o(){for(var e=[],n=0;n<3;n++)e.push(Math.floor(255*Math.random()));return"rgb("+e.join(",")+", 0.5)"}function a(e){e=Number(e);var n=Math.floor(e/3600),t=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(n>0?n+(1===n?" hour ":" hours "):"")+(t>0?t+(1===t?" minute ":" minutes "):"")+(r>0?r+(1===r?" second":" seconds"):"")}var l=function(e){return"backdropClick"===e||"escapeKeyDown"===e},s=function(e){return i()(e).format("MMM YYYY")},u=function(e){var n=[];return e.includes("facebook")&&(n=e.filter((function(e){return"facebook"!==e}))),e.includes("instagram")&&(n=n.filter((function(e){return"instagram"!==e}))),(e.includes("facebook")||e.includes("instagram"))&&n.unshift("facebook and instagram"),e.includes("facebook and instagram")&&!n.includes("facebook and instagram")&&n.push("facebook and instagram"),e.includes("twitter")&&!n.includes("twitter")&&n.push("twitter"),e.includes("linkedin")&&!n.includes("linkedin")&&n.push("linkedin"),n}}}]);
//# sourceMappingURL=7390.e021a972.chunk.js.map
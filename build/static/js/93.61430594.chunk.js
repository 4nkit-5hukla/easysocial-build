(this.webpackJsonpeasysocial=this.webpackJsonpeasysocial||[]).push([[93],{1643:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return p}));var n=a(7),r=a(3),c=a.n(r),o=a(10),i=function(){var e=Object(n.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.API,"/get/category"),{method:"GET",headers:{Accept:"application/json","X-Auth-Token":localStorage.getItem("token"),"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.API,"/create/category"),{method:"PUT",headers:{Accept:"application/json","X-Auth-Token":localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.API,"/create/sub-category"),{method:"PUT",headers:{Accept:"application/json","X-Auth-Token":localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(n.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.API,"/get/element-category"),{method:"GET",headers:{Accept:"application/json","X-Auth-Token":localStorage.getItem("token"),"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.API,"/create/element-category"),{method:"PUT",headers:{Accept:"application/json","X-Auth-Token":localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.API,"/create/element-sub-category"),{method:"PUT",headers:{Accept:"application/json","X-Auth-Token":localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},2350:function(e,t,a){e.exports={Create_Template:"CreateTemplate_Create_Template__3fesO",SVG_Container:"CreateTemplate_SVG_Container__30T6Q",Upload_Handler:"CreateTemplate_Upload_Handler__J8cz0",Upload_Btn:"CreateTemplate_Upload_Btn___g3VD",BackDrop:"CreateTemplate_BackDrop__2p82m",Popup_Container:"CreateTemplate_Popup_Container__29eLk",Color_Container:"CreateTemplate_Color_Container__3N1YG"}},2351:function(e,t,a){e.exports={Header:"Header_Header__GZEM_",Header_Text:"Header_Header_Text__2dqKR",Title:"Header_Title__ci4D4",Sub:"Header_Sub__K-Lpz",Next:"Header_Next__-p56w",LeftArrow:"Header_LeftArrow__1atZb"}},2566:function(e,t,a){"use strict";a.r(t);var n=a(189),r=a(5),c=a(16),o=a(28),i=a(7),l=a(9),s=a(3),u=a.n(s),g=a(0),p=a(222),h=a(38),d=a(2350),b=a.n(d),m=a(2351),f=a.n(m),y=a(2),j=function(e){return Object(y.jsxs)("header",{className:f.a.Header,onClick:e.deselect,children:[Object(y.jsx)("div",{className:f.a.LeftArrow,onClick:function(){return e.goBack()},children:Object(y.jsx)("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(y.jsx)("path",{d:"M8 1L1.8858 6.24074C1.42019 6.63984 1.42019 7.36016 1.8858 7.75926L8 13",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"bevel"})})}),Object(y.jsxs)("div",{className:f.a.Header_Text,children:[Object(y.jsx)("div",{className:f.a.Title,children:Object(y.jsx)("h1",{children:e.title||"Upload"})}),Object(y.jsx)("div",{className:f.a.Sub,children:Object(y.jsx)("p",{children:e.sub})})]}),Object(y.jsx)("div",{className:f.a.Next,children:Object(y.jsxs)("button",{disabled:e.disabled,onClick:function(){return e.onSubmit((function(e){return window.location.href="/template/edit/".concat(e)}))},children:["Save"," ",Object(y.jsx)("svg",{width:"9",height:"11",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(y.jsx)("path",{d:"M8 1L1.8858 6.24074C1.42019 6.63984 1.42019 7.36016 1.8858 7.75926L8 13",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"bevel"})})]})})]})},x=a(229),v=a(1643);t.default=function(e){var t=Object(g.useState)(null),a=Object(l.a)(t,2),s=a[0],d=a[1],m=Object(g.useState)(!1),f=Object(l.a)(m,2),O=f[0],w=f[1],S=Object(g.useState)([null]),N=Object(l.a)(S,2),C=N[0],_=N[1],k=Object(g.useState)(!0),T=Object(l.a)(k,2),B=T[0],A=T[1],I=Object(g.useState)({height:1200,width:1200,base64:null}),H=Object(l.a)(I,2),W=H[0],V=H[1],U=Object(g.useState)({templateName:"",category:"",categoryName:"",SubCategory:"",SubCategoryName:""}),F=Object(l.a)(U,2),P=F[0],z=F[1],L=Object(g.useState)({error:!1,category:null}),X=Object(l.a)(L,2),M=X[0],D=X[1],E=Object(g.useState)({error:!1,subCategory:null}),G=Object(l.a)(E,2),Y=G[0],q=G[1],J=Object(g.useState)(null),R=Object(l.a)(J,2),K=R[0],Q=R[1],Z=Object(g.useState)(["primary","secondary","tertiary"]),$=Object(l.a)(Z,1)[0],ee=Object(g.useState)({primary:[],secondary:[],tertiary:[]}),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(C).then((function(e){return t(e.id)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=null,a=window.getComputedStyle(e),n=new window.WebKitCSSMatrix(a.transform);return(t={}).x=n.m41,t.y=n.m42,t.rotation=Math.round(Math.asin(n.b)*(180/Math.PI)),t},oe=function(e){for(var t="[{",a=e.split(";"),n=0;n<a.length;n++){var r=a[n].split(":");t+='"'+r[0]+'":"'+r[1]+'",'}t=t.substr(0,t.length-1),t+="}]";return JSON.parse(t)[0]},ie=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},le=function(e){var t=e.indexOf(",")>-1?",":" ";return e.substr(4).split(")")[0].split(t).map(Number)},se=function(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1)},ue=function(){var e=Object(i.a)(u.a.mark((function e(t,a,n,r,c,o,l){var s,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=new Image).src=t,s.crossOrigin="anonymous",g=document.getElementById(a),s.onload=function(){var e=g.appendChild(g.ownerDocument.importNode(document.createElement("canvas"),!0));e.width=n,e.height=r,e.getContext("2d").drawImage(s,0,0),e.toBlob(function(){var t=Object(i.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c,r=h.b.storage().ref("".concat(n,"/").concat(o,".png")),t.next=4,r.put(a).then(function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getDownloadURL().then(function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(a).then((function(){return e.remove()}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{type:"image/png"},1)};case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,o,i){return e.apply(this,arguments)}}(),ge=function(){var e=Object(i.a)(u.a.mark((function e(t,a,n,r){var l,g,p,d,b,m,f,y,j,x,v,O,w;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=a.viewBox.baseVal.width,g=a.viewBox.baseVal.height,p=[],b=0,m=[],f=[],y=null,j=null,(d=[]).push({canvasWidth:W.width,canvasHeight:W.height,x:null,y:null,width:l,height:g,name:P.templateName,thumbnail:{svg:n,png:r},swatch:null,tag:P.templateName,category:"other"===P.category?P.categoryName:P.category,subcategory:"other"===P.SubCategory?P.SubCategoryName:P.SubCategory}),e.t0=u.a.keys(t);case 11:if((e.t1=e.t0()).done){e.next=24;break}if(x=e.t1.value,"g"!==t[x].tagName){e.next=22;break}if(""===t[x].style.clipPath){e.next=22;break}v=u.a.mark((function e(a){var n,r,l,g,v,O,w,S,N,C,_,k,T,B,A,I,H,W,V,U,F,P,z,L,X,M,D,E,G,Y,q,J;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(("background"===(n=t[x].children[a]).id||"Background"===n.id)&&(y=n.getBBox().x,j=n.getBBox().y,d[0].x=y,d[0].y=j,"g"===n.tagName&&(r=n.children,console.log(n.dataset),l=[],r.length>0)))for(g=0;g<r.length;g++)if(r[g].tagName)for(v=0;v<=r[g].attributes.length;v++)b++,void 0!==r[g].attributes[v]&&l.push(Object(o.a)({},r[g].attributes[v].nodeName,r[g].attributes[v].value)),v===r[g].attributes.length&&function(){l.push({id:b,name:r[g].id?"".concat(r[g].id,"_").concat(b):"".concat(r[g].tagName).concat(b),scaleX:1,scaleY:1,type:ie(r[g].tagName),rotation:0});var e=Object.assign.apply(Object,[{}].concat(Object(c.a)(l)));if(e.transform){var t=ce(e.transform);e.x=t.x-y,e.y=t.y-j,delete e.transform}if(e.style){var a=e.style,n=oe(a);Object.entries(n).forEach((function(t){e["".concat(t[0])]=t[1],delete e.style}))}"none"!==e.fill&&(p.push(e),l=[])}();if(Number(a)===t[x].children.length-1&&null===y&&null===j&&h.b.storage().ref("svg/".concat(s.name)).delete().then((function(){alert("Please Upload Correct SVG"),window.location.reload()})).catch((function(e){console.log(e),alert("Uh-oh, an error occurred!")})),"g"!==n.tagName&&"text"!==n.tagName&&n.tagName)for(O=[],w=n,S=0;S<=w.attributes.length;S++)b++,void 0!==w.attributes[S]&&O.push(Object(o.a)({},w.attributes[S].nodeName,w.attributes[S].value)),S===w.attributes.length&&function(){O.push({id:b,name:n.id?"".concat(n.id,"_").concat(b):"".concat(w.tagName).concat(b),scaleX:1,scaleY:1,type:ie(w.tagName),rotation:0});var e=Object.assign.apply(Object,[{}].concat(Object(c.a)(O)));if("Rect"===e.type&&(e.x=e.x-y||0,e.y=e.y-j||0),e.transform){var t=ce(w);e.x=t.x-y,e.y=t.y-j,e.rotation=t.rotation,delete e.transform}if("Circle"===e.type&&(e.cx=e.cx-y,e.cy=e.cy-j),e.style){var a=e.style,r=oe(a);Object.entries(r).forEach((function(t){e["".concat(t[0])]=t[1],delete e.style}))}e["stroke-width"]&&(e["stroke-width"]=Number(e["stroke-width"].replace("px",""))||e["stroke-width"]),"none"===e.fill&&"Circle"!==e.type||(p.push(e),O=[])}();if("g"!==n.tagName||"background"===n.id&&"Background"===n.id){e.next=22;break}for(N in n.children)if("text"===n.children[N].tagName)if(b++,C=[],_=n.children[N].children,k=n.children[N],_.length>0)for(T=0;T<=_.length;T++)void 0!==_[T]&&void 0!==_[T].attributes.x&&C.push(Number(_[T].attributes.x.value)),T===_.length&&(C=Math.min.apply(Math,Object(c.a)(C)),B=ce(k),b++,A={id:b,name:k.id?"".concat(k.id,"_").concat(b):"text".concat(b),bold:""!==k.style.fontWeight,italic:!1,underline:!1,rotation:B.rotation,width:1.3*k.getBBox().width,height:k.getBBox().height,displayValue:k.textContent.replace(/\s+/g," ").trim(),value:k.textContent.replace(/\s+/g," ").trim(),x:B.x-y,y:B.y-74*Number(n.style.fontSize.replace("px",""))/100-j,scaleX:1,scaleY:1,font:""!==k.style.fontFamily?k.style.fontFamily:"Arial",fontSize:""!==k.style.fontSize?Number(k.style.fontSize.replace("px","")):16,letterSpacing:""!==k.style.letterSpacing?Number(k.style.letterSpacing.replace("em","")):null,alignment:""!==k.style.textAlign?k.style.textAlign:"left",fontWeight:""!==k.style.fontWeight?Number(k.style.fontWeight):"normal",color:""!==k.style.color?k.style.color:""!==k.style.fill?k.style.fill:"black",type:"Text",lineHeight:1.3},p.push(A));else I=ce(k),b++,H={id:b,name:k.id?"".concat(k.id,"_").concat(b):"text".concat(b),bold:""!==k.style.fontWeight,italic:!1,underline:!1,rotation:I.rotation,width:1.3*k.getBBox().width,height:k.getBBox().height,displayValue:k.textContent.replace(/\s+/g," ").trim(),value:k.textContent.replace(/\s+/g," ").trim(),x:I.x-y,y:I.y-74*Number(k.style.fontSize.replace("px",""))/100-j,scaleX:1,scaleY:1,font:""!==k.style.fontFamily?k.style.fontFamily:"Arial",fontSize:""!==k.style.fontSize?Number(k.style.fontSize.replace("px","")):16,letterSpacing:""!==k.style.letterSpacing?Number(k.style.letterSpacing.replace("em","")):null,alignment:""!==k.style.textAlign?k.style.textAlign:"left",fontWeight:""!==k.style.fontWeight?Number(k.style.fontWeight):"normal",color:""!==k.style.color?k.style.color:""!==k.style.fill?k.style.fill:"black",type:"Text",lineHeight:1.3},p.push(H);if(W=n.getBBox(),V=n.dataset.name,U={groupWidth:W.width,groupHeight:W.height,groupX:W.x,groupY:W.y},F=new Blob(['<svg xmlns="http://www.w3.org/2000/svg" viewBox="'.concat(U.groupX," ").concat(U.groupY," ").concat(U.groupWidth," ").concat(U.groupHeight,'"><g>').concat(n.innerHTML,"</g></svg>")],{type:"image/svg+xml"}),"element-svg",P="".concat(localStorage.getItem("userId").substr(6),"_").concat((new Date).getTime()),m.includes(V)){e.next=19;break}return m.push(V),z=h.b.storage().ref("".concat("element-svg","/").concat(P,".svg")),e.next=17,z.put(F).then(function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getDownloadURL().then(function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b++,f.push(t),p.push({src:t,x:U.groupX-y,y:U.groupY-j,width:U.groupWidth,height:U.groupHeight,type:"Image",scaleX:1,scaleY:1,id:n.id?"".concat(n.id,"_").concat(b):"Image".concat(b),name:n.id?"".concat(n.id,"_").concat(b):"Image".concat(b),rotation:0,element:"group",user_friendly_name:V||null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:e.next=22;break;case 19:b++,L=m.findIndex((function(e){return e===V})),p.push({src:f[L],x:U.groupX-y,y:U.groupY-j,width:U.groupWidth,height:U.groupHeight,type:"Image",scaleX:1,scaleY:1,id:n.id?"".concat(n.id,"_").concat(b):"Image".concat(b),name:n.id?"".concat(n.id,"_").concat(b):"Image".concat(b),rotation:0,element:"group",user_friendly_name:V});case 22:if("text"===n.tagName)if(X=[],M=0,(D=n.children).length>0)for(E=0;E<=n.children.length;E++)M++,void 0!==D[E]&&void 0!==D[E].attributes.x&&X.push(Number(D[E].attributes.x.value)),M===D.length&&(X=Math.min.apply(Math,Object(c.a)(X)),G=ce(n),b++,Y={id:b,name:n.id?"".concat(n.id,"_").concat(b):"text".concat(b),bold:""!==n.style.fontWeight,italic:!1,underline:!1,rotation:G.rotation,width:n.getBBox().width,height:n.getBBox().height,displayValue:n.textContent.replace(/\s+/g," ").trim(),value:n.textContent.replace(/\s+/g," ").trim(),x:G.x-Math.abs(Number(X))-y,y:G.y-74*Number(n.style.fontSize.replace("px",""))/100-j,scaleX:1,scaleY:1,font:""!==n.style.fontFamily?n.style.fontFamily:"Arial",fontSize:""!==n.style.fontSize?Number(n.style.fontSize.replace("px","")):16,letterSpacing:""!==n.style.letterSpacing?Number(n.style.letterSpacing.replace("em","")):null,alignment:""!==n.style.textAlign?n.style.textAlign:"left",fontWeight:""!==n.style.fontWeight?Number(n.style.fontWeight):"normal",color:""!==n.style.color?n.style.color:""!==n.style.fill?n.style.fill:"black",type:"Text",lineHeight:1.3},p.push(Y));else q=ce(n),b++,J={id:b,name:n.id?"".concat(n.id,"_").concat(b):"text".concat(b),bold:""!==n.style.fontWeight,italic:!1,underline:!1,rotation:q.rotation,width:n.getBBox().width,height:n.getBBox().height,displayValue:n.textContent.replace(/\s+/g," ").trim(),value:n.textContent.replace(/\s+/g," ").trim(),x:q.x-y,y:q.y-74*Number(n.style.fontSize.replace("px",""))/100-j,scaleX:1,scaleY:1,font:""!==n.style.fontFamily?n.style.fontFamily:"Arial",fontSize:""!==n.style.fontSize?Number(n.style.fontSize.replace("px","")):16,letterSpacing:""!==n.style.letterSpacing?Number(n.style.letterSpacing.replace("em","")):null,alignment:""!==n.style.textAlign?n.style.textAlign:"left",fontWeight:""!==n.style.fontWeight?Number(n.style.fontWeight):"normal",color:""!==n.style.color?n.style.color:""!==n.style.fill?n.style.fill:"black",type:"Text",lineHeight:1.3},p.push(J);case 23:case"end":return e.stop()}}),e)})),e.t2=u.a.keys(t[x].children);case 17:if((e.t3=e.t2()).done){e.next=22;break}return O=e.t3.value,e.delegateYield(v(O),"t4",20);case 20:e.next=17;break;case 22:e.next=11;break;case 24:w=[],p.filter((function(e){if(e.color){var t=le(e.color),a=se(t[0],t[1],t[2]);w.push(a)}else"none"!==e.fill&&w.push(e.fill)})),Q(Object(c.a)(new Set(w))),_({elements:p,property:d[0]});case 28:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),pe=function(){if(w(!0),!s)return alert("Please Upload file first!"),w(!1);var e="".concat((new Date).getTime()),t=h.b.storage().ref("".concat("template-svg","/").concat(s.name,"_").concat(e));t.put(s).then((function(e){t.getDownloadURL().then((function(e){!function(e,t){window.fetch(e||"https://firebasestorage.googleapis.com/v0/b/easy-social-react.appspot.com/o/template-svg%2FOrganic-Quote.svg_1604491041177?alt=media&token=afb84124-7453-4d9c-8b6c-35923033b161",{method:"GET"}).then((function(e){return e.text()})).then((function(a){w(!1);var n=(new DOMParser).parseFromString(a,"application/xml"),r=document.getElementById(t);n.documentElement.setAttribute("id","svgIMG"),r.querySelector("div").innerHTML=null,r.appendChild(r.ownerDocument.importNode(n.documentElement,!0));var c=r.querySelector("svg").children,o=r.querySelector("svg");o.style.width="100%";var i="".concat(localStorage.getItem("userId").substr(6),"_").concat(P.templateName),l=o.viewBox.baseVal.width,s=o.viewBox.baseVal.height;ue(e,"canvas",l,s,"template-png",i,(function(t){return ge(c,o,e,t)}))})).catch((function(){return w(!1)}))}(e,"SVG-Container")})).catch((function(){return w(!1)}))})).catch((function(){return w(!1)}))},he=Object(g.useState)(!0),de=Object(l.a)(he,2),be=de[0],me=de[1];Object(g.useEffect)((function(){Object(v.e)().then((function(e){e.message?(D({error:!1,category:e.categoryData}),z(Object(r.a)(Object(r.a)({},P),{},{category:document.querySelector("#category").value}))):D(Object(r.a)(Object(r.a)({},M),{},{error:e.error}))})).catch((function(e){return console.log(e)}))}),[]),Object(g.useEffect)((function(){M.category&&""!==P.category&&M.category.forEach((function(e){if(e.id===P.category&&null!==e.categoryName.sub_category)return q({error:!1,subCategory:e.categoryName.sub_category})}))}),[M,P]);var fe=Object(g.useState)([]),ye=Object(l.a)(fe,1)[0];return Object(y.jsxs)("section",{className:b.a.Create_Template,children:[be&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:b.a.BackDrop}),Object(y.jsx)("div",{className:b.a.Popup_Container,children:Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"other"===P.category&&P.categoryName.length>0?Object(v.a)({category:P.categoryName,sub_category:P.SubCategoryName}).then((function(e){me(!1),alert(e.message)})).catch((function(e){alert("something went wrong, please try again")})):"other"!==P.categoryName&&"other"===P.SubCategory&&P.SubCategoryName.length>0?Object(v.d)({id:P.category,subcategory:P.SubCategoryName}).then((function(e){me(!1),alert(e.message)})).catch((function(e){alert("something went wrong, please try again")})):me(!1)},children:[Object(y.jsxs)("div",{className:b.a.Resolution,children:[Object(y.jsx)("label",{htmlFor:"cars",children:"Choose Resolution : "}),Object(y.jsxs)("select",{required:!0,name:"resolution",id:"resolution",onChange:function(e){return V({height:e.target.value,width:e.target.value})},children:[Object(y.jsx)("option",{defaultValue:"1200",children:"1200 / 1200"}),Object(y.jsx)("option",{value:"1080",children:"1080 / 1080"})]})]}),Object(y.jsxs)("div",{className:b.a.Template_Name,children:[Object(y.jsx)("label",{htmlFor:"template-name",children:"Template Name :"}),Object(y.jsx)("input",{onChange:function(e){return z(Object(r.a)(Object(r.a)({},P),{},{templateName:e.target.value}))},id:"template-name",required:!0,name:"template-name",type:"text",placeholder:"Template name",defaultValue:""})]}),Object(y.jsxs)("div",{className:b.a.Category,children:[Object(y.jsx)("label",{htmlFor:"category",children:"Category : "}),Object(y.jsxs)("select",{required:!0,id:"category",name:"category",onChange:function(e){"other"===e.target.value?z(Object(r.a)(Object(r.a)({},P),{},{SubCategory:e.target.value,category:e.target.value,categoryName:e.target.value})):M.category&&M.category.forEach((function(t){t.id===e.target.value?(z(Object(r.a)(Object(r.a)({},P),{},{category:e.target.value,categoryName:t.categoryName.name})),q({error:!1,subCategory:t.categoryName.sub_category})):q({error:!1,subCategory:null})}))},children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Category"}),M.category&&M.category.map((function(e){return Object(y.jsx)("option",{value:e.id,children:e.categoryName.name},e.id)})),Object(y.jsx)("option",{value:"other",children:"other"})]})]}),"other"===P.category&&Object(y.jsxs)("div",{className:b.a.Category_name,children:[Object(y.jsx)("label",{htmlFor:"category-name",children:"Category Name: "}),Object(y.jsx)("input",{required:!0,name:"category-name",type:"text",defaultValue:"",placeholder:"Category Name",onChange:function(e){return z(Object(r.a)(Object(r.a)({},P),{},{categoryName:e.target.value}))}})]}),P.category&&Object(y.jsxs)("div",{className:b.a.Sub_Category,children:[Object(y.jsx)("label",{htmlFor:"sub-category",children:"Sub Category"}),Object(y.jsxs)("select",{id:"sub-category",name:"sub-category",onChange:function(e){return z(Object(r.a)(Object(r.a)({},P),{},{SubCategory:e.target.value,SubCategoryName:""}))},children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Sub Category"}),Y.subCategory&&Y.subCategory.map((function(e){return Object(y.jsx)("option",{children:e.name},e.name)})),Object(y.jsx)("option",{value:"other",children:"other"})]})]}),"other"===P.SubCategory&&Object(y.jsxs)("div",{className:b.a.SubCategory_name,children:[Object(y.jsx)("label",{htmlFor:"subcategory-name",children:"Sub Category Name: "}),Object(y.jsx)("input",{required:!0,name:"subcategory-name",type:"text",defaultValue:"",placeholder:"Subcategory Name",onChange:function(e){return z(Object(r.a)(Object(r.a)({},P),{},{SubCategoryName:e.target.value}))}})]}),Object(y.jsx)("button",{children:"Submit"})]})})]}),Object(y.jsx)(j,{goBack:function(){return e.history.goBack()},disabled:B,onSubmit:re}),Object(y.jsxs)("div",{className:b.a.SVG_Container,id:"SVG-Container",children:[O?Object(y.jsx)(x.a,{}):null,s?Object(y.jsxs)("div",{className:b.a.Upload_Btn,children:[Object(y.jsx)("p",{children:s?"".concat(s.name," - (").concat(s.size/1e3,"kb)"):"select a file Please"}),Object(y.jsx)("button",{onClick:function(){return pe()},children:"Upload the SVG"})]}):Object(y.jsxs)("div",{className:b.a.Upload_Handler,children:[Object(y.jsx)("h3",{children:"Upload a SVG file"}),Object(y.jsx)("form",{children:Object(y.jsx)("input",{accept:"image/svg+xml",type:"file",onChange:function(e){"image/svg+xml"===e.target.files[0].type?d(e.target.files[0]):alert("Please Upload SVG File")}})})]})]}),K&&Object(y.jsx)("form",{children:Object(y.jsx)("div",{className:b.a.Color_Container,children:K.map((function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:b.a.Color_Box,children:[Object(y.jsx)("div",{style:{backgroundColor:e,width:"60px",height:"60px"}}),Object(y.jsxs)("select",{"data-color":e,onChange:function(t){var a=t.target.dataset.color;for(var c in"primary"===t.target.value?ne(Object(r.a)(Object(r.a)({},ae),{},{primary:[e]})):"secondary"===t.target.value?ne(Object(r.a)(Object(r.a)({},ae),{},{secondary:[e]})):(ye.push(e),ne(Object(r.a)(Object(r.a)({},ae),{},{tertiary:ye}))),ae){var o,i=Object(n.a)(ae[c]);try{for(i.s();!(o=i.n()).done;){a===o.value&&console.log(ae[c])}}catch(l){i.e(l)}finally{i.f()}}},children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select"}),$.map((function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("option",{value:e,children:ie(e)})})}))]})]})})}))})}),Object(y.jsx)("div",{id:"canvas"}),C&&C.property&&B&&Object(y.jsx)("button",{onClick:function(){_((function(e){return Object(r.a)(Object(r.a)({},e),{},{property:Object(r.a)(Object(r.a)({},e.property),{},{swatch:ae})})})),A(!1)},children:"Add Colors"})]})}}}]);
//# sourceMappingURL=93.61430594.chunk.js.map
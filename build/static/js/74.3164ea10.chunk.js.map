{"version":3,"sources":["assets/icons/sadicon.svg","Components/SocialMedia_Setup/Facebook/NoFacebookPage/NoFacebookPage.js","Components/SocialMedia_Setup/Facebook/NoFacebookPage/NoFacebookPage.module.css","Pages/BusinessSocial_Setup/FacebookInstagram/socialProfiles.module.css","Pages/BusinessSocial_Setup/FacebookInstagram/FacebookPages/Select_page.module.css","Pages/BusinessSocial_Setup/FacebookInstagram/InstagramPages/Select_page.module.css","Pages/BusinessSocial_Setup/FacebookInstagram/FacebookPages/index.js","Pages/BusinessSocial_Setup/FacebookInstagram/InstagramPages/index.js","Pages/BusinessSocial_Setup/FacebookInstagram/index.js","assets/icons/rightArrow.svg"],"names":["NoFacebookPage","props","className","classes","Type0_Account","Type0_Note","src","sadIcon","alt","Type0_Link","Type0_Button","onClick","window","open","setupRedirectURL","Done_Linking","history","push","module","exports","withRouter","connect","dispatch","startLoading","actions","cancelLoading","error","err","useToastMessage","setSuccessMessage","setErrorMessage","getFacebookPagesRef","useRef","useEffect","isMounted","current","useState","value","setValue","fbPage","setFBPage","handlePageSelect","event","a","preventDefault","businessId","localStorage","getItem","saveFBPageData","success","setConnect","console","log","message","imgURL","pageID","pageName","Pages","onSubmit","FBPages","length","map","page","img","used","id","name","tag","setSelectedFBPage","selectFBPage","svgStyle","paddingLeft","style","margin","skipBtn","RightArrow","igAccData","setIGAccData","setError","setSetupRedirectURL","useHistory","fetchIGAccountData","then","data","catch","selectedFBPage","redirectURL","handleSaveIGInfo","saveIGAccountData","profile_picture_url","username","SocialProfiles","setFBPages","checkLoginRef","fetchSelectedFBPage","Object","keys","fetchBusinessFBPages","fbPages","contactParentWrapper","firstHalf","secondHalf","sideDrawerWrapper","sideDrawerHeaderWrapper","topHeaderWrapper","Facebook","Instagram","sideDrawerHeadingWrapper","backArrow","ThickArrow","sideDrawerTitle","formContainter","FacebookPages","InstagramPages"],"mappings":"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","file":"static/js/74.3164ea10.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sadicon.6009408d.svg\";","/** @format */\r\n\r\nimport React from \"react\";\r\nimport classes from \"./NoFacebookPage.module.css\";\r\nimport sadIcon from \"../../../../assets/icons/sadicon.svg\";\r\nimport { CustomButton } from \"../../../exports\";\r\n\r\nconst NoFacebookPage = (props) => {\r\n  return (\r\n    <div className={classes.Type0_Account}>\r\n      <div className={classes.Type0_Note}>\r\n        <img src={sadIcon} alt=\"sad\" />\r\n        <p>We could not find any Facebook page accounts.</p>\r\n        <main className={classes.Type0_Link}>\r\n          <CustomButton\r\n            className={classes.Type0_Button}\r\n            onClick={\r\n              () => window.open(props.setupRedirectURL, \"_blank\")\r\n              // window.open(`https://www.facebook.com/pages/creation`, \"_blank\")\r\n            }\r\n          >\r\n            Connect Instagram\r\n          </CustomButton>\r\n        </main>\r\n      </div>\r\n      <p className={classes.Done_Linking}>\r\n        Done linking?{\" \"}\r\n        <span\r\n          onClick={() => {\r\n            props.history.push(`/business-setup/link-facebook`);\r\n          }}\r\n        >\r\n          Resume Setup!\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoFacebookPage;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Type0_Account\":\"NoFacebookPage_Type0_Account__2bch9\",\"Type0_Note\":\"NoFacebookPage_Type0_Note__2JHh5\",\"Type0_Link\":\"NoFacebookPage_Type0_Link__2Dfa2\",\"Type0_Button\":\"NoFacebookPage_Type0_Button__1uxXx\",\"Done_Linking\":\"NoFacebookPage_Done_Linking__1dQBo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactParentWrapper\":\"socialProfiles_contactParentWrapper__2XldM\",\"sideDrawerHeaderWrapper\":\"socialProfiles_sideDrawerHeaderWrapper__1ymRq\",\"sideDrawerHeadingWrapper\":\"socialProfiles_sideDrawerHeadingWrapper__2eHwK\",\"formContainter\":\"socialProfiles_formContainter__vULyc\",\"sideDrawerHeading\":\"socialProfiles_sideDrawerHeading__2L6f1\",\"sideDrawerSubHeading\":\"socialProfiles_sideDrawerSubHeading__-N0r6\",\"sideDrawerTitle\":\"socialProfiles_sideDrawerTitle__1Z1qy\",\"secondHalf\":\"socialProfiles_secondHalf__3Jpfe\",\"backArrow\":\"socialProfiles_backArrow__31woV\",\"firstHalf\":\"socialProfiles_firstHalf__1iqKr\",\"subContent\":\"socialProfiles_subContent__2Zx6q\",\"viewMorbtn\":\"socialProfiles_viewMorbtn__32FO1\",\"linktitle\":\"socialProfiles_linktitle__23Nnr\",\"SocialProfiles_Main\":\"socialProfiles_SocialProfiles_Main__kmgGZ\",\"sideDrawerWrapper\":\"socialProfiles_sideDrawerWrapper__1p9ql\",\"selectButtonWrapper\":\"socialProfiles_selectButtonWrapper__P5tpj\",\"topHeaderWrapper\":\"socialProfiles_topHeaderWrapper__1-HzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Select_page\":\"Select_page_Select_page__2Zaav\",\"link_social\":\"Select_page_link_social__16vGK\",\"Icons\":\"Select_page_Icons__3tjJj\",\"Link_Progress\":\"Select_page_Link_Progress__2fkGh\",\"Line\":\"Select_page_Line__1IsEw\",\"Icon_Grid\":\"Select_page_Icon_Grid__1rk78\",\"Icon\":\"Select_page_Icon__2N5Sp\",\"Form_Header\":\"Select_page_Form_Header__3ciO2\",\"Back_Btn\":\"Select_page_Back_Btn__1fUkF\",\"Header_Text\":\"Select_page_Header_Text__3uhGG\",\"Pages\":\"Select_page_Pages__9Udyr\",\"skipBtn\":\"Select_page_skipBtn__14P3N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Select_page\":\"Select_page_Select_page__29BSa\",\"link_social\":\"Select_page_link_social__ZRqLH\",\"Icons\":\"Select_page_Icons__1FBUW\",\"Link_Progress\":\"Select_page_Link_Progress__Y7eZW\",\"Line\":\"Select_page_Line__2EzjR\",\"Icon_Grid\":\"Select_page_Icon_Grid__1NIPC\",\"Icon\":\"Select_page_Icon__w8wvI\",\"Form_Header\":\"Select_page_Form_Header__2xv60\",\"Back_Btn\":\"Select_page_Back_Btn__pcQ6u\",\"Header_Text\":\"Select_page_Header_Text__1VbDl\",\"Pages\":\"Select_page_Pages__PXKkq\",\"skipBtn\":\"Select_page_skipBtn__3dQJW\"};","/** @format */\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../../Store/actions/index\";\r\nimport classes from \"./Select_page.module.css\";\r\nimport { useToastMessage } from \"../../../../contexts/ToastMessageContext\";\r\nimport NoFacebookPage from \"../../../../Components/SocialMedia_Setup/Facebook/NoFacebookPage/NoFacebookPage\";\r\nimport { UIButton, Profile } from \"../../../../Components/exports\";\r\n\r\nimport RightArrow from \"../../../../assets/icons/rightArrow.svg\";\r\n\r\n// react-router-dom\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n// request helpers imports\r\nimport { saveFBPageData } from \"../../../../api/SocialMediaSetup\";\r\n\r\n// contexts\r\n\r\nconst Select_page = (props) => {\r\n  const { setSuccessMessage, setErrorMessage } = useToastMessage();\r\n\r\n  const getFacebookPagesRef = useRef(() => {});\r\n\r\n  // const storeSelectedFBPage = (businessId, page_id) => {\r\n  //   props.startLoading();\r\n  //   saveSelectedFBPageConnect(businessId, {\r\n  //     page_id: page_id,\r\n  //   })\r\n  //     .then((data) => {\r\n  //       if (data.error) {\r\n  //         setErrorMessage(data.error);\r\n  //         props.error(data.error);\r\n  //       } else {\r\n  //         props.cancelLoading();\r\n  //         setSuccessMessage(data.message);\r\n  //         props.history.push(`/business/${businessId}/instagram-connect`);\r\n  //       }\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       props.error(err);\r\n  //       setErrorMessage(err);\r\n  //     });\r\n  // };\r\n\r\n  /*getFacebookPagesRef.current = (isMounted) => {\r\n    props.startLoading();\r\n    getFacebookPages(props.match.params.businessId)\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setError(true);\r\n          setErrorMessage(data.error);\r\n          props.cancelLoading();\r\n        } else {\r\n          setSuccessMessage(\"Successfully got your pages!\");\r\n          if (isMounted) setPages(data.data);\r\n          props.cancelLoading();\r\n        }\r\n      })\r\n      .catch((err) => props.error(err));\r\n  }; */\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    getFacebookPagesRef.current(isMounted); // note this flag denote mount status\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const [value, setValue] = useState(null);\r\n  const [error] = useState(false);\r\n  const [fbPage, setFBPage] = useState(null);\r\n\r\n  const handlePageSelect = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (fbPage) {\r\n      const businessId = localStorage.getItem(\"businessId\");\r\n      // const businessId = \"6064538f2f94727c34a4d6a9\";\r\n\r\n      try {\r\n        const { success } = await saveFBPageData(businessId, {\r\n          ...fbPage,\r\n          businessId,\r\n        });\r\n\r\n        // TODO: Change the state to show Instagram setup\r\n        if (success) {\r\n          setSuccessMessage(\"Facebook setup complete!\");\r\n          props.setConnect(\"instagram\");\r\n        }\r\n      } catch (error) {\r\n        console.log(\"Save page data error: \", error);\r\n\r\n        const { message, error: err } = error;\r\n\r\n        if (message) {\r\n          setErrorMessage(message);\r\n        } else if (err) {\r\n          setErrorMessage(err);\r\n        } else {\r\n          setErrorMessage(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (value) {\r\n      const { imgURL, pageID, pageName } = value;\r\n      const fbPage = {\r\n        pageID,\r\n        pageName,\r\n        imgURL,\r\n      };\r\n\r\n      setFBPage(fbPage);\r\n    }\r\n  }, [value]);\r\n\r\n  // event handlers\r\n  const selectFBPage = (page) => {\r\n    setValue(page);\r\n    props.setSelectedFBPage(page);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      {!error ? (\r\n        <div className={classes.Pages}>\r\n          {/* <form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              storeSelectedFBPage(props.match.params.businessId, value);\r\n            }}\r\n          > */}\r\n          <form onSubmit={handlePageSelect}>\r\n            {/* Render the pages in profile components */}\r\n            {props.FBPages.length > 0 &&\r\n              props.FBPages.map((page) => (\r\n                <>\r\n                  <Profile\r\n                    img={page.imgURL}\r\n                    key={page.pageID}\r\n                    used=\"no\"\r\n                    id={page.pageID}\r\n                    name={page.pageName}\r\n                    tag=\"pages\"\r\n                    onClick={() => selectFBPage(page)}\r\n                    value={page.pageID}\r\n                  />\r\n                  {/* <Profile\r\n                    img={page.imgURL}\r\n                    key={page.pageID}\r\n                    used=\"no\"\r\n                    id={page.pageID}\r\n                    name={page.pageName}\r\n                    tag=\"pages\"\r\n                    onClick={() => setValue(page)}\r\n                    value={page.pageID}\r\n                  /> */}\r\n                  {/* <Profile\r\n                    img={page.imgURL}\r\n                    key={page.pageID}\r\n                    used=\"no\"\r\n                    id={page.pageID}\r\n                    name={page.pageName}\r\n                    tag=\"pages\"\r\n                    onClick={() => setValue(page.pageID)}\r\n                    value={page.pageID}\r\n                  /> */}\r\n                </>\r\n              ))}\r\n\r\n            {/* <Profile\r\n              img={fbpagesImg1}\r\n              key=\"dfdgdgdg\"\r\n              used=\"yes\"\r\n              id=\"ffgdfgdfg\"\r\n              name=\"Honda bikes\"\r\n              tag=\"pages\"\r\n              onClick={() => setValue(\"dfgdfg\")}\r\n              value=\"dfdfgdg\"\r\n            />\r\n\r\n            <Profile\r\n              img={fb2}\r\n              key=\"dfdgdgdg\"\r\n              used=\"no\"\r\n              id=\"ffgdfgdfg\"\r\n              name=\"Jaipur Photgraphy\"\r\n              tag=\"pages\"\r\n              onClick={() => setValue(\"dfgdfg\")}\r\n              value=\"dfdfgdg\"\r\n            /> */}\r\n\r\n            {/*                   <Profile\r\n                    img={page.url}\r\n                    key={page.page_id}\r\n                    id={page.page_id}\r\n                    name={page.name}\r\n                    tag=\"pages\"\r\n                    onClick={() => setValue(page.page_id)}\r\n                    value={page.page_id}\r\n                  /> */}\r\n\r\n            <UIButton\r\n              svgStyle={{ paddingLeft: \"5px\" }}\r\n              style={{ margin: \"0 auto\" }}\r\n            >\r\n              Link & Continue to Instagram\r\n            </UIButton>\r\n          </form>\r\n\r\n          <p className={classes.skipBtn}>\r\n            Skip Facebook & Instagram\r\n            <img alt=\"skip\" src={RightArrow} />\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <NoFacebookPage history={props.history} />\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    startLoading: () => dispatch(actions.startLoading()),\r\n    cancelLoading: () => dispatch(actions.cancelLoading()),\r\n    error: (err) => dispatch(actions.error(err)),\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(Select_page));\r\n","/** @format */\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport classes from \"./Select_page.module.css\";\r\n\r\nimport { useToastMessage } from \"../../../../contexts/ToastMessageContext\";\r\nimport NoFacebookPage from \"../../../../Components/SocialMedia_Setup/Facebook/NoFacebookPage/NoFacebookPage\";\r\nimport { UIButton, Profile } from \"../../../../Components/exports\";\r\n\r\nimport RightArrow from \"../../../../assets/icons/rightArrow.svg\";\r\n\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\n\r\n// request helpers imports\r\nimport {\r\n  fetchIGAccountData,\r\n  saveIGAccountData,\r\n} from \"../../../../api/SocialMediaSetup\";\r\n\r\nconst InstagramPage = (props) => {\r\n  const { setSuccessMessage, setErrorMessage } = useToastMessage();\r\n\r\n  const [igAccData, setIGAccData] = useState(null);\r\n  const [error, setError] = useState(false);\r\n  const [setupRedirectURL, setSetupRedirectURL] = useState(null);\r\n\r\n  const getFacebookPagesRef = useRef(() => {});\r\n\r\n  // history\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    getFacebookPagesRef.current(isMounted); // note this flag denote mount status\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // fetch IG acc details using fb data\r\n  useEffect(() => {\r\n    const businessId = localStorage.getItem(\"businessId\");\r\n\r\n    // const businessId = \"6064538f2f94727c34a4d6a9\";\r\n\r\n    fetchIGAccountData(businessId)\r\n      .then((data) => {\r\n        setIGAccData(data);\r\n      })\r\n      .catch((error) => {\r\n        setError(error.error);\r\n        setErrorMessage(error.error);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      const { pageID, pageName } = props.selectedFBPage;\r\n\r\n      const redirectURL = `https://www.facebook.com/${pageName}-${pageID}/settings/?tab=instagram_management`;\r\n\r\n      setSetupRedirectURL(redirectURL);\r\n    }\r\n  }, [error, props.selectedFBPage]);\r\n\r\n  // event handlers\r\n  const handleSaveIGInfo = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const businessId = localStorage.getItem(\"businessId\");\r\n\r\n    // const businessId = \"6064538f2f94727c34a4d6a9\";\r\n\r\n    if (igAccData) {\r\n      try {\r\n        const { success } = await saveIGAccountData(businessId, igAccData.id);\r\n\r\n        if (success) {\r\n          // TODO: Redirect to twitter setup page\r\n          // history.push(`/business/${businessId}/twitter-connect`);\r\n          setSuccessMessage(\"Instagram setup complete!\");\r\n          history.push(`/business/twitter-connect`);\r\n        }\r\n      } catch (error) {\r\n        setErrorMessage(\"Save IG Info error: \", error.error);\r\n      }\r\n    } else {\r\n      setErrorMessage(\"Please select an Instagram business account.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      {!error ? (\r\n        <div className={classes.Pages}>\r\n          <form onSubmit={handleSaveIGInfo}>\r\n            {igAccData && (\r\n              <>\r\n                <Profile\r\n                  img={igAccData.profile_picture_url}\r\n                  key={igAccData.id}\r\n                  used=\"yes\"\r\n                  id={igAccData.id}\r\n                  name={igAccData.username}\r\n                  tag=\"pages\"\r\n                />\r\n              </>\r\n            )}\r\n\r\n            <UIButton\r\n              svgStyle={{ paddingLeft: \"5px\" }}\r\n              style={{ margin: \"0 auto\" }}\r\n            >\r\n              Link & Continue to Twitter\r\n            </UIButton>\r\n          </form>\r\n\r\n          <p className={classes.skipBtn}>\r\n            Skip Instagram\r\n            <img src={RightArrow} />\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {setupRedirectURL && (\r\n            <NoFacebookPage\r\n              history={props.history}\r\n              setupRedirectURL={setupRedirectURL}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default withRouter(InstagramPage);\r\n","import { useRef, useEffect, useState } from \"react\";\r\n\r\nimport classes from \"./socialProfiles.module.css\";\r\n\r\nimport Header from \"../../../Components/Header/header\";\r\n\r\nimport ThickArrow from \"../../../assets/icons/thickArrow.svg\";\r\n\r\nimport Facebook from \"../../../assets/icons/facebook.jpg\";\r\n\r\nimport Instagram from \"../../../assets/icons/instagram.jpg\";\r\n\r\nimport FacebookPages from \"./FacebookPages\";\r\n\r\nimport InstagramPages from \"./InstagramPages\";\r\n\r\n// request helpers\r\nimport {\r\n  fetchBusinessFBPages,\r\n  fetchSelectedFBPage,\r\n} from \"../../../api/SocialMediaSetup\";\r\n\r\nconst SocialProfiles = (props) => {\r\n  const [connect, setConnect] = useState(\"facebook\");\r\n\r\n  const [FBPages, setFBPages] = useState([]);\r\n  const [selectedFBPage, setSelectedFBPage] = useState(null);\r\n\r\n  const checkLoginRef = useRef(() => {});\r\n\r\n  useEffect(() => {\r\n    checkLoginRef.current();\r\n  }, []);\r\n\r\n  // fetch fb pages on component mount\r\n  useEffect(() => {\r\n    if (connect === \"facebook\") {\r\n      // const businessId = \"6064538f2f94727c34a4d6a9\";\r\n      const businessId = localStorage.getItem(\"businessId\");\r\n\r\n      fetchSelectedFBPage(businessId)\r\n        .then(({ error, selectedFBPage }) => {\r\n          if (error) {\r\n            console.log(\"Fetch selected page error: \", error);\r\n          }\r\n\r\n          if (selectedFBPage && Object.keys(selectedFBPage).length) {\r\n            setConnect(\"instagram\");\r\n            setSelectedFBPage(selectedFBPage);\r\n          }\r\n\r\n          if (selectedFBPage && !Object.keys(selectedFBPage).length) {\r\n            // fetchBusinessFBPages(businessId)\r\n            fetchBusinessFBPages()\r\n              .then((data) => {\r\n                const { fbPages } = data;\r\n\r\n                setFBPages(fbPages);\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Fetch business fb pages error: \", error);\r\n              });\r\n          }\r\n        })\r\n        .catch(({ error }) => {\r\n          console.log(\"Fetch page error: \", error);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (FBPages) {\r\n      console.log(\"FB pages data: \", FBPages);\r\n    }\r\n  }, [FBPages]);\r\n\r\n  return (\r\n    <div className={classes.contactParentWrapper}>\r\n      <div className={classes.firstHalf}>\r\n        <Header />\r\n      </div>\r\n      <div className={classes.secondHalf}>\r\n        <div className={classes.sideDrawerWrapper}>\r\n          <div className={classes.sideDrawerHeaderWrapper}>\r\n            <div className={classes.topHeaderWrapper}>\r\n              <div>\r\n                <img\r\n                  src={connect === \"facebook\" ? Facebook : Instagram}\r\n                  alt=\"social media\"\r\n                />\r\n                <span>\r\n                  {connect === \"facebook\"\r\n                    ? \"Linking Facebook\"\r\n                    : \"Linking Instagram\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={classes.sideDrawerHeadingWrapper}>\r\n              <div className={classes.backArrow}>\r\n                <img src={ThickArrow} alt=\"back button\" />\r\n              </div>\r\n              <div className={classes.sideDrawerTitle}>\r\n                {connect === \"facebook\"\r\n                  ? \"Select Facebook Page\"\r\n                  : \"Select Instagram Account\"}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={classes.formContainter}>\r\n            {connect === \"facebook\" && FBPages.length > 0 && (\r\n              <FacebookPages\r\n                FBPages={FBPages}\r\n                setConnect={setConnect}\r\n                setSelectedFBPage={setSelectedFBPage}\r\n              />\r\n            )}\r\n\r\n            {connect === \"instagram\" && (\r\n              <InstagramPages selectedFBPage={selectedFBPage} />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SocialProfiles;\r\n","export default __webpack_public_path__ + \"static/media/rightArrow.99dc2c4a.svg\";"],"sourceRoot":""}
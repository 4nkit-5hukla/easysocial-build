{"version":3,"sources":["assets/icons/more.svg","Pages/TeamMembers/TeamMembers.module.css","assets/icons-2/cancel.svg","Components/TeamMembers/InviteMemberPopup/InviteMember.popup.js","Pages/TeamMembers/TeamMembers.business.js","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"],"names":["module","exports","Dialog","styled","div","p","isOpen","Overlay","rgba","Header","Main","main","InviteMemberPopup","props","setOpen","sendUserInvite","toastMessage","useToastMessage","useState","name","value","elementType","required","type","placeholder","id","number","minLength","userData","setUserData","inputChangedHandler","event","inputIdentifier","updatedFormElement","updateObject","target","updatedOrderForm","formElementsArray","key","push","config","onClick","src","cancel","alt","onSubmit","e","preventDefault","data","localStorage","getItem","map","formElement","Input","maxLength","country","onChange","phone","UIButton","connect","state","invitedUsers","invite","selectedBusiness","business","dispatch","businessId","actions","getAllUserInvites","match","history","activeIndex","setActiveIndex","useBusinessProfile","businessProfile","setBusinessId","businessProfileRef","useRef","params","invitedUsersRef","useEffect","current","threeDots","i","className","classes","threeDot","Toggler","join","Hide","stopPropagation","Helmet","TeamMembers_Business","profile","title","TeamMembers_Main","disabled","status","role","lastLogin","mobileNumber","TeamMembers_Button","_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties"],"mappings":"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","file":"static/js/20.0a7b09eb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/more.feaafa2d.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"TeamMembers_Main__9wNGu\",\"disabled\":\"TeamMembers_disabled__9fQqK\",\"Hide\":\"TeamMembers_Hide__3mavU\",\"threeDot\":\"TeamMembers_threeDot__2l6D_\",\"Toggler\":\"TeamMembers_Toggler__3Rlen\",\"TeamMembers_Business\":\"TeamMembers_TeamMembers_Business__2olZ6\",\"TeamMembers_Button\":\"TeamMembers_TeamMembers_Button__18FaE\"};","export default __webpack_public_path__ + \"static/media/cancel.07d98d42.svg\";","import { rgba } from \"polished\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport UIButton from \"../../../Components/UI/UIButton/UIButton\";\r\nimport cancel from \"../../../assets/icons-2/cancel.svg\";\r\nimport { updateObject } from \"../../../Shared/Utility\";\r\nimport Input from \"../../../Components/UI/Input/Input\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport \"react-phone-input-2/lib/material.css\";\r\n\r\nconst duration = \"0.3s\";\r\n\r\nconst Dialog = styled.div`\r\n  position: fixed;\r\n  z-index: 101;\r\n  bottom: 0%;\r\n  left: 50%;\r\n  width: 100%;\r\n  max-width: 425px;\r\n  height: 320px;\r\n  background: white;\r\n  transform: translate(${(p) => (p.isOpen ? \"-50%, 0%\" : \"-50%, 220%\")});\r\n  transition: transform 0.3s;\r\n  padding: 3% 3%;\r\n  button {\r\n    margin-left: 5% !important;\r\n    margin-top: 5% !important;\r\n  }\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  z-index: 101;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: ${rgba(\"black\", 0.3)};\r\n  visibility: ${(p) => (p.isOpen ? \"visible\" : \"hidden\")};\r\n  transition-property: visibility opacity;\r\n  transition-duration: ${duration};\r\n`;\r\n\r\nconst Header = styled.div`\r\n  width: 90%;\r\n  margin: 5% auto;\r\n  display: grid;\r\n  grid-template-columns: 90% 10%;\r\n  align-items: center;\r\n  margin-bottom: 5%;\r\n  img {\r\n    width: 46%;\r\n    opacity: 0.5;\r\n    margin: auto;\r\n  }\r\n  h1 {\r\n    font-family: Roboto;\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: 1.17;\r\n    letter-spacing: normal;\r\n    color: #24272c;\r\n  }\r\n`;\r\n\r\nconst Main = styled.main`\r\n  & form > div {\r\n    margin-left: 5% !important;\r\n  }\r\n`;\r\n\r\nconst InviteMemberPopup = (props) => {\r\n  const { isOpen, setOpen, sendUserInvite, useToastMessage } = props;\r\n  const toastMessage = useToastMessage();\r\n\r\n  const [userData, setUserData] = useState({\r\n    name: {\r\n      value: \"\",\r\n      elementType: \"text\",\r\n      required: true,\r\n      type: \"text\",\r\n      placeholder: \"Name\",\r\n      id: 1,\r\n    },\r\n    number: {\r\n      value: \"\",\r\n      elementType: \"number\",\r\n      required: true,\r\n      type: \"number\",\r\n      placeholder: \"Mobile Number\",\r\n      id: 2,\r\n      minLength: 10,\r\n    },\r\n  });\r\n\r\n  const inputChangedHandler = (event, inputIdentifier) => {\r\n    let updatedFormElement;\r\n    if (inputIdentifier === \"name\") {\r\n      updatedFormElement = updateObject(userData[inputIdentifier], {\r\n        value: event.target.value,\r\n      });\r\n    } else {\r\n      updatedFormElement = updateObject(userData[inputIdentifier], {\r\n        value: event,\r\n      });\r\n    }\r\n\r\n    const updatedOrderForm = updateObject(userData, {\r\n      [inputIdentifier]: updatedFormElement,\r\n    });\r\n\r\n    return setUserData(updatedOrderForm);\r\n  };\r\n\r\n  const formElementsArray = [];\r\n  for (let key in userData) {\r\n    formElementsArray.push({\r\n      id: key,\r\n      config: userData[key],\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Overlay isOpen={isOpen} onClick={() => setOpen(false)} />\r\n      <Dialog isOpen={isOpen}>\r\n        <Header>\r\n          <h1>Invite team member</h1>\r\n          <img onClick={() => setOpen(false)} src={cancel} alt=\"cancel\" />\r\n        </Header>\r\n        <Main>\r\n          <form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n\r\n              const data = {\r\n                name: userData.name.value,\r\n                number: `+${userData.number.value}`,\r\n              };\r\n\r\n              sendUserInvite(\r\n                data,\r\n                localStorage.getItem(\"businessId\"),\r\n                toastMessage\r\n              );\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            {formElementsArray.map((formElement) => {\r\n              if (formElement.config.elementType === \"text\") {\r\n                return (\r\n                  <Input\r\n                    key={formElement.id}\r\n                    type={formElement.config.elementType}\r\n                    name={formElement.config.type}\r\n                    value={formElement.config.value}\r\n                    inputChangedHandler={inputChangedHandler}\r\n                    required={formElement.config.required}\r\n                    id={formElement.id}\r\n                    placeholder={formElement.config.placeholder}\r\n                    maxLength={formElement.config.maxLength}\r\n                    minLength={formElement.config.minLength}\r\n                  />\r\n                );\r\n              } else {\r\n                return (\r\n                  <PhoneInput\r\n                    country={\"in\"}\r\n                    value={formElement.config.value}\r\n                    onChange={(phone) =>\r\n                      inputChangedHandler(phone, formElement.id)\r\n                    }\r\n                  />\r\n                );\r\n              }\r\n            })}\r\n            <UIButton>Send Invite</UIButton>\r\n          </form>\r\n        </Main>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InviteMemberPopup;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useBusinessProfile } from \"../../contexts/BusinessProfileContext\";\r\nimport classes from \"./TeamMembers.module.css\";\r\nimport threeDot from \"../../assets/icons/more.svg\";\r\nimport InviteMemberPopup from \"../../Components/TeamMembers/InviteMemberPopup/InviteMember.popup\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../Store/actions/index\";\r\nimport { useToastMessage } from \"../../contexts/ToastMessageContext\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { CustomButton, Modal2 } from \"../../Components/exports\";\r\n\r\nconst TeamMembers = ({\r\n  match,\r\n  history,\r\n  sendUserInvite,\r\n  invitedUsers,\r\n  selectedBusiness,\r\n  getAllUserInvites,\r\n}) => {\r\n  const [activeIndex, setActiveIndex] = useState(null);\r\n  const { businessProfile, setBusinessId } = useBusinessProfile();\r\n  const [isOpen, setOpen] = useState(false);\r\n\r\n  const businessProfileRef = useRef(() => {\r\n    return setBusinessId(match.params.businessId);\r\n  });\r\n\r\n  const toastMessage = useToastMessage();\r\n\r\n  const invitedUsersRef = useRef(() => {\r\n    !invitedUsers && getAllUserInvites(toastMessage, match.params.businessId);\r\n  });\r\n\r\n  useEffect(() => {\r\n    businessProfileRef.current();\r\n    invitedUsersRef.current();\r\n  }, []);\r\n\r\n  const threeDots = (i) => {\r\n    return (\r\n      <div className={classes.threeDot}>\r\n        <div\r\n          onClick={(e) => {\r\n            setActiveIndex(null);\r\n          }}\r\n          className={\r\n            activeIndex === i\r\n              ? [classes.Toggler].join(\" \")\r\n              : [classes.Hide, classes.Toggler].join(\" \")\r\n          }\r\n        >\r\n          <p>Remove</p>\r\n        </div>\r\n        <img\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n\r\n            setActiveIndex(i);\r\n          }}\r\n          src={threeDot}\r\n          alt=\"more\"\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Team Members</title>\r\n      </Helmet>\r\n      <section\r\n        className={classes.TeamMembers_Business}\r\n        onClick={(e) => {\r\n          setActiveIndex(null);\r\n        }}\r\n      >\r\n        <Modal2 profile={businessProfile} title=\"Team Members\" />\r\n\r\n        <main className={[classes.TeamMembers_Main, classes.Main].join(\" \")}>\r\n          <ul>\r\n            {invitedUsers &&\r\n              invitedUsers.map((e, i) => {\r\n                return (\r\n                  <li key={i}>\r\n                    <p>{e.name}</p>\r\n                    <p className={classes.disabled}>\r\n                      {e.status ? \"Accepted\" : \"Pending\"}\r\n                    </p>\r\n                    {selectedBusiness &&\r\n                      selectedBusiness.role === \"owner\" &&\r\n                      threeDots(i)}\r\n                    <br />\r\n                    <span>\r\n                      <p className={classes.disabled}>\r\n                        Last login - {e.lastLogin}\r\n                      </p>\r\n                      <p className={classes.disabled}>\r\n                        Mobile - {e.mobileNumber}\r\n                      </p>\r\n                      {/* <p className={classes.disabled}>\r\n                        Dealership - {e.dealershipNumber}\r\n                      </p> */}\r\n                    </span>\r\n                  </li>\r\n                );\r\n              })}\r\n          </ul>\r\n        </main>\r\n        <CustomButton\r\n          className={classes.TeamMembers_Button}\r\n          onClick={() => setOpen(true)}\r\n        >\r\n          Invite team members\r\n        </CustomButton>\r\n        <InviteMemberPopup\r\n          setOpen={setOpen}\r\n          push={history.push}\r\n          isOpen={isOpen}\r\n          params={match.params.businessId}\r\n          useToastMessage={useToastMessage}\r\n          sendUserInvite={sendUserInvite}\r\n        />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    invitedUsers: state.invite.invitedUsers,\r\n    selectedBusiness: state.business.selectedBusiness,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendUserInvite: (data, businessId, toastMessage) =>\r\n      dispatch(actions.sendInvite(data, businessId, toastMessage)),\r\n    getAllUserInvites: (toastMessage, businessId) =>\r\n      dispatch(actions.getAllUserInvites(toastMessage, businessId)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamMembers);\r\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}"],"sourceRoot":""}
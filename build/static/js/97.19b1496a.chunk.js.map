{"version":3,"sources":["Pages/ForgotPassword/Desktop/ForgotForm/ForgotPassword.module.css","Pages/ForgotPassword/Mobile/ForgotForm/ForgotPassword.module.css","Pages/ForgotPassword/Desktop/ForgotForm/index.js","Pages/ForgotPassword/components/assets/logo/top-logo1.svg","Pages/ForgotPassword/components/Header/styles/muiStyles.js","Pages/ForgotPassword/components/Header/index.js","Pages/ForgotPassword/Desktop/assets/character.svg","Pages/ForgotPassword/Desktop/styles/muiStyles.js","Pages/ForgotPassword/Desktop/index.js","Pages/ForgotPassword/Mobile/ForgotForm/index.js","Pages/ForgotPassword/Mobile/styles/muiStyles.js","Pages/ForgotPassword/Mobile/index.js","Pages/ForgotPassword/index.js","hooks/useOnClickOutside.js"],"names":["module","exports","CssTextField","withStyles","root","background","borderRadius","width","color","opacity","border","borderColor","TextField","PasswordComponent","form","isPasswordError","setPasswordError","validatePassword","className","Item","rules","required","message","name","tooltip","type","label","variant","readOnly","onChange","e","target","value","values","getFieldsValue","NewPassword","length","clsx","classes","HelperText","ErrorText","ForgotPassword","mobileNumber","location","useState","isPasswordContent","showPasswordContent","numberError","setNumberError","isOTPSent","setOTPSent","setButtonDisabled","isLoading","setLoading","useLocalStorage","country","setCountry","getCountry","useCallback","a","fetch","method","visitorReq","ok","json","visitor","code","toLowerCase","console","error","Form","useForm","useToastMessage","setSuccessMessage","setErrorMessage","disabled","setDisabled","setInfoMessage","counter","startTimer","resendOTP","setResendOTP","token","userId","setData","resendOTPStyle","display","justifyContent","fontSize","pointerEvents","cursor","signInWithNumber","number","firebase","auth","signInWithPhoneNumber","window","recaptchaVerifier","confirmationResult","submitPhoneNumberAuthCode","otp","cb","setPersistence","Auth","Persistence","NONE","confirm","then","result","user","_lat","currentUser","uid","signOut","catch","useEffect","RecaptchaVerifier","size","callback","response","getFieldValue","alert","useInterval","prevState","onFormSubmit","validateMobileNumber","mobile_number","res","success","messages","errors","ConfirmPassword","resetPasswordNoLogin","password","confirm_password","sleep","open","query","queryString","parse","search","localStorage","getItem","Container","Form_Title","onFinish","enableAreaCodes","onInput","slice","InputProps","inputProps","style","onClick","validator","isStrongPassword","minLength","minLowercase","minUppercase","minNumbers","minSymbols","svgStyle","marginLeft","id","useStyles","makeStyles","theme","main","backgroundColor","borderBottom","height","position","top","left","zIndex","header","margin","logo","minWidth","breakpoints","up","maxWidth","marginRight","Header","ref","useRef","useTheme","isMobile","useMediaQuery","down","setMobileNav","useOnClickOutside","openedSubMenu","document","querySelector","openedSubMenuLink","classList","remove","querySelectorAll","forEach","mobileMenuLink","addEventListener","subMenuItem","nextSibling","subMenuLink","closest","subMenuElement","contains","add","Box","sx","alignItems","href","src","ESLogo","alt","fontFamily","LoginComponent","characterImg","ForgotForm","history","useHistory","data","simpleEncrypt","enc","Form_Header","IconButton","goBack","ArrowBackIos","Header_Text","log","flexDirection","LogoSection","Helmet","rel","Hidden","mdDown","implementation","Desktop","mdUp","Mobile","handler","listener","event","current","removeEventListener"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,UAAY,kCAAkC,WAAa,mCAAmC,KAAO,6BAA6B,WAAa,mCAAmC,UAAY,oC,qBCAhND,EAAOC,QAAU,CAAC,UAAY,kCAAkC,YAAc,oCAAoC,YAAc,oCAAoC,KAAO,6BAA6B,WAAa,mCAAmC,UAAY,oC,kRCiB9PC,EAAeC,YAAW,CAC9BC,KAAM,CACJC,WAAY,UACZC,aAAc,EACdC,MAAO,OAEP,sBAAuB,CACrBC,MAAO,WACPC,QAAS,IAEX,oCAAqC,CACnCC,OAAQ,mBAEV,qCAAsC,CACpCA,OAAQ,mBAEV,yBAA0B,CACxB,mBAAoB,QACpB,aAAc,CACZC,YAAa,WACbF,QAAS,GACTH,aAAc,kBAEhB,mBAAoB,CAClBK,YAAa,WACbF,QAAS,IAEX,yBAA0B,CACxBE,YAAa,WACbF,QAAS,OA7BIN,CAiClBS,KAEGC,EAAoB,SAAC,GAKpB,IAJLC,EAII,EAJJA,KACAC,EAGI,EAHJA,gBACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,iBAEA,OACE,sBAAKC,UAAU,qBAAf,UACE,cAAC,IAAKC,KAAN,CACEC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,cACnCC,KAAK,cACLF,UAAQ,EACRG,QAAQ,WACRN,UAAU,OALZ,SAOE,cAAChB,EAAD,CACEuB,KAAK,WACLF,KAAK,cACLF,UAAQ,EACRK,MAAM,eACNC,QAAQ,SACRC,UAAU,EACVC,SAAU,SAACC,GAAD,OAAOb,EAAiBa,EAAEC,OAAOC,YAI/C,cAAC,IAAKb,KAAN,CACEC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,cACnCC,KAAK,kBACLF,UAAQ,EACRG,QAAQ,WAJV,SAME,cAACtB,EAAD,CACEuB,KAAK,WACLF,KAAK,kBACLF,UAAQ,EACRK,MAAM,mBACNC,QAAQ,SACRC,UAAU,EACVC,SAAU,SAACC,GACT,IAAMG,EAASnB,EAAKoB,iBAEhBD,IACEA,EAAOE,cAAgBL,EAAEC,OAAOC,MAClChB,EACE,kDAGFA,EAAiB,IAEjBC,EAAiBa,EAAEC,OAAOC,cAQnCjB,GAAmBA,EAAgBqB,OAAS,GAC3C,8BACE,mBAAGlB,UAAWmB,kBAAKC,IAAQC,WAAYD,IAAQE,WAA/C,SACGzB,UA4aE0B,EApaQ,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SACtC,EAA4CC,mBAAS,IAArD,mBAAO7B,EAAP,KAAwBC,EAAxB,KAEA,EAAiD4B,oBAAS,GAA1D,mBAAOC,EAAP,KAA0BC,EAA1B,KACA,EAAsCF,mBAAS,IAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAkBC,EAAlB,KAEA,EAA8BN,oBAAS,GAA9BO,EAAT,oBACA,EAAgCP,oBAAS,GAAzC,mBAAOQ,EAAP,KAAkBC,EAAlB,KACA,EAA8BC,YAAgB,UAAW,MAAzD,mBAAOC,EAAP,KAAgBC,EAAhB,KACMC,EAAaC,sBAAW,sBAAC,kCAAAC,EAAA,+EAEFC,MAAM,kCAAmC,CAChEC,OAAQ,QAHiB,YAErBC,EAFqB,QAKZC,GALY,iCAMHD,EAAWE,OANR,OAMnBC,EANmB,OAOzBT,EAAU,OAACS,QAAD,IAACA,GAAD,UAACA,EAAStB,gBAAV,iBAAC,EAAmBY,eAApB,aAAC,EAA4BW,KAAKC,eAPnB,wBASzBX,EAAW,MATc,0DAY3BY,QAAQC,MAAR,MAZ2B,0DAe5B,CAACb,IAEJ,EAAec,IAAKC,UAAbzD,EAAP,oBAwBA,EAMI0D,cALFC,GADF,EACEA,kBACAC,GAFF,EAEEA,gBACAC,GAHF,EAGEA,SACAC,GAJF,EAIEA,YACAC,GALF,EAKEA,eAGF,GAAkCjC,mBAAS,CACzCkC,QAAS,EACTH,UAAU,EACVI,YAAY,IAHd,qBAAOC,GAAP,MAAkBC,GAAlB,MAOA,GAAwBrC,mBAAS,CAAEsC,MAAO,KAAMC,OAAQ,KAAxD,qBAAaC,IAAb,aAEMC,GAAiB,CACrBC,QAAS,OACTC,eAAgB,WAChBhF,MAAO,cACPiF,SAAU,OACV/E,QAASuE,GAAUL,UAAY9B,EAAoB,GAAM,GACzD4C,cAAeT,GAAUL,UAAY9B,EAAoB,OAAS,MAClE6C,OAAQV,GAAUL,UAAY9B,EAAoB,cAAgB,WAkB9D8C,GAAgB,uCAAG,WAAOC,GAAP,eAAAjC,EAAA,2DACnBiC,EAAOxD,QAAU,IADE,wDAGvBiB,GAAW,GAEXuB,KALuB,kBAQYiB,IAC9BC,OACAC,sBAAsBH,EAAQI,OAAOC,mBAVnB,cAQfC,EARe,OAYrBF,OAAOE,mBAAqBA,EAE5BhD,GAAW,GAEXG,GAAW,GAhBU,kBAkBdwB,GACL,yDACA,MApBmB,yCAuBrBA,GACE,yDACA,KAGF3B,GAAW,GA5BU,kBA6BdG,GAAW,IA7BG,0DAAH,sDAiChB8C,GAAyB,uCAAG,WAAOC,EAAKC,GAAZ,SAAA1C,EAAA,sEAE9BiB,KAF8B,SAIxBiB,IAASC,OAAOQ,eAAeT,IAASC,KAAKS,KAAKC,YAAYC,MAJtC,WAK1BT,OAAOE,mBALmB,gBAM5BF,OAAOE,mBACJQ,QAAQN,GACRO,MAAK,SAACC,GAEL,IACM1B,EADO0B,EACMC,KAAKC,KAElB3B,EAASU,IAASC,OAAOiB,YAAYC,IAI3C,OAFAnB,IAASC,OAAOmB,UAETZ,GAAMA,EAAG,CAAElB,SAAQD,aAE3BgC,OAAM,SAAC7C,GAEN,OADAhB,GAAW,GACJqB,GAAgB,kBArBC,8BAwB5BrB,GAAW,GAxBiB,kBA0BrBqB,GAAgB,gBA1BK,iEA6B9BrB,GAAW,GA7BmB,kBA+BvBqB,GAAgB,gBA/BO,0DAAH,wDAsD/ByC,qBAAU,WACY,IAAD,OAAKzE,GAnBxBsD,OAAOC,kBAAoB,IAAIJ,IAASC,KAAKsB,kBAC3C,oBACA,CACEC,KAAM,YACNC,SAAU,SAAUC,GAClB,IAAM3B,EAAS9E,EAAK0G,cAAc,UAElC5B,GAAUD,GAAiB,IAAD,OAAKC,KAEjC,mBAAoB,WAGlB6B,MAAM,mBAWX,IAEHC,aACE,WACEzC,IAAa,SAAC0C,GAAD,mBAAC,eACTA,GADQ,IAEXhD,SAAUgD,EAAU7C,QAAU,EAC9BA,QAAS6C,EAAU7C,QAAU,EAC7BC,WAAY4C,EAAU7C,QAAU,SAGpCE,GAAUF,SAAW,GAAKE,GAAUD,WAAa,IAAO,MAG1D,IAAM6C,GAAY,uCAAG,WAAO3F,GAAP,qBAAA0B,EAAA,yDACdV,GAAcJ,EADA,sBAEbZ,EAAO2D,QAAU3D,EAAO2D,OAAOxD,QAAU,IAF5B,wBAGfiB,GAAW,GAHI,SAKGwE,+BAAqB,CACrCC,cAAc,IAAD,OAAM7F,EAAO2D,UANb,WAKTmC,EALS,QASNC,QATM,wBAUb3E,GAAW,GACXH,GAAW,GAXE,kBAYNwB,GAAgBqD,EAAIzG,SAAWyG,EAAIE,SAASC,OAAO,GAAG5G,UAZhD,eAcf0B,EAAe,IAdA,kBAeR2C,GAAiB,IAAD,OAAK1D,EAAO2D,UAfpB,YAmBf3C,GAAcJ,EAnBC,sBAoBbZ,EAAOmE,IAAIhE,OAAS,GApBP,iBAqBfiB,GAAW,GAEX8C,GAA0BlE,EAAOmE,IAAR,uCAAa,+BAAAzC,EAAA,6DAASwB,EAAT,EAASA,OAAQD,EAAjB,EAAiBA,MAAjB,SAElCE,GAAQ,CAAED,OAAQA,EAAQD,MAAOA,IAEjC7B,GAAW,GAEXP,GAAoB,GANc,kBAO3B2B,GAAkB,+BAPS,uCASlCpB,GAAW,GATuB,kBAU3BqB,GAAgB,KAAIpD,UAVO,yDAAb,uDAvBV,iDAqCRmG,MAAM,0BArCE,YAyCfxE,IAAaJ,EAzCE,sBA0CbZ,EAAOkG,gBAAgB/F,QAAU,GA1CpB,0CA2CRsC,GACL,wDA5Ca,eAgDjBrB,GAAW,GAhDM,UAkDC+E,+BAAqB,CACrCN,cAAc,IAAD,OAAM7F,EAAO2D,QAC1ByC,SAAUpG,EAAOE,YACjBmG,iBAAkBrG,EAAOkG,kBArDV,YAkDXJ,EAlDW,QAuDRC,QAvDQ,wBAwDf3E,GAAW,GAxDI,kBAyDRqB,IAAgB,UAAAqD,EAAIE,gBAAJ,mBAAcC,OAAO,UAArB,eAAyB5G,UAAWyG,EAAIzG,UAzDhD,eA4DjBmD,GAAkB,gDA5DD,UA8DX8D,YAAM,KA9DK,eAgEjB1D,GAAe,+CAEfmB,OAAOwC,KAAK,SAAU,SAlEL,kBAoEVnF,GAAW,IApED,4CAAH,sDA0FlB,OAlBA8D,qBAAU,WACR,IAAMsB,EAAQC,IAAYC,MAAZ,OAAkBhG,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAUiG,QAEtCH,EAAM7C,QACH6C,EAAM7C,QAAU,IAAIzC,GAAkB,GACtCA,GAAkB,KACxB,CAACR,IAEJwE,qBAAU,WACJ0B,aAAaC,QAAQ,UACvB9C,OAAOwC,KAAK,aAAc,WAE3B,IAEHrB,qBAAU,WACI,OAAZ5D,GAAoBE,MACnB,CAACF,EAASE,IAGX,0BAASvC,UAAWoB,IAAQyG,UAA5B,UACE,qBAAK7H,UAAWmB,kBAAK,sBAAuBC,IAAQ0G,YAApD,SACE,mDAEF,eAAC,IAAD,CACElI,KAAMA,EACNI,UAAWmB,kBAAKC,IAAQgC,MACxB2E,SAAQ,uCAAE,WAAOhH,GAAP,SAAA0B,EAAA,+EAAkBiE,GAAa3F,IAA/B,2CAAF,sDAHV,UAME,qBAAKf,UAAU,qBAAf,SACE,cAAC,IAAKC,KAAN,CACEC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,cACnCC,KAAK,SACLF,UAAQ,EACRG,QAAQ,yBAJV,SAME,cAAC,IAAD,CACE+B,QAASA,EACT2F,iBAAiB,EACjBC,QAAO,uCAAE,WAAOrH,GAAP,SAAA6B,EAAA,sDACH7B,EAAEC,OAAOC,MAAMI,QAAU,IAC3BN,EAAEC,OAAOC,MAAQF,EAAEC,OAAOC,MAAMoH,MAAM,EAAG,IACzCjG,GAAkB,KAElBH,EAAe,IACfG,GAAkB,IANb,2CAAF,sDASPzB,MAAM,aACNH,KAAK,SACL8H,WAAY,CAAE1H,QAAS,UACvB2H,WAAY,CACV3E,SAAU1B,EACVrB,SAAUqB,SAwBlB,sBAAK/B,UAAU,gBAAf,UACE,cAAC,IAAKC,KAAN,CACEC,MAAO,CAAC,CAAEC,SAAU4B,EAAW3B,QAAS,cACxCC,KAAK,MACLF,SAAU4B,EACVzB,QAAQ,eAJV,SAME,cAACtB,EAAD,CACEmB,SAAU4B,EACVxB,KAAK,WACLF,KAAK,MACLG,MAAM,YACNC,QAAQ,SACRgD,SAAU9B,IAAsBI,EAChCrB,SAAUiB,MAKbI,GACC,sBAAK/B,UAAU,sCAAf,UACE,oBAAGA,UAAWoB,IAAQC,WAAtB,uBACazB,EAAK0G,cAAc,aAEhC,oBACE+B,MAAOlE,GACPmE,QAAS,YAxSJ,WACjB,IAAM5D,EAAS9E,EAAK0G,cAAc,UAE9B5B,IACFD,GAAiB,IAAD,OAAKC,IAErBX,IAAa,SAAC0C,GAAD,mBAAC,eACTA,GADQ,IAEXhD,UAAU,EACVG,QAAS,GACTC,YAAY,QA+RFA,IAHJ,uBAOGC,GAAUF,QAAU,IACnBE,GAAUF,QAAU,GADrB,cAEQE,GAAUF,QAFlB,cAQRjC,GAAqBI,GAAaF,EAAYX,OAAS,GACtD,cAAC,EAAD,CACEtB,KAAMA,EACNE,iBAAkBA,EAClBD,gBAAiBA,EACjBE,iBA3We,SAACe,GACxB,OACEyH,IAAUC,iBAAiB1H,EAAO,CAChC2H,UAAW,EACXC,aAAc,EACdC,aAAc,EACdC,WAAY,EACZC,WAAY,IAGP/I,EAAiB,IAEpBgB,EAAMI,OAAS,EACVpB,EAAiB,4CAEjBA,EACL,yGA8VF,qBAAKE,UAAU,gBAAf,SACE,cAAC,IAAD,CACEA,UAAU,iBACVyD,SACEA,IACC5D,GAAmBA,EAAgBqB,OAAS,GAC7CgB,GACAL,EAAYX,OAAS,EAEvBX,KAAK,SACLuI,SAAU,CAAEC,WAAY,QAT1B,SAWGhH,IAAcJ,EACX,WACAA,EACA,kBACA,iBAIV,qBAAKqH,GAAG,0B,oCCzhBC,MAA0B,sC,iBC0D1BC,EAvDGC,aAAW,SAACC,GAAD,gBAC3BC,KAAM,CACJC,gBAAiB,UACjBC,aAAc,oBACdlF,QAAS,OACTmF,OAAQ,OACRC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNrK,MAAO,OACPsK,OAAQ,KAEVC,OAAQ,CACNL,OAAQ,OACRlK,MAAO,OACPwK,OAAQ,UAEVC,KAAM,CACJzK,MAAO,QACP0K,SAAU,UAnBe,cAqB1BZ,EAAMa,YAAYC,GAAG,MAAQ,CAC5BL,OAAQ,CACNM,SAAU,SAvBa,cA0B1Bf,EAAMa,YAAYC,GAAG,MAAQ,CAC5BL,OAAQ,CACNvK,MAAO,OAETyK,KAAM,CACJK,YAAa,UA/BU,cAkC1BhB,EAAMa,YAAYC,GAAG,MAAQ,CAC5Bb,KAAM,CACJG,OAAQ,QAEVK,OAAQ,CACNvK,MAAO,MACP6K,SAAU,YAxCa,cA2C1Bf,EAAMa,YAAYC,GAAG,MAAQ,CAC5BL,OAAQ,CACNM,SAAU,SA7Ca,cAgD1Bf,EAAMa,YAAYC,GAAG,MAAQ,CAC5BL,OAAQ,CACNvK,MAAO,SAlDgB,KC8Gd+K,EA/FA,SAAC,GAAa,EAAX7J,KAAY,IACtB8J,EAAMC,mBAENlJ,EAAU6H,IAGVE,EAAQoB,cAGRC,EAAWC,YAActB,EAAMa,YAAYU,KAAK,OAEtD,EAAyBhJ,oBAAS,GAAzBiJ,EAAT,oBAqEA,OAnEAC,YAAkBP,GAAK,WACrB,IAAMQ,EAAgBC,SAASC,cAC3B,kCAEFC,EAAoBF,SAASC,cAAc,0BAC7CC,GAAqBA,EAAkBC,UAAUC,OAAO,QACxDL,GAAiBA,EAAcI,UAAUC,OAAO,WAGlDjF,qBAAU,WACR,GAAsB,qBAAXnB,OAAwB,CACjC,GAAI0F,EACsBM,SAASK,iBAC/B,iGAIcC,SAAQ,SAACC,GAAD,OACtBA,EAAeC,iBAAiB,SAAS,kBAAMX,GAAa,SAG3CG,SAASK,iBAAiB,qBAElCC,SAAQ,SAACG,GACGA,EAAYC,YACHL,iBAAiB,UAGpCC,SAAQ,SAACK,GAEpBA,EAAYH,iBAAiB,SAAS,kBACpCG,EACGC,QAAQ,iBACRX,cAAc,aACdE,UAAUC,OAAO,cAKxBK,EAAYD,iBAAiB,SAAS,WACpC,IAAMT,EAAgBC,SAASC,cAC3B,kCAEFC,EAAoBF,SAASC,cAC3B,0BAEFY,EAAiBJ,EAAYC,YAG3BX,GAAiBA,IAAkBc,IAErCX,EAAkBC,UAAUC,OAAO,QACnCL,EAAcI,UAAUC,OAAO,SAG7BS,EAAeV,UAAUW,SAAS,SACpCL,EAAYN,UAAUC,OAAO,QAC7BS,EAAeV,UAAUC,OAAO,UAEhCK,EAAYN,UAAUY,IAAI,QAC1BF,EAAeV,UAAUY,IAAI,kBAKpC,CAACrB,IAGF,mCACE,qBAAKxK,UAAWoB,EAAQgI,KAAxB,SACE,wBAAQpJ,UAAWoB,EAAQwI,OAA3B,SACE,cAACkC,EAAA,EAAD,CAAKC,GAAI,CAAE3H,QAAS,OAAQ4H,WAAY,SAAUzC,OAAQ,QAA1D,SACE,mBAAG0C,KAAK,IAAI5D,MAAO,CAAEjE,QAAS,eAA9B,SACE,qBAAK8H,IAAKC,EAAQC,IAAI,OAAOpM,UAAWoB,EAAQ0I,kBCxG/C,MAA0B,sCCiC1Bb,EA9BGC,aAAW,SAACC,GAC5B,MAAO,CACL,cAAe,CACbe,SAAU,MACVL,OAAQ,YACRwC,WAAY,wBAEd,4BAA6B,CAC3B,cAAe,CACbL,WAAY,SACZ5H,QAAS,OACTmF,OAAQ,QACRlF,eAAgB,eAChBwF,OAAQ,SACRxK,MAAO,QAGX,6BAA8B,CAC5B,cAAe,CACbA,MAAO,QAGX,6BAA8B,CAC5B,cAAe,CACb6K,SAAU,eCmCHoC,EAjDQ,WACrB,IAAMlL,EAAU6H,IAEhB,OACE,qCAEE,cAAC,EAAD,CAAQ1I,KAAK,UAGb,0BAASP,UAAWoB,EAAQ,eAA5B,UACE,qBAAKpB,UAAU,YAAf,SACE,qBAAKkM,IAAKK,EAAcH,IAAI,gBAE9B,gCACE,cAACI,EAAD,KACC,Y,+DCDLxN,EAAeC,YAAW,CAC9BC,KAAM,CACJC,WAAY,UACZC,aAAc,EACdC,MAAO,OAEP,sBAAuB,CACrBC,MAAO,WACPC,QAAS,IAEX,oCAAqC,CACnCC,OAAQ,mBAEV,qCAAsC,CACpCA,OAAQ,mBAEV,yBAA0B,CACxB,mBAAoB,QACpB,aAAc,CACZC,YAAa,WACbF,QAAS,GACTH,aAAc,kBAEhB,mBAAoB,CAClBK,YAAa,WACbF,QAAS,IAEX,yBAA0B,CACxBE,YAAa,WACbF,QAAS,OA7BIN,CAiClBS,KAEGC,EAAoB,SAAC,GAKpB,IAJLC,EAII,EAJJA,KACAC,EAGI,EAHJA,gBACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,iBAEA,OACE,sBAAKC,UAAU,qBAAf,UACE,cAAC,IAAKC,KAAN,CACEC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,cACnCC,KAAK,cACLF,UAAQ,EACRG,QAAQ,WACRN,UAAU,OALZ,SAOE,cAAC,EAAD,CACEO,KAAK,WACLF,KAAK,cACLF,UAAQ,EACRK,MAAM,eACNC,QAAQ,SACRC,UAAU,EACVC,SAAU,SAACC,GAAD,OAAOb,EAAiBa,EAAEC,OAAOC,YAI/C,cAAC,IAAKb,KAAN,CACEC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,cACnCC,KAAK,kBACLF,UAAQ,EACRG,QAAQ,WAJV,SAME,cAAC,EAAD,CACEC,KAAK,WACLF,KAAK,kBACLF,UAAQ,EACRK,MAAM,mBACNC,QAAQ,SACRC,UAAU,EACVC,SAAU,SAACC,GACT,IAAMG,EAASnB,EAAKoB,iBAEhBD,IACEA,EAAOE,cAAgBL,EAAEC,OAAOC,MAClChB,EACE,kDAGFA,EAAiB,IAEjBC,EAAiBa,EAAEC,OAAOC,cAQnCjB,GAAmBA,EAAgBqB,OAAS,GAC3C,8BACE,mBAAGlB,UAAWmB,kBAAKC,IAAQC,WAAYD,IAAQE,WAA/C,SACGzB,UA0dE0B,GAldQ,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SAChCgL,EAAUC,uBAChB,EAA4ChL,mBAAS,IAArD,mBAAO7B,EAAP,KAAwBC,EAAxB,KAEA,EAAiD4B,oBAAS,GAA1D,mBAAOC,EAAP,KAA0BC,EAA1B,KACA,EAAsCF,mBAAS,IAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAkBC,EAAlB,KAEA,EAA8BN,oBAAS,GAA9BO,EAAT,oBACA,EAAgCP,oBAAS,GAAzC,mBAAOQ,EAAP,KAAkBC,EAAlB,KAEA,EAA8BC,YAAgB,UAAW,MAAzD,mBAAOC,EAAP,KAAgBC,GAAhB,KACMC,GAAaC,sBAAW,sBAAC,kCAAAC,EAAA,+EAEFC,MAAM,kCAAmC,CAChEC,OAAQ,QAHiB,YAErBC,EAFqB,QAKZC,GALY,iCAMHD,EAAWE,OANR,OAMnBC,EANmB,OAOzBT,GAAU,OAACS,QAAD,IAACA,GAAD,UAACA,EAAStB,gBAAV,iBAAC,EAAmBY,eAApB,aAAC,EAA4BW,KAAKC,eAPnB,wBASzBX,GAAW,MATc,0DAY3BY,QAAQC,MAAR,MAZ2B,0DAe5B,CAACb,KAEJ,GAAec,IAAKC,UAAbzD,GAAP,qBAwBA,GAMI0D,cALFC,GADF,GACEA,kBACAC,GAFF,GAEEA,gBACAC,GAHF,GAGEA,SACAC,GAJF,GAIEA,YACAC,GALF,GAKEA,eAGF,GAAkCjC,mBAAS,CACzCkC,QAAS,EACTH,UAAU,EACVI,YAAY,IAHd,qBAAOC,GAAP,MAAkBC,GAAlB,MAMA,GAAwBrC,mBAAS,CAAEsC,MAAO,KAAMC,OAAQ,KAAxD,qBAAO0I,GAAP,MAAazI,GAAb,MAEMC,GAAiB,CACrBC,QAAS,OACTC,eAAgB,WAChBhF,MAAO,cACPiF,SAAU,OACV/E,QAASuE,GAAUL,UAAY9B,EAAoB,GAAM,GACzD4C,cAAeT,GAAUL,UAAY9B,EAAoB,OAAS,MAClE6C,OAAQV,GAAUL,UAAY9B,EAAoB,cAAgB,WAkB9D8C,GAAgB,uCAAG,WAAOC,GAAP,eAAAjC,EAAA,2DACnBiC,EAAOxD,QAAU,IADE,wDAGvBiB,GAAW,GAEXuB,KALuB,kBAQYiB,IAC9BC,OACAC,sBAAsBH,EAAQI,OAAOC,mBAVnB,cAQfC,EARe,OAYrBF,OAAOE,mBAAqBA,EAE5BhD,GAAW,GAEXG,GAAW,GAhBU,kBAkBdwB,GACL,yDACA,MApBmB,yCAuBrBA,GACE,yDACA,KAGF3B,GAAW,GA5BU,kBA6BdG,GAAW,IA7BG,0DAAH,sDAiChB8C,GAAyB,uCAAG,WAAOC,EAAKC,GAAZ,SAAA1C,EAAA,sEAE9BiB,KAF8B,SAIxBiB,IAASC,OAAOQ,eAAeT,IAASC,KAAKS,KAAKC,YAAYC,MAJtC,WAK1BT,OAAOE,mBALmB,gBAM5BF,OAAOE,mBACJQ,QAAQN,GACRO,MAAK,SAACC,GAEL,IACM1B,EADO0B,EACMC,KAAKC,KAElB3B,EAASU,IAASC,OAAOiB,YAAYC,IAI3C,OAFAnB,IAASC,OAAOmB,UAETZ,GAAMA,EAAG,CAAElB,SAAQD,aAE3BgC,OAAM,SAAC7C,GAEN,OADAhB,GAAW,GACJqB,GAAgB,kBArBC,8BAwB5BrB,GAAW,GAxBiB,kBA0BrBqB,GAAgB,gBA1BK,iEA6B9BrB,GAAW,GA7BmB,kBA+BvBqB,GAAgB,gBA/BO,0DAAH,wDAsD/ByC,qBAAU,WACY,IAAD,OAAKzE,GAnBxBsD,OAAOC,kBAAoB,IAAIJ,IAASC,KAAKsB,kBAC3C,oBACA,CACEC,KAAM,YACNC,SAAU,SAAUC,GAClB,IAAM3B,EAAS9E,GAAK0G,cAAc,UAElC5B,GAAUD,GAAiB,IAAD,OAAKC,KAEjC,mBAAoB,WAGlB6B,MAAM,mBAWX,IAEHC,aACE,WACEzC,IAAa,SAAC0C,GAAD,mBAAC,eACTA,GADQ,IAEXhD,SAAUgD,EAAU7C,QAAU,EAC9BA,QAAS6C,EAAU7C,QAAU,EAC7BC,WAAY4C,EAAU7C,QAAU,SAGpCE,GAAUF,SAAW,GAAKE,GAAUD,WAAa,IAAO,MAG1D,IAAM6C,GAAY,uCAAG,WAAO3F,GAAP,eAAA0B,EAAA,yDACdV,GAAcJ,EADA,sBAEbZ,EAAO2D,QAAU3D,EAAO2D,OAAOxD,QAAU,IAF5B,wBAGfiB,GAAW,GAHI,SAKGwE,+BAAqB,CACrCjC,OAAO,IAAD,OAAM3D,EAAO2D,UANN,kBASPvB,MATO,wBAUbhB,GAAW,GACXH,GAAW,GAXE,kBAaN2B,GACL,yDACA,MAfW,eAmBf7B,EAAe,IAnBA,kBAqBR2C,GAAiB,IAAD,OAAK1D,EAAO2D,UArBpB,YAyBf3C,GAAcJ,EAzBC,sBA0BbZ,EAAOmE,IAAIhE,OAAS,GA1BP,iBA2BfiB,GAAW,GAEX8C,GAA0BlE,EAAOmE,IAAR,uCAAa,+BAAAzC,EAAA,6DAASwB,EAAT,EAASA,OAAQD,EAAjB,EAAiBA,MAAjB,SAElCE,GAAQ,CAAED,OAAQA,EAAQD,MAAOA,IAEjC7B,GAAW,GAEXP,GAAoB,GANc,kBAO3B2B,GAAkB,+BAPS,uCASlCpB,GAAW,GATuB,kBAU3BqB,GAAgB,KAAIpD,UAVO,yDAAb,uDA7BV,iDA2CRmG,MAAM,0BA3CE,YA+CfxE,IAAaJ,EA/CE,sBAgDbZ,EAAOkG,gBAAgB/F,QAAU,GAhDpB,0CAiDRsC,GACL,wDAlDa,eAsDjBrB,GAAW,GAtDM,UAwDC+E,+BAAqB,CACrCjD,OAAQ0I,GAAK1I,OACbD,MAAO2I,GAAK3I,MACZmD,SAAUyF,YAAc7L,EAAOkG,iBAAiB4F,MA3DjC,aAwDXhG,EAxDW,QA8DT1D,MA9DS,wBA+DfhB,GAAW,GA/DI,kBAgERqB,GAAgBqD,EAAI1D,QAhEZ,eAmEjBI,GAAkB,gDAnED,UAqEX8D,YAAM,KArEK,eAuEjB1D,GAAe,+CAEfmB,OAAOwC,KAAK,SAAU,SAzEL,kBA2EVnF,GAAW,IA3ED,4CAAH,sDAqGlB,OAtBA8D,qBAAU,WACR,IAAMsB,EAAQC,IAAYC,MAAZ,OAAkBhG,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAUiG,QAEtCH,EAAM7C,QACH6C,EAAM7C,QAAU,IACnBzC,GAAkB,GAGpBA,GAAkB,KAEnB,CAACR,IAEJwE,qBAAU,WACJ0B,aAAaC,QAAQ,UACvB9C,OAAOwC,KAAK,aAAc,WAE3B,IAEHrB,qBAAU,WACI,OAAZ5D,GAAoBE,OACnB,CAACF,EAASE,KAGX,0BAASvC,UAAWoB,IAAQyG,UAA5B,UACE,sBAAK7H,UAAWoB,IAAQ0L,YAAxB,UACE,cAACC,EAAA,EAAD,CAAYzE,QAAS,kBAAMmE,EAAQO,UAAnC,SACE,cAACC,EAAA,EAAD,MAEF,qBAAKjN,UAAWoB,IAAQ8L,YAAxB,SACE,sDAIJ,eAAC,IAAD,CACEtN,KAAMA,GACNI,UAAWmB,kBAAKC,IAAQgC,MACxB2E,SAAQ,uCAAE,WAAOhH,GAAP,SAAA0B,EAAA,+EAAkBiE,GAAa3F,IAA/B,2CAAF,sDAHV,UAME,qBAAKf,UAAU,qBAAf,SACE,cAAC,IAAKC,KAAN,CACEC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,cACnCC,KAAK,SACLF,UAAQ,EACRG,QAAQ,yBAJV,SAME,cAAC,IAAD,CACE+B,QAASA,EACT2F,iBAAiB,EACjBC,QAAO,uCAAE,WAAOrH,GAAP,SAAA6B,EAAA,sDACH7B,EAAEC,OAAOC,MAAMI,QAAU,IAC3BN,EAAEC,OAAOC,MAAQF,EAAEC,OAAOC,MAAMoH,MAAM,EAAG,IACzCjG,GAAkB,KAElBH,EAAe,IACfG,GAAkB,IANb,2CAAF,sDASPzB,MAAM,aACNH,KAAK,SACL8H,WAAY,CAAE1H,QAAS,UACvB2H,WAAY,CACV3E,SAAU1B,EACVrB,SAAUqB,SAwBlB,sBAAK/B,UAAU,gBAAf,UACE,cAAC,IAAKC,KAAN,CACEC,MAAO,CAAC,CAAEC,SAAU4B,EAAW3B,QAAS,cACxCC,KAAK,MACLF,SAAU4B,EACVzB,QAAQ,eAJV,SAME,cAAC,EAAD,CACEH,SAAU4B,EACVxB,KAAK,WACLF,KAAK,MACLG,MAAM,YACNC,QAAQ,SACRgD,SAAU9B,IAAsBI,EAChCrB,SAAUiB,MAKbI,GACC,sBAAK/B,UAAU,sCAAf,UACE,oBAAGA,UAAWoB,IAAQC,WAAtB,uBACazB,GAAK0G,cAAc,aAEhC,oBACE+B,MAAOlE,GACPmE,QAAS,YAzTJ,WACjB,IAAM5D,EAAS9E,GAAK0G,cAAc,UAE9B5B,IACFD,GAAiB,IAAD,OAAKC,IAErBX,IAAa,SAAC0C,GAAD,mBAAC,eACTA,GADQ,IAEXhD,UAAU,EACVG,QAAS,GACTC,YAAY,QAgTFA,IAHJ,uBAOGC,GAAUF,QAAU,IACnBE,GAAUF,QAAU,GADrB,cAEQE,GAAUF,QAFlB,cAQRjC,GAAqBI,GAAaF,EAAYX,OAAS,GACtD,cAAC,EAAD,CACEtB,KAAMA,GACNE,iBAAkBA,EAClBD,gBAAiBA,EACjBE,iBA3Xe,SAACe,GACxB,OACEyH,IAAUC,iBAAiB1H,EAAO,CAChC2H,UAAW,EACXC,aAAc,EACdC,aAAc,EACdC,WAAY,EACZC,WAAY,IAGP/I,EAAiB,IAEpBgB,EAAMI,OAAS,EACVpB,EAAiB,4CAEjBA,EACL,yGA8WF,qBAAKE,UAAU,gBAAf,SACE,cAAC,IAAD,CACEA,UAAU,iBACVyD,SACEA,IACC5D,GAAmBA,EAAgBqB,OAAS,GAC7CgB,GACAL,EAAYX,OAAS,EAEvBX,KAAK,SACLuI,SAAU,CAAEC,WAAY,QAT1B,SAWGhH,IAAcJ,EACX,WACAA,EACA,kBACA,kBAIT,EA4BD,qBAAKqH,GAAG,0BC7jBCC,GAhBGC,aAAW,SAACC,GAE5B,OADAjG,QAAQiK,IAAIhE,EAAMa,YAAYC,GAAG,OAC1B,CACL,cAAe,CACbZ,gBAAiB,UACjBjF,QAAS,OACTgJ,cAAe,SACf7D,OAAQ,QAER,QAAS,CACPnF,QAAS,aCMFkI,GAXQ,WACrB,IAAMlL,EAAU6H,KAEhB,OACE,sBAAKjJ,UAAWoB,EAAQ,eAAxB,UACE,cAACiM,EAAA,EAAD,IACA,cAAC,GAAD,Q,iBC2CS9L,UA1CQ,WACrB,OACE,qCAEE,eAAC+L,GAAA,OAAD,WACE,sBACErB,KAAK,kKACLsB,IAAI,eAEN,sBACEtB,KAAK,8JACLsB,IAAI,eAEN,sBACEtB,KAAK,8JACLsB,IAAI,eAEN,sBACEtB,KAAK,8JACLsB,IAAI,eAEN,sBACEtB,KAAK,qKACLsB,IAAI,eAEN,sBACEtB,KAAK,4JACLsB,IAAI,kBAIR,cAACC,EAAA,EAAD,CAAQC,QAAM,EAACC,eAAe,KAA9B,SACE,cAACC,EAAD,MAGF,cAACH,EAAA,EAAD,CAAQI,MAAI,EAACF,eAAe,KAA5B,SACE,cAACG,GAAD,W,iCCnDR,6CAEajD,EAAoB,SAACP,EAAKyD,GACrC7H,qBACE,WACE,IAAM8H,EAAW,SAACC,GAEX3D,EAAI4D,UAAW5D,EAAI4D,QAAQrC,SAASoC,EAAMnN,SAG/CiN,EAAQE,IAIV,OAFAlD,SAASQ,iBAAiB,YAAayC,GACvCjD,SAASQ,iBAAiB,aAAcyC,GACjC,WACLjD,SAASoD,oBAAoB,YAAaH,GAC1CjD,SAASoD,oBAAoB,aAAcH,MAS/C,CAAC1D,EAAKyD","file":"static/js/97.19b1496a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ForgotPassword_Container__2Ogja\",\"Form_Title\":\"ForgotPassword_Form_Title__3SzZL\",\"Form\":\"ForgotPassword_Form__2_0Zy\",\"HelperText\":\"ForgotPassword_HelperText__1lJ6q\",\"ErrorText\":\"ForgotPassword_ErrorText__rwB30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ForgotPassword_Container__1x85h\",\"Form_Header\":\"ForgotPassword_Form_Header__2F2UV\",\"Header_Text\":\"ForgotPassword_Header_Text__1neT9\",\"Form\":\"ForgotPassword_Form__30ZAV\",\"HelperText\":\"ForgotPassword_HelperText__1WY-v\",\"ErrorText\":\"ForgotPassword_ErrorText__2LkwA\"};","import { TextField, withStyles } from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport queryString from \"query-string\";\r\nimport validator from \"validator\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\n\r\nimport firebase from \"firebase\";\r\nimport { UIButton } from \"Components/exports\";\r\nimport { useToastMessage } from \"contexts\";\r\nimport classes from \"./ForgotPassword.module.css\";\r\nimport { useInterval } from \"hooks/useInterval\";\r\nimport { resetPasswordNoLogin, validateMobileNumber } from \"api/Auth\";\r\n\r\nimport { Form } from \"antd\";\r\nimport { sleep } from \"Shared/Utility\";\r\nimport useLocalStorage from \"hooks/useLocalStorage\";\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    background: \"#f2f3f7\",\r\n    borderRadius: 5,\r\n    width: \"100%\",\r\n\r\n    \"& label.Mui-focused\": {\r\n      color: \"#000000;\",\r\n      opacity: 0.5,\r\n    },\r\n    \"& .MuiFilledInput-underline:after\": {\r\n      border: \"none !important\",\r\n    },\r\n    \"& .MuiFilledInput-underline:before\": {\r\n      border: \"none !important\",\r\n    },\r\n    \"& .MuiFilledInput-root\": {\r\n      \"background-color\": \"unset\",\r\n      \"& fieldset\": {\r\n        borderColor: \"#000000;\",\r\n        opacity: 0.1,\r\n        borderRadius: \"5px !important\",\r\n      },\r\n      \"&:hover fieldset\": {\r\n        borderColor: \"#000000;\",\r\n        opacity: 0.3,\r\n      },\r\n      \"&.Mui-focused fieldset\": {\r\n        borderColor: \"#000000;\",\r\n        opacity: 0.3,\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst PasswordComponent = ({\r\n  form,\r\n  isPasswordError,\r\n  setPasswordError,\r\n  validatePassword,\r\n}) => {\r\n  return (\r\n    <div className=\"col-10 m-auto mt-3\">\r\n      <Form.Item\r\n        rules={[{ required: true, message: \"Required!\" }]}\r\n        name=\"NewPassword\"\r\n        required\r\n        tooltip=\"Required\"\r\n        className=\"mb-3\"\r\n      >\r\n        <CssTextField\r\n          type=\"password\"\r\n          name=\"NewPassword\"\r\n          required\r\n          label=\"New Password\"\r\n          variant=\"filled\"\r\n          readOnly={false}\r\n          onChange={(e) => validatePassword(e.target.value)}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        rules={[{ required: true, message: \"Required!\" }]}\r\n        name=\"ConfirmPassword\"\r\n        required\r\n        tooltip=\"Required\"\r\n      >\r\n        <CssTextField\r\n          type=\"password\"\r\n          name=\"ConfirmPassword\"\r\n          required\r\n          label=\"Confirm Password\"\r\n          variant=\"filled\"\r\n          readOnly={false}\r\n          onChange={(e) => {\r\n            const values = form.getFieldsValue();\r\n\r\n            if (values) {\r\n              if (values.NewPassword !== e.target.value) {\r\n                setPasswordError(\r\n                  \"Confirm Password must match with New Password\"\r\n                );\r\n              } else {\r\n                setPasswordError(\"\");\r\n\r\n                validatePassword(e.target.value);\r\n              }\r\n            }\r\n          }}\r\n        />\r\n      </Form.Item>\r\n\r\n      {/* helper text */}\r\n      {isPasswordError && isPasswordError.length > 0 && (\r\n        <div>\r\n          <p className={clsx(classes.HelperText, classes.ErrorText)}>\r\n            {isPasswordError}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ForgotPassword = ({ mobileNumber, location }) => {\r\n  const [isPasswordError, setPasswordError] = useState(\"\");\r\n\r\n  const [isPasswordContent, showPasswordContent] = useState(false);\r\n  const [numberError, setNumberError] = useState(\"\");\r\n  const [isOTPSent, setOTPSent] = useState(false);\r\n\r\n  const [, setButtonDisabled] = useState(false);\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [country, setCountry] = useLocalStorage(\"country\", null);\r\n  const getCountry = useCallback(async () => {\r\n    try {\r\n      const visitorReq = await fetch(\"//api.ipregistry.co/?key=tryout\", {\r\n        method: \"GET\",\r\n      });\r\n      if (visitorReq.ok) {\r\n        const visitor = await visitorReq.json();\r\n        setCountry(visitor?.location?.country?.code.toLowerCase());\r\n      } else {\r\n        setCountry(\"in\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [setCountry]);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const validatePassword = (value) => {\r\n    if (\r\n      validator.isStrongPassword(value, {\r\n        minLength: 8,\r\n        minLowercase: 1,\r\n        minUppercase: 1,\r\n        minNumbers: 1,\r\n        minSymbols: 1,\r\n      })\r\n    ) {\r\n      return setPasswordError(\"\");\r\n    } else {\r\n      if (value.length < 8) {\r\n        return setPasswordError(\"Password can't be less than 8 characters\");\r\n      } else {\r\n        return setPasswordError(\r\n          \"Password must contain a combination of Upper and Lowercase Character, Number and Special Character\"\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const {\r\n    setSuccessMessage,\r\n    setErrorMessage,\r\n    disabled,\r\n    setDisabled,\r\n    setInfoMessage,\r\n  } = useToastMessage();\r\n\r\n  const [resendOTP, setResendOTP] = useState({\r\n    counter: 0,\r\n    disabled: false,\r\n    startTimer: false,\r\n  });\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [data, setData] = useState({ token: null, userId: \"\" });\r\n\r\n  const resendOTPStyle = {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"max-content\",\r\n    fontSize: \"15px\",\r\n    opacity: resendOTP.disabled || isPasswordContent ? 0.3 : 0.6,\r\n    pointerEvents: resendOTP.disabled || isPasswordContent ? \"none\" : \"all\",\r\n    cursor: resendOTP.disabled || isPasswordContent ? \"not-allowed\" : \"pointer\",\r\n  };\r\n\r\n  const startTimer = () => {\r\n    const number = form.getFieldValue(\"number\");\r\n\r\n    if (number) {\r\n      signInWithNumber(`+${number}`);\r\n\r\n      setResendOTP((prevState) => ({\r\n        ...prevState,\r\n        disabled: true,\r\n        counter: 30,\r\n        startTimer: true,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const signInWithNumber = async (number) => {\r\n    if (number.length <= 10) return;\r\n\r\n    setLoading(true);\r\n\r\n    setDisabled();\r\n\r\n    try {\r\n      const confirmationResult = await firebase\r\n        .auth()\r\n        .signInWithPhoneNumber(number, window.recaptchaVerifier);\r\n\r\n      window.confirmationResult = confirmationResult;\r\n\r\n      setOTPSent(true);\r\n\r\n      setLoading(false);\r\n\r\n      return setInfoMessage(\r\n        \"You would get an OTP on your registered mobile number.\",\r\n        1000\r\n      );\r\n    } catch (err) {\r\n      setInfoMessage(\r\n        \"You would get an OTP on your registered mobile number.\",\r\n        1000\r\n      );\r\n\r\n      setOTPSent(true);\r\n      return setLoading(false);\r\n    }\r\n  };\r\n\r\n  const submitPhoneNumberAuthCode = async (otp, cb) => {\r\n    try {\r\n      setDisabled();\r\n\r\n      await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE);\r\n      if (window.confirmationResult) {\r\n        window.confirmationResult\r\n          .confirm(otp)\r\n          .then((result) => {\r\n            // console.log(result);\r\n            const user = result;\r\n            const token = user.user._lat;\r\n\r\n            const userId = firebase.auth().currentUser.uid;\r\n\r\n            firebase.auth().signOut();\r\n\r\n            return cb && cb({ userId, token });\r\n          })\r\n          .catch((error) => {\r\n            setLoading(false);\r\n            return setErrorMessage(\"Invalid OTP\");\r\n          });\r\n      } else {\r\n        setLoading(false);\r\n\r\n        return setErrorMessage(\"Invalid OTP\");\r\n      }\r\n    } catch (err) {\r\n      setLoading(false);\r\n\r\n      return setErrorMessage(\"Invalid OTP\");\r\n    }\r\n  };\r\n\r\n  const authCaptchaVerifier = () => {\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"captcha-container\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: function (response) {\r\n          const number = form.getFieldValue(\"number\");\r\n\r\n          number && signInWithNumber(`+${number}`);\r\n        },\r\n        \"expired-callback\": function () {\r\n          // Response expired. Ask user to solve reCAPTCHA again.\r\n          // ...\r\n          alert(\"try again!\");\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    authCaptchaVerifier(`+${mobileNumber}`);\r\n\r\n    // startTimer();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useInterval(\r\n    () => {\r\n      setResendOTP((prevState) => ({\r\n        ...prevState,\r\n        disabled: prevState.counter > 0 ? true : false,\r\n        counter: prevState.counter - 1,\r\n        startTimer: prevState.counter > 0 ? true : false,\r\n      }));\r\n    },\r\n    resendOTP.counter >= 0 && resendOTP.startTimer ? 1000 : null\r\n  );\r\n\r\n  const onFormSubmit = async (values) => {\r\n    if (!isOTPSent && !isPasswordContent) {\r\n      if (values.number && values.number.length >= 10) {\r\n        setLoading(true);\r\n\r\n        const res = await validateMobileNumber({\r\n          mobile_number: `+${values.number}`,\r\n        });\r\n\r\n        if (!res.success) {\r\n          setLoading(false);\r\n          setOTPSent(true);\r\n          return setErrorMessage(res.message || res.messages.errors[0].message);\r\n        }\r\n        setNumberError(\"\");\r\n        return signInWithNumber(`+${values.number}`);\r\n      }\r\n    }\r\n\r\n    if (isOTPSent && !isPasswordContent) {\r\n      if (values.otp.length > 5) {\r\n        setLoading(true);\r\n\r\n        submitPhoneNumberAuthCode(values.otp, async ({ userId, token }) => {\r\n          try {\r\n            setData({ userId: userId, token: token });\r\n\r\n            setLoading(false);\r\n\r\n            showPasswordContent(true);\r\n            return setSuccessMessage(\"OTP verified successfully!\");\r\n          } catch (err) {\r\n            setLoading(false);\r\n            return setErrorMessage(err.message);\r\n          }\r\n        });\r\n      } else {\r\n        return alert(\"6 character required!\");\r\n      }\r\n    }\r\n\r\n    if (isOTPSent && isPasswordContent) {\r\n      if (values.ConfirmPassword.length <= 8) {\r\n        return setErrorMessage(\r\n          \"Password length should be greater than 8 character.\"\r\n        );\r\n      }\r\n\r\n      setLoading(true);\r\n\r\n      const res = await resetPasswordNoLogin({\r\n        mobile_number: `+${values.number}`,\r\n        password: values.NewPassword,\r\n        confirm_password: values.ConfirmPassword,\r\n      });\r\n      if (!res.success) {\r\n        setLoading(false);\r\n        return setErrorMessage(res.messages?.errors[0]?.message || res.message);\r\n      }\r\n\r\n      setSuccessMessage(\"You have successfully changed your password!\");\r\n\r\n      await sleep(755);\r\n\r\n      setInfoMessage(\"Wait, We are redirecting you to login page!\");\r\n\r\n      window.open(\"/login\", \"_self\");\r\n\r\n      return setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const query = queryString.parse(location?.search);\r\n\r\n    if (query.number) {\r\n      if (!query.number >= 10) setButtonDisabled(true);\r\n    } else setButtonDisabled(true);\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      window.open(\"/dashboard\", \"_self\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    country === null && getCountry();\r\n  }, [country, getCountry]);\r\n\r\n  return (\r\n    <section className={classes.Container}>\r\n      <div className={clsx(\"col-10  m-auto py-4\", classes.Form_Title)}>\r\n        <h1>Forgot Password</h1>\r\n      </div>\r\n      <Form\r\n        form={form}\r\n        className={clsx(classes.Form)}\r\n        onFinish={async (values) => onFormSubmit(values)}\r\n      >\r\n        {/* number */}\r\n        <div className=\"col-10 m-auto mb-3\">\r\n          <Form.Item\r\n            rules={[{ required: true, message: \"Required!\" }]}\r\n            name=\"number\"\r\n            required\r\n            tooltip=\"Mobile Number Required\"\r\n          >\r\n            <PhoneInput\r\n              country={country}\r\n              enableAreaCodes={true}\r\n              onInput={async (e) => {\r\n                if (e.target.value.length >= 10) {\r\n                  e.target.value = e.target.value.slice(0, 10);\r\n                  setButtonDisabled(false);\r\n                } else {\r\n                  setNumberError(\"\");\r\n                  setButtonDisabled(true);\r\n                }\r\n              }}\r\n              label=\"Mobile No.\"\r\n              name=\"number\"\r\n              InputProps={{ variant: \"filled\" }}\r\n              inputProps={{\r\n                disabled: isOTPSent,\r\n                readOnly: isOTPSent,\r\n              }}\r\n            />\r\n          </Form.Item>\r\n\r\n          {/* {!isLoading && !isButtonDisabled && (\r\n            <div className=\"d-flex justify-content-end mt-1\">\r\n              <p\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"flex-end\",\r\n                  width: \"90%\",\r\n                  opacity: resendOTP.disabled ? 0.3 : 0.6,\r\n                  pointerEvents: resendOTP.disabled ? \"none\" : \"all\",\r\n                  cursor: resendOTP.disabled ? \"not-allowed\" : \"pointer\",\r\n                }}\r\n              >\r\n                {numberError}\r\n              </p>\r\n            </div>\r\n          )} */}\r\n        </div>\r\n\r\n        {/* OTP */}\r\n        <div className=\"col-10 m-auto\">\r\n          <Form.Item\r\n            rules={[{ required: isOTPSent, message: \"Required!\" }]}\r\n            name=\"otp\"\r\n            required={isOTPSent}\r\n            tooltip=\"OTP Required\"\r\n          >\r\n            <CssTextField\r\n              required={isOTPSent}\r\n              type=\"password\"\r\n              name=\"otp\"\r\n              label=\"Enter OTP\"\r\n              variant=\"filled\"\r\n              disabled={isPasswordContent || !isOTPSent}\r\n              readOnly={isPasswordContent}\r\n            />\r\n          </Form.Item>\r\n\r\n          {/* helper text */}\r\n          {isOTPSent && (\r\n            <div className=\"d-flex justify-content-between mt-1\">\r\n              <p className={classes.HelperText}>\r\n                sent on: +{form.getFieldValue(\"number\")}\r\n              </p>\r\n              <p\r\n                style={resendOTPStyle}\r\n                onClick={() => {\r\n                  startTimer();\r\n                }}\r\n              >\r\n                Resend OTP\r\n                {resendOTP.counter < 30 &&\r\n                  resendOTP.counter > 0 &&\r\n                  ` in ${resendOTP.counter}s`}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {isPasswordContent && isOTPSent && numberError.length < 1 && (\r\n          <PasswordComponent\r\n            form={form}\r\n            setPasswordError={setPasswordError}\r\n            isPasswordError={isPasswordError}\r\n            validatePassword={validatePassword}\r\n          />\r\n        )}\r\n        <div className=\"col-10 m-auto\">\r\n          <UIButton\r\n            className=\"mt-4 mb-5 mx-0\"\r\n            disabled={\r\n              disabled ||\r\n              (isPasswordError && isPasswordError.length > 0) ||\r\n              isLoading ||\r\n              numberError.length > 0\r\n            }\r\n            type=\"submit\"\r\n            svgStyle={{ marginLeft: \"10px\" }}\r\n          >\r\n            {isOTPSent && !isPasswordContent\r\n              ? \"Continue\"\r\n              : isPasswordContent\r\n              ? \"Change Password\"\r\n              : \"Get OTP\"}\r\n          </UIButton>\r\n        </div>\r\n      </Form>\r\n      <div id=\"captcha-container\"></div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","export default __webpack_public_path__ + \"static/media/top-logo1.48bd29a3.svg\";","import { makeStyles } from \"@material-ui/core\";\r\n\r\n// menu classes\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    backgroundColor: \"#FFFFFF\",\r\n    borderBottom: \"1px solid #EFEFEF\",\r\n    display: \"flex\",\r\n    height: \"55px\",\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    zIndex: 1000,\r\n  },\r\n  header: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    margin: \"0 auto\",\r\n  },\r\n  logo: {\r\n    width: \"152px\",\r\n    minWidth: \"152px\",\r\n  },\r\n  [theme.breakpoints.up(\"xs\")]: {\r\n    header: {\r\n      maxWidth: \"90%\",\r\n    },\r\n  },\r\n  [theme.breakpoints.up(\"sm\")]: {\r\n    header: {\r\n      width: \"95%\",\r\n    },\r\n    logo: {\r\n      marginRight: \"34px\",\r\n    },\r\n  },\r\n  [theme.breakpoints.up(\"md\")]: {\r\n    main: {\r\n      height: \"66px\",\r\n    },\r\n    header: {\r\n      width: \"90%\",\r\n      maxWidth: \"1100px\",\r\n    },\r\n  },\r\n  [theme.breakpoints.up(\"lg\")]: {\r\n    header: {\r\n      maxWidth: \"80%\",\r\n    },\r\n  },\r\n  [theme.breakpoints.up(\"xl\")]: {\r\n    header: {\r\n      width: \"70%\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","/* eslint-disable no-script-url */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\n\r\n// mui grid\r\nimport { Box, useMediaQuery } from \"@material-ui/core\";\r\n\r\n// @material-ui/styles\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport { useOnClickOutside } from \"../../../../hooks/useOnClickOutside\";\r\n\r\n// assets\r\nimport ESLogo from \"../assets/logo/top-logo1.svg\";\r\n\r\n// styles\r\nimport useStyles from \"./styles/muiStyles\";\r\n\r\nconst Header = ({ type }) => {\r\n  const ref = useRef();\r\n\r\n  const classes = useStyles();\r\n\r\n  // theme setup\r\n  const theme = useTheme();\r\n\r\n  // media query breakpoints\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const [, setMobileNav] = useState(false);\r\n\r\n  useOnClickOutside(ref, () => {\r\n    const openedSubMenu = document.querySelector(\r\n        \".has-sub-menu > .sub-menu.open\"\r\n      ),\r\n      openedSubMenuLink = document.querySelector(\".has-sub-menu > a.open\");\r\n    openedSubMenuLink && openedSubMenuLink.classList.remove(\"open\");\r\n    openedSubMenu && openedSubMenu.classList.remove(\"open\");\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      if (isMobile) {\r\n        const mobileMenuLinks = document.querySelectorAll(\r\n          \".mobile-nav  > ul > li:not(.has-sub-menu) > a, .mobile-nav  > ul > li .sub-menu > ul > li > a\"\r\n        );\r\n\r\n        // for all subMenuLinks add a click event listener\r\n        mobileMenuLinks.forEach((mobileMenuLink) =>\r\n          mobileMenuLink.addEventListener(\"click\", () => setMobileNav(false))\r\n        );\r\n      }\r\n      const subMenuItems = document.querySelectorAll(\".has-sub-menu > a\");\r\n\r\n      subMenuItems.forEach((subMenuItem) => {\r\n        const subMenuElement = subMenuItem.nextSibling,\r\n          subMenuLinks = subMenuElement.querySelectorAll(\"li > a\");\r\n\r\n        // for all subMenuLinks add a click event listener\r\n        subMenuLinks.forEach((subMenuLink) => {\r\n          // close current parent submenu on click\r\n          subMenuLink.addEventListener(\"click\", () =>\r\n            subMenuLink\r\n              .closest(\".has-sub-menu\")\r\n              .querySelector(\".sub-menu\")\r\n              .classList.remove(\"open\")\r\n          );\r\n        });\r\n\r\n        // for all subMenuItems add a click event listener\r\n        subMenuItem.addEventListener(\"click\", () => {\r\n          const openedSubMenu = document.querySelector(\r\n              \".has-sub-menu > .sub-menu.open\"\r\n            ),\r\n            openedSubMenuLink = document.querySelector(\r\n              \".has-sub-menu > a.open\"\r\n            ),\r\n            subMenuElement = subMenuItem.nextSibling;\r\n\r\n          // check if opened submenu is not current submenu\r\n          if (openedSubMenu && openedSubMenu !== subMenuElement) {\r\n            // close other opened submenu\r\n            openedSubMenuLink.classList.remove(\"open\");\r\n            openedSubMenu.classList.remove(\"open\");\r\n          }\r\n\r\n          if (subMenuElement.classList.contains(\"open\")) {\r\n            subMenuItem.classList.remove(\"open\");\r\n            subMenuElement.classList.remove(\"open\");\r\n          } else {\r\n            subMenuItem.classList.add(\"open\");\r\n            subMenuElement.classList.add(\"open\");\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }, [isMobile]);\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.main}>\r\n        <header className={classes.header}>\r\n          <Box sx={{ display: \"flex\", alignItems: \"center\", height: \"100%\" }}>\r\n            <a href=\"/\" style={{ display: \"inline-flex\" }}>\r\n              <img src={ESLogo} alt=\"Logo\" className={classes.logo} />\r\n            </a>\r\n          </Box>\r\n        </header>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/character.07de4cd2.svg\";","import { makeStyles } from \"@material-ui/core\";\r\n\r\n// menu classes\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    \"forgot-body\": {\r\n      maxWidth: \"95%\",\r\n      margin: \"50px auto\",\r\n      fontFamily: '\"Roboto\", sans-serif',\r\n    },\r\n    \"@media (min-width: 992px)\": {\r\n      \"forgot-body\": {\r\n        alignItems: \"center\",\r\n        display: \"flex\",\r\n        height: \"100vh\",\r\n        justifyContent: \"space-evenly\",\r\n        margin: \"0 auto\",\r\n        width: \"90%\",\r\n      },\r\n    },\r\n    \"@media (min-width: 1280px)\": {\r\n      \"forgot-body\": {\r\n        width: \"80%\",\r\n      },\r\n    },\r\n    \"@media (min-width: 1300px)\": {\r\n      \"forgot-body\": {\r\n        maxWidth: \"1300px\",\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\nexport default useStyles;\r\n","import { Typography } from \"@material-ui/core\";\r\n\r\n// components imports\r\nimport ForgotForm from \"./ForgotForm\";\r\n\r\nimport Header from \"../components/Header\";\r\n\r\n// assets imports\r\nimport characterImg from \"./assets/character.svg\";\r\n\r\n// styles\r\nimport useStyles from \"./styles/muiStyles\";\r\n\r\nconst LoginComponent = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      {/* Header */}\r\n      <Header type=\"focus\" />\r\n\r\n      {/* Section with text and ForgotForm */}\r\n      <section className={classes[\"forgot-body\"]}>\r\n        <div className=\"img-block\">\r\n          <img src={characterImg} alt=\"character\" />\r\n        </div>\r\n        <div>\r\n          <ForgotForm />\r\n          {false && (\r\n            <div className=\"text-center my-4\">\r\n              <p\r\n                style={{\r\n                  color: \"#24272C\",\r\n                  fontSize: \"18px\",\r\n                  fontWeight: 500,\r\n                  lineHeight: \"21px\",\r\n                }}\r\n              >\r\n                {\"Don’t have an account? \"}\r\n                <Typography\r\n                  onClick={() => window.open(\"/sign-up\", \"_self\")}\r\n                  variant=\"caption\"\r\n                  style={{\r\n                    cursor: \"pointer\",\r\n                    color: \"#12B0EE\",\r\n                    fontSize: \"18px\",\r\n                    fontWeight: 500,\r\n                    lineHeight: \"21px\",\r\n                    textDecoration: \"none\",\r\n                  }}\r\n                >\r\n                  Sign Up\r\n                </Typography>\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginComponent;\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  IconButton,\r\n  Typography,\r\n  TextField,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport { ArrowBackIos } from \"@material-ui/icons\";\r\nimport clsx from \"clsx\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\n\r\nimport { UIButton } from \"Components/exports\";\r\nimport { useToastMessage } from \"contexts\";\r\nimport classes from \"./ForgotPassword.module.css\";\r\nimport firebase from \"firebase\";\r\nimport { useInterval } from \"hooks/useInterval\";\r\nimport { resetPasswordNoLogin, validateMobileNumber } from \"api/Auth\";\r\nimport validator from \"validator\";\r\n\r\nimport queryString from \"query-string\";\r\n\r\nimport { Form } from \"antd\";\r\nimport { sleep } from \"Shared/Utility\";\r\nimport { simpleEncrypt } from \"Shared/encryptResponse\";\r\nimport useLocalStorage from \"hooks/useLocalStorage\";\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    background: \"#f2f3f7\",\r\n    borderRadius: 5,\r\n    width: \"100%\",\r\n\r\n    \"& label.Mui-focused\": {\r\n      color: \"#000000;\",\r\n      opacity: 0.5,\r\n    },\r\n    \"& .MuiFilledInput-underline:after\": {\r\n      border: \"none !important\",\r\n    },\r\n    \"& .MuiFilledInput-underline:before\": {\r\n      border: \"none !important\",\r\n    },\r\n    \"& .MuiFilledInput-root\": {\r\n      \"background-color\": \"unset\",\r\n      \"& fieldset\": {\r\n        borderColor: \"#000000;\",\r\n        opacity: 0.1,\r\n        borderRadius: \"5px !important\",\r\n      },\r\n      \"&:hover fieldset\": {\r\n        borderColor: \"#000000;\",\r\n        opacity: 0.3,\r\n      },\r\n      \"&.Mui-focused fieldset\": {\r\n        borderColor: \"#000000;\",\r\n        opacity: 0.3,\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst PasswordComponent = ({\r\n  form,\r\n  isPasswordError,\r\n  setPasswordError,\r\n  validatePassword,\r\n}) => {\r\n  return (\r\n    <div className=\"col-10 m-auto mt-3\">\r\n      <Form.Item\r\n        rules={[{ required: true, message: \"Required!\" }]}\r\n        name=\"NewPassword\"\r\n        required\r\n        tooltip=\"Required\"\r\n        className=\"mb-3\"\r\n      >\r\n        <CssTextField\r\n          type=\"password\"\r\n          name=\"NewPassword\"\r\n          required\r\n          label=\"New Password\"\r\n          variant=\"filled\"\r\n          readOnly={false}\r\n          onChange={(e) => validatePassword(e.target.value)}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        rules={[{ required: true, message: \"Required!\" }]}\r\n        name=\"ConfirmPassword\"\r\n        required\r\n        tooltip=\"Required\"\r\n      >\r\n        <CssTextField\r\n          type=\"password\"\r\n          name=\"ConfirmPassword\"\r\n          required\r\n          label=\"Confirm Password\"\r\n          variant=\"filled\"\r\n          readOnly={false}\r\n          onChange={(e) => {\r\n            const values = form.getFieldsValue();\r\n\r\n            if (values) {\r\n              if (values.NewPassword !== e.target.value) {\r\n                setPasswordError(\r\n                  \"Confirm Password must match with New Password\"\r\n                );\r\n              } else {\r\n                setPasswordError(\"\");\r\n\r\n                validatePassword(e.target.value);\r\n              }\r\n            }\r\n          }}\r\n        />\r\n      </Form.Item>\r\n\r\n      {/* helper text */}\r\n      {isPasswordError && isPasswordError.length > 0 && (\r\n        <div>\r\n          <p className={clsx(classes.HelperText, classes.ErrorText)}>\r\n            {isPasswordError}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ForgotPassword = ({ mobileNumber, location }) => {\r\n  const history = useHistory();\r\n  const [isPasswordError, setPasswordError] = useState(\"\");\r\n\r\n  const [isPasswordContent, showPasswordContent] = useState(false);\r\n  const [numberError, setNumberError] = useState(\"\");\r\n  const [isOTPSent, setOTPSent] = useState(false);\r\n\r\n  const [, setButtonDisabled] = useState(false);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const [country, setCountry] = useLocalStorage(\"country\", null);\r\n  const getCountry = useCallback(async () => {\r\n    try {\r\n      const visitorReq = await fetch(\"//api.ipregistry.co/?key=tryout\", {\r\n        method: \"GET\",\r\n      });\r\n      if (visitorReq.ok) {\r\n        const visitor = await visitorReq.json();\r\n        setCountry(visitor?.location?.country?.code.toLowerCase());\r\n      } else {\r\n        setCountry(\"in\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [setCountry]);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const validatePassword = (value) => {\r\n    if (\r\n      validator.isStrongPassword(value, {\r\n        minLength: 8,\r\n        minLowercase: 1,\r\n        minUppercase: 1,\r\n        minNumbers: 1,\r\n        minSymbols: 1,\r\n      })\r\n    ) {\r\n      return setPasswordError(\"\");\r\n    } else {\r\n      if (value.length < 8) {\r\n        return setPasswordError(\"Password can't be less than 8 characters\");\r\n      } else {\r\n        return setPasswordError(\r\n          \"Password must contain a combination of Upper and Lowercase Character, Number and Special Character\"\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const {\r\n    setSuccessMessage,\r\n    setErrorMessage,\r\n    disabled,\r\n    setDisabled,\r\n    setInfoMessage,\r\n  } = useToastMessage();\r\n\r\n  const [resendOTP, setResendOTP] = useState({\r\n    counter: 0,\r\n    disabled: false,\r\n    startTimer: false,\r\n  });\r\n\r\n  const [data, setData] = useState({ token: null, userId: \"\" });\r\n\r\n  const resendOTPStyle = {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"max-content\",\r\n    fontSize: \"15px\",\r\n    opacity: resendOTP.disabled || isPasswordContent ? 0.3 : 0.6,\r\n    pointerEvents: resendOTP.disabled || isPasswordContent ? \"none\" : \"all\",\r\n    cursor: resendOTP.disabled || isPasswordContent ? \"not-allowed\" : \"pointer\",\r\n  };\r\n\r\n  const startTimer = () => {\r\n    const number = form.getFieldValue(\"number\");\r\n\r\n    if (number) {\r\n      signInWithNumber(`+${number}`);\r\n\r\n      setResendOTP((prevState) => ({\r\n        ...prevState,\r\n        disabled: true,\r\n        counter: 30,\r\n        startTimer: true,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const signInWithNumber = async (number) => {\r\n    if (number.length <= 10) return;\r\n\r\n    setLoading(true);\r\n\r\n    setDisabled();\r\n\r\n    try {\r\n      const confirmationResult = await firebase\r\n        .auth()\r\n        .signInWithPhoneNumber(number, window.recaptchaVerifier);\r\n\r\n      window.confirmationResult = confirmationResult;\r\n\r\n      setOTPSent(true);\r\n\r\n      setLoading(false);\r\n\r\n      return setInfoMessage(\r\n        \"You would get an OTP on your registered mobile number.\",\r\n        1000\r\n      );\r\n    } catch (err) {\r\n      setInfoMessage(\r\n        \"You would get an OTP on your registered mobile number.\",\r\n        1000\r\n      );\r\n\r\n      setOTPSent(true);\r\n      return setLoading(false);\r\n    }\r\n  };\r\n\r\n  const submitPhoneNumberAuthCode = async (otp, cb) => {\r\n    try {\r\n      setDisabled();\r\n\r\n      await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE);\r\n      if (window.confirmationResult) {\r\n        window.confirmationResult\r\n          .confirm(otp)\r\n          .then((result) => {\r\n            // console.log(result);\r\n            const user = result;\r\n            const token = user.user._lat;\r\n\r\n            const userId = firebase.auth().currentUser.uid;\r\n\r\n            firebase.auth().signOut();\r\n\r\n            return cb && cb({ userId, token });\r\n          })\r\n          .catch((error) => {\r\n            setLoading(false);\r\n            return setErrorMessage(\"Invalid OTP\");\r\n          });\r\n      } else {\r\n        setLoading(false);\r\n\r\n        return setErrorMessage(\"Invalid OTP\");\r\n      }\r\n    } catch (err) {\r\n      setLoading(false);\r\n\r\n      return setErrorMessage(\"Invalid OTP\");\r\n    }\r\n  };\r\n\r\n  const authCaptchaVerifier = () => {\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"captcha-container\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: function (response) {\r\n          const number = form.getFieldValue(\"number\");\r\n\r\n          number && signInWithNumber(`+${number}`);\r\n        },\r\n        \"expired-callback\": function () {\r\n          // Response expired. Ask user to solve reCAPTCHA again.\r\n          // ...\r\n          alert(\"try again!\");\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    authCaptchaVerifier(`+${mobileNumber}`);\r\n\r\n    // startTimer();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useInterval(\r\n    () => {\r\n      setResendOTP((prevState) => ({\r\n        ...prevState,\r\n        disabled: prevState.counter > 0 ? true : false,\r\n        counter: prevState.counter - 1,\r\n        startTimer: prevState.counter > 0 ? true : false,\r\n      }));\r\n    },\r\n    resendOTP.counter >= 0 && resendOTP.startTimer ? 1000 : null\r\n  );\r\n\r\n  const onFormSubmit = async (values) => {\r\n    if (!isOTPSent && !isPasswordContent) {\r\n      if (values.number && values.number.length >= 10) {\r\n        setLoading(true);\r\n\r\n        const res = await validateMobileNumber({\r\n          number: `+${values.number}`,\r\n        });\r\n\r\n        if (res.error) {\r\n          setLoading(false);\r\n          setOTPSent(true);\r\n\r\n          return setInfoMessage(\r\n            \"You would get an OTP on your registered mobile number.\",\r\n            1000\r\n          );\r\n        }\r\n\r\n        setNumberError(\"\");\r\n\r\n        return signInWithNumber(`+${values.number}`);\r\n      }\r\n    }\r\n\r\n    if (isOTPSent && !isPasswordContent) {\r\n      if (values.otp.length > 5) {\r\n        setLoading(true);\r\n\r\n        submitPhoneNumberAuthCode(values.otp, async ({ userId, token }) => {\r\n          try {\r\n            setData({ userId: userId, token: token });\r\n\r\n            setLoading(false);\r\n\r\n            showPasswordContent(true);\r\n            return setSuccessMessage(\"OTP verified successfully!\");\r\n          } catch (err) {\r\n            setLoading(false);\r\n            return setErrorMessage(err.message);\r\n          }\r\n        });\r\n      } else {\r\n        return alert(\"6 character required!\");\r\n      }\r\n    }\r\n\r\n    if (isOTPSent && isPasswordContent) {\r\n      if (values.ConfirmPassword.length <= 8) {\r\n        return setErrorMessage(\r\n          \"Password length should be greater than 8 character.\"\r\n        );\r\n      }\r\n\r\n      setLoading(true);\r\n\r\n      const res = await resetPasswordNoLogin({\r\n        userId: data.userId,\r\n        token: data.token,\r\n        password: simpleEncrypt(values.ConfirmPassword).enc,\r\n      });\r\n\r\n      if (res.error) {\r\n        setLoading(false);\r\n        return setErrorMessage(res.error);\r\n      }\r\n\r\n      setSuccessMessage(\"You have successfully changed your password!\");\r\n\r\n      await sleep(755);\r\n\r\n      setInfoMessage(\"Wait, We are redirecting you to login page!\");\r\n\r\n      window.open(\"/login\", \"_self\");\r\n\r\n      return setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const query = queryString.parse(location?.search);\r\n\r\n    if (query.number) {\r\n      if (!query.number >= 10) {\r\n        setButtonDisabled(true);\r\n      }\r\n    } else {\r\n      setButtonDisabled(true);\r\n    }\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      window.open(\"/dashboard\", \"_self\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    country === null && getCountry();\r\n  }, [country, getCountry]);\r\n\r\n  return (\r\n    <section className={classes.Container}>\r\n      <div className={classes.Form_Header}>\r\n        <IconButton onClick={() => history.goBack()}>\r\n          <ArrowBackIos />\r\n        </IconButton>\r\n        <div className={classes.Header_Text}>\r\n          <h1>Forgot Password</h1>\r\n        </div>\r\n      </div>\r\n\r\n      <Form\r\n        form={form}\r\n        className={clsx(classes.Form)}\r\n        onFinish={async (values) => onFormSubmit(values)}\r\n      >\r\n        {/* number */}\r\n        <div className=\"col-10 m-auto mb-3\">\r\n          <Form.Item\r\n            rules={[{ required: true, message: \"Required!\" }]}\r\n            name=\"number\"\r\n            required\r\n            tooltip=\"Mobile Number Required\"\r\n          >\r\n            <PhoneInput\r\n              country={country}\r\n              enableAreaCodes={true}\r\n              onInput={async (e) => {\r\n                if (e.target.value.length >= 10) {\r\n                  e.target.value = e.target.value.slice(0, 10);\r\n                  setButtonDisabled(false);\r\n                } else {\r\n                  setNumberError(\"\");\r\n                  setButtonDisabled(true);\r\n                }\r\n              }}\r\n              label=\"Mobile No.\"\r\n              name=\"number\"\r\n              InputProps={{ variant: \"filled\" }}\r\n              inputProps={{\r\n                disabled: isOTPSent,\r\n                readOnly: isOTPSent,\r\n              }}\r\n            />\r\n          </Form.Item>\r\n\r\n          {/* {!isLoading && !isButtonDisabled && (\r\n            <div className=\"d-flex justify-content-end mt-1\">\r\n              <p\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"flex-end\",\r\n                  width: \"90%\",\r\n                  opacity: resendOTP.disabled ? 0.3 : 0.6,\r\n                  pointerEvents: resendOTP.disabled ? \"none\" : \"all\",\r\n                  cursor: resendOTP.disabled ? \"not-allowed\" : \"pointer\",\r\n                }}\r\n              >\r\n                {numberError}\r\n              </p>\r\n            </div>\r\n          )} */}\r\n        </div>\r\n\r\n        {/* OTP */}\r\n        <div className=\"col-10 m-auto\">\r\n          <Form.Item\r\n            rules={[{ required: isOTPSent, message: \"Required!\" }]}\r\n            name=\"otp\"\r\n            required={isOTPSent}\r\n            tooltip=\"OTP Required\"\r\n          >\r\n            <CssTextField\r\n              required={isOTPSent}\r\n              type=\"password\"\r\n              name=\"otp\"\r\n              label=\"Enter OTP\"\r\n              variant=\"filled\"\r\n              disabled={isPasswordContent || !isOTPSent}\r\n              readOnly={isPasswordContent}\r\n            />\r\n          </Form.Item>\r\n\r\n          {/* helper text */}\r\n          {isOTPSent && (\r\n            <div className=\"d-flex justify-content-between mt-1\">\r\n              <p className={classes.HelperText}>\r\n                sent on: +{form.getFieldValue(\"number\")}\r\n              </p>\r\n              <p\r\n                style={resendOTPStyle}\r\n                onClick={() => {\r\n                  startTimer();\r\n                }}\r\n              >\r\n                Resend OTP\r\n                {resendOTP.counter < 30 &&\r\n                  resendOTP.counter > 0 &&\r\n                  ` in ${resendOTP.counter}s`}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {isPasswordContent && isOTPSent && numberError.length < 1 && (\r\n          <PasswordComponent\r\n            form={form}\r\n            setPasswordError={setPasswordError}\r\n            isPasswordError={isPasswordError}\r\n            validatePassword={validatePassword}\r\n          />\r\n        )}\r\n        <div className=\"col-10 m-auto\">\r\n          <UIButton\r\n            className=\"mt-4 mb-5 mx-0\"\r\n            disabled={\r\n              disabled ||\r\n              (isPasswordError && isPasswordError.length > 0) ||\r\n              isLoading ||\r\n              numberError.length > 0\r\n            }\r\n            type=\"submit\"\r\n            svgStyle={{ marginLeft: \"10px\" }}\r\n          >\r\n            {isOTPSent && !isPasswordContent\r\n              ? \"Continue\"\r\n              : isPasswordContent\r\n              ? \"Change Password\"\r\n              : \"Get OTP\"}\r\n          </UIButton>\r\n        </div>\r\n      </Form>\r\n      {false && (\r\n        <div className=\"col-10 mt-auto mx-auto text-start mb-4\">\r\n          <p\r\n            style={{\r\n              color: \"#24272C\",\r\n              fontSize: \"18px\",\r\n              fontWeight: 500,\r\n              lineHeight: \"21px\",\r\n            }}\r\n          >\r\n            {\"Don’t have an account? \"}\r\n            <Typography\r\n              onClick={() => window.open(\"/sign-up\", \"_self\")}\r\n              variant=\"caption\"\r\n              style={{\r\n                cursor: \"pointer\",\r\n                color: \"#12B0EE\",\r\n                fontSize: \"18px\",\r\n                fontWeight: 500,\r\n                lineHeight: \"21px\",\r\n                textDecoration: \"none\",\r\n              }}\r\n            >\r\n              Sign Up\r\n            </Typography>\r\n          </p>\r\n        </div>\r\n      )}\r\n      <div id=\"captcha-container\"></div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import { makeStyles } from \"@material-ui/core\";\r\n\r\n// menu classes\r\nconst useStyles = makeStyles((theme) => {\r\n  console.log(theme.breakpoints.up(\"lg\"));\r\n  return {\r\n    \"forgot-body\": {\r\n      backgroundColor: \"#f3f7f9\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      height: \"100vh\",\r\n\r\n      \"& svg\": {\r\n        display: \"flex\",\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\nexport default useStyles;\r\n","import LogoSection from \"Components/UI/LogoSection/LogoSection\";\r\n\r\n// components imports\r\nimport ForgotForm from \"./ForgotForm\";\r\n\r\n// styles\r\nimport useStyles from \"./styles/muiStyles\";\r\n\r\nconst LoginComponent = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes[\"forgot-body\"]}>\r\n      <LogoSection />\r\n      <ForgotForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginComponent;\r\n","import React from \"react\";\r\n\r\n// material-ui imports\r\nimport { Hidden } from \"@material-ui/core\";\r\n\r\n// Desktop View\r\nimport Desktop from \"./Desktop\";\r\n// Mobile View\r\nimport Mobile from \"./Mobile\";\r\n\r\n// React Helmet\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport \"react-phone-input-2/lib/material.css\";\r\n\r\nconst ForgotPassword = () => {\r\n  return (\r\n    <>\r\n      {/* Head */}\r\n      <Helmet>\r\n        <link\r\n          href=\"https://firebasestorage.googleapis.com/v0/b/easy-social-react.appspot.com/o/styleSheets%2Ffrontend.min.css?alt=media&token=e450c2a3-6404-4ea3-90b8-b63b787af085\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <link\r\n          href=\"https://firebasestorage.googleapis.com/v0/b/easy-social-react.appspot.com/o/styleSheets%2Ffrontend.css?alt=media&token=512e8eb7-4f25-4dff-a59c-882759d54987\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <link\r\n          href=\"https://firebasestorage.googleapis.com/v0/b/easy-social-react.appspot.com/o/styleSheets%2Fpost-487.css?alt=media&token=b72cfa87-0f23-416e-b72f-a2cf397f7482\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <link\r\n          href=\"https://firebasestorage.googleapis.com/v0/b/easy-social-react.appspot.com/o/styleSheets%2Fpost-512.css?alt=media&token=df14563d-9b9c-43fb-ae2e-ea6b282f5cf3\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <link\r\n          href=\"https://firebasestorage.googleapis.com/v0/b/easy-social-react.appspot.com/o/styleSheets%2Ffontawesome.min.css?alt=media&token=cf06ce6d-c974-4178-a3ca-a32c7546de4e\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <link\r\n          href=\"https://firebasestorage.googleapis.com/v0/b/easy-social-react.appspot.com/o/styleSheets%2Fcustom.css?alt=media&token=031829ef-e860-428f-8794-483e3869955a\"\r\n          rel=\"stylesheet\"\r\n        />\r\n      </Helmet>\r\n\r\n      <Hidden mdDown implementation=\"js\">\r\n        <Desktop />\r\n      </Hidden>\r\n\r\n      <Hidden mdUp implementation=\"js\">\r\n        <Mobile />\r\n      </Hidden>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import { useEffect } from \"react\";\r\n\r\nexport const useOnClickOutside = (ref, handler) => {\r\n  useEffect(\r\n    () => {\r\n      const listener = (event) => {\r\n        // Do nothing if clicking ref's element or descendent elements\r\n        if (!ref.current || ref.current.contains(event.target)) {\r\n          return;\r\n        }\r\n        handler(event);\r\n      };\r\n      document.addEventListener(\"mousedown\", listener);\r\n      document.addEventListener(\"touchstart\", listener);\r\n      return () => {\r\n        document.removeEventListener(\"mousedown\", listener);\r\n        document.removeEventListener(\"touchstart\", listener);\r\n      };\r\n    },\r\n    // Add ref and handler to effect dependencies\r\n    // It's worth noting that because passed in handler is a new ...\r\n    // ... function on every render that will cause this effect ...\r\n    // ... callback/cleanup to run every render. It's not a big deal ...\r\n    // ... but to optimize you can wrap handler in useCallback before ...\r\n    // ... passing it into this hook.\r\n    [ref, handler]\r\n  );\r\n};\r\n"],"sourceRoot":""}
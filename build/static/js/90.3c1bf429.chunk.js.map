{"version":3,"sources":["assets/icons/sadicon.svg","Components/SocialMedia_Setup/Facebook/NoFacebookPage/NoFacebookPage.js","Components/SocialMedia_Setup/Facebook/NoFacebookPage/NoFacebookPage.module.css","Pages/BusinessSocial_Setup/Facebook/select-page/Select_page.module.css","Pages/BusinessSocial_Setup/Facebook/select-page/Select_Page.js"],"names":["NoFacebookPage","props","className","classes","Type0_Account","Type0_Note","src","sadIcon","alt","Type0_Link","Type0_Button","onClick","window","open","setupRedirectURL","Done_Linking","history","push","module","exports","connect","dispatch","startLoading","actions","cancelLoading","error","err","useToastMessage","setSuccessMessage","setErrorMessage","getFacebookPagesRef","useRef","current","isMounted","getFacebookPages","match","params","businessId","then","data","setError","setPages","catch","useEffect","useState","pages","value","setValue","Select_page","Form_Header","Header_Text","Pages","onSubmit","e","page_id","preventDefault","saveSelectedFBPageConnect","message","map","page","img","url","id","name","tag","svgStyle","paddingLeft"],"mappings":"4GAAe,QAA0B,qC,kCCAzC,sDAuCeA,IAhCQ,SAACC,GACtB,OACE,sBAAKC,UAAWC,IAAQC,cAAxB,UACE,sBAAKF,UAAWC,IAAQE,WAAxB,UACE,qBAAKC,IAAKC,IAASC,IAAI,QACvB,8EACA,sBAAMN,UAAWC,IAAQM,WAAzB,SACE,cAAC,IAAD,CACEP,UAAWC,IAAQO,aACnBC,QACE,kBAAMC,OAAOC,KAAKZ,EAAMa,iBAAkB,WAH9C,oCAWJ,oBAAGZ,UAAWC,IAAQY,aAAtB,0BACgB,IACd,sBACEJ,QAAS,WACPV,EAAMe,QAAQC,KAAd,kCAFJ,mC,qBC1BRC,EAAOC,QAAU,CAAC,cAAgB,sCAAsC,WAAa,mCAAmC,WAAa,mCAAmC,aAAe,qCAAqC,aAAe,uC,qBCA3OD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,YAAc,iCAAiC,MAAQ,2BAA2B,cAAgB,mCAAmC,KAAO,0BAA0B,UAAY,+BAA+B,KAAO,0BAA0B,YAAc,iCAAiC,SAAW,8BAA8B,YAAc,iCAAiC,MAAQ,6B,wICwHnbC,sBAAQ,MARI,SAACC,GAC1B,MAAO,CACLC,aAAc,kBAAMD,EAASE,QAC7BC,cAAe,kBAAMH,EAASE,QAC9BE,MAAO,SAACC,GAAD,OAASL,EAASE,IAAcG,QAI5BN,EA3GK,SAACnB,GACnB,MAA+C0B,cAAvCC,EAAR,EAAQA,kBAAmBC,EAA3B,EAA2BA,gBAErBC,EAAsBC,kBAAO,eAuBnCD,EAAoBE,QAAU,SAACC,GAC7BhC,EAAMqB,eACNY,2BAAiBjC,EAAMkC,MAAMC,OAAOC,YACjCC,MAAK,SAACC,GACDA,EAAKd,OACPe,GAAS,GACTX,EAAgBU,EAAKd,OACrBxB,EAAMuB,kBAENI,EAAkB,gCACdK,GAAWQ,EAASF,EAAKA,MAC7BtC,EAAMuB,oBAGTkB,OAAM,SAAChB,GAAD,OAASzB,EAAMwB,MAAMC,OAGhCiB,qBAAU,WACR,IAAIV,GAAY,EAEhB,OADAH,EAAoBE,QAAQC,GACrB,WACLA,GAAY,KAEb,IAEH,MAA0BW,mBAAS,MAAnC,mBAAOC,EAAP,KAAcJ,EAAd,KACA,EAA0BG,mBAAS,MAAnC,mBAAOE,EAAP,KAAcC,EAAd,KACA,EAA0BH,oBAAS,GAAnC,mBAAOnB,EAAP,KAAce,EAAd,KAEA,OACE,yBAAStC,UAAWC,IAAQ6C,YAA5B,SACE,iCACE,sBAAK9C,UAAWC,IAAQ8C,YAAxB,UACE,cAAC,IAAD,IACA,qBAAK/C,UAAWC,IAAQ+C,YAAxB,SACE,gEAGFzB,EA4BA,cAAC,IAAD,CAAgBT,QAASf,EAAMe,UA3B/B,qBAAKd,UAAWC,IAAQgD,MAAxB,SACE,uBACEC,SAAU,SAACC,GA9DK,IAAChB,EAAYiB,EA+D3BD,EAAEE,iBA/DalB,EAgEKpC,EAAMkC,MAAMC,OAAOC,WAhEZiB,EAgEwBR,EA/D/D7C,EAAMqB,eACNkC,oCAA0BnB,EAAY,CACpCiB,QAASA,IAERhB,MAAK,SAACC,GACDA,EAAKd,OACPI,EAAgBU,EAAKd,OACrBxB,EAAMwB,MAAMc,EAAKd,SAEjBxB,EAAMuB,gBACNI,EAAkBW,EAAKkB,SACvBxD,EAAMe,QAAQC,KAAd,oBAAgCoB,EAAhC,2BAGHK,OAAM,SAAChB,GACNzB,EAAMwB,MAAMC,GACZG,EAAgBH,OA4CZ,UAMGmB,GACCA,EAAMa,KAAI,SAACC,GACT,OACE,cAAC,IAAD,CACEC,IAAKD,EAAKE,IAEVC,GAAIH,EAAKL,QACTS,KAAMJ,EAAKI,KACXC,IAAI,QACJrD,QAAS,kBAAMoC,EAASY,EAAKL,UAC7BR,MAAOa,EAAKL,SALPK,EAAKL,YASlB,cAAC,IAAD,CAAUW,SAAU,CAAEC,YAAa,OAAnC","file":"static/js/90.3c1bf429.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sadicon.6009408d.svg\";","/** @format */\r\n\r\nimport React from \"react\";\r\nimport classes from \"./NoFacebookPage.module.css\";\r\nimport sadIcon from \"../../../../assets/icons/sadicon.svg\";\r\nimport { CustomButton } from \"../../../exports\";\r\n\r\nconst NoFacebookPage = (props) => {\r\n  return (\r\n    <div className={classes.Type0_Account}>\r\n      <div className={classes.Type0_Note}>\r\n        <img src={sadIcon} alt=\"sad\" />\r\n        <p>We could not find any Facebook page accounts.</p>\r\n        <main className={classes.Type0_Link}>\r\n          <CustomButton\r\n            className={classes.Type0_Button}\r\n            onClick={\r\n              () => window.open(props.setupRedirectURL, \"_blank\")\r\n              // window.open(`https://www.facebook.com/pages/creation`, \"_blank\")\r\n            }\r\n          >\r\n            Connect Instagram\r\n          </CustomButton>\r\n        </main>\r\n      </div>\r\n      <p className={classes.Done_Linking}>\r\n        Done linking?{\" \"}\r\n        <span\r\n          onClick={() => {\r\n            props.history.push(`/business-setup/link-facebook`);\r\n          }}\r\n        >\r\n          Resume Setup!\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoFacebookPage;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Type0_Account\":\"NoFacebookPage_Type0_Account__2bch9\",\"Type0_Note\":\"NoFacebookPage_Type0_Note__2JHh5\",\"Type0_Link\":\"NoFacebookPage_Type0_Link__2Dfa2\",\"Type0_Button\":\"NoFacebookPage_Type0_Button__1uxXx\",\"Done_Linking\":\"NoFacebookPage_Done_Linking__1dQBo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Select_page\":\"Select_page_Select_page__qu9K_\",\"link_social\":\"Select_page_link_social__wl49a\",\"Icons\":\"Select_page_Icons__185S5\",\"Link_Progress\":\"Select_page_Link_Progress__2FrGc\",\"Line\":\"Select_page_Line__2cBeb\",\"Icon_Grid\":\"Select_page_Icon_Grid__57SCT\",\"Icon\":\"Select_page_Icon__3kM6n\",\"Form_Header\":\"Select_page_Form_Header__3Zzd2\",\"Back_Btn\":\"Select_page_Back_Btn__3516Y\",\"Header_Text\":\"Select_page_Header_Text__1EjIH\",\"Pages\":\"Select_page_Pages__1MKao\"};","/** @format */\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../../Store/actions/index\";\r\nimport classes from \"./Select_page.module.css\";\r\nimport {\r\n  getFacebookPages,\r\n  saveSelectedFBPageConnect,\r\n} from \"../../../../api/Auth\";\r\nimport { useToastMessage } from \"../../../../contexts/ToastMessageContext\";\r\nimport NoFacebookPage from \"../../../../Components/SocialMedia_Setup/Facebook/NoFacebookPage/NoFacebookPage\";\r\nimport { BackBtn, UIButton, Profile } from \"../../../../Components/exports\";\r\n\r\nconst Select_page = (props) => {\r\n  const { setSuccessMessage, setErrorMessage } = useToastMessage();\r\n\r\n  const getFacebookPagesRef = useRef(() => {});\r\n\r\n  const storeSelectedFBPage = (businessId, page_id) => {\r\n    props.startLoading();\r\n    saveSelectedFBPageConnect(businessId, {\r\n      page_id: page_id,\r\n    })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setErrorMessage(data.error);\r\n          props.error(data.error);\r\n        } else {\r\n          props.cancelLoading();\r\n          setSuccessMessage(data.message);\r\n          props.history.push(`/business/${businessId}/instagram-connect`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        props.error(err);\r\n        setErrorMessage(err);\r\n      });\r\n  };\r\n\r\n  getFacebookPagesRef.current = (isMounted) => {\r\n    props.startLoading();\r\n    getFacebookPages(props.match.params.businessId)\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setError(true);\r\n          setErrorMessage(data.error);\r\n          props.cancelLoading();\r\n        } else {\r\n          setSuccessMessage(\"Successfully got your pages!\");\r\n          if (isMounted) setPages(data.data);\r\n          props.cancelLoading();\r\n        }\r\n      })\r\n      .catch((err) => props.error(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    getFacebookPagesRef.current(isMounted); // note this flag denote mount status\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const [pages, setPages] = useState(null);\r\n  const [value, setValue] = useState(null);\r\n  const [error, setError] = useState(false);\r\n\r\n  return (\r\n    <section className={classes.Select_page}>\r\n      <main>\r\n        <div className={classes.Form_Header}>\r\n          <BackBtn />\r\n          <div className={classes.Header_Text}>\r\n            <h1>Select your facebook page</h1>\r\n          </div>\r\n        </div>\r\n        {!error ? (\r\n          <div className={classes.Pages}>\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                storeSelectedFBPage(props.match.params.businessId, value);\r\n              }}\r\n            >\r\n              {pages &&\r\n                pages.map((page) => {\r\n                  return (\r\n                    <Profile\r\n                      img={page.url}\r\n                      key={page.page_id}\r\n                      id={page.page_id}\r\n                      name={page.name}\r\n                      tag=\"pages\"\r\n                      onClick={() => setValue(page.page_id)}\r\n                      value={page.page_id}\r\n                    />\r\n                  );\r\n                })}\r\n              <UIButton svgStyle={{ paddingLeft: \"5px\" }}>\r\n                Link & Continue to Instagram\r\n              </UIButton>\r\n            </form>\r\n          </div>\r\n        ) : (\r\n          <NoFacebookPage history={props.history} />\r\n        )}\r\n      </main>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    startLoading: () => dispatch(actions.startLoading()),\r\n    cancelLoading: () => dispatch(actions.cancelLoading()),\r\n    error: (err) => dispatch(actions.error(err)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Select_page);\r\n"],"sourceRoot":""}
(this.webpackJsonpeasysocial=this.webpackJsonpeasysocial||[]).push([[104],{1298:function(e,n,t){"use strict";n.a=t.p+"static/media/more.feaafa2d.svg"},2381:function(e,n,t){e.exports={PaymentRenewals:"PaymentRenewals_PaymentRenewals__2FTa9",PaymentRenewals_Main:"PaymentRenewals_PaymentRenewals_Main__3JDVQ",Detail:"PaymentRenewals_Detail__16CZT",Status_Title:"PaymentRenewals_Status_Title__1nosb",Payment_Grid_Detail:"PaymentRenewals_Payment_Grid_Detail__1qFOT",Payment_Grid_Amount:"PaymentRenewals_Payment_Grid_Amount__1Bv1X",Renew_Btn:"PaymentRenewals_Renew_Btn__3JTSq",Options:"PaymentRenewals_Options__2xP0s",Toggler:"PaymentRenewals_Toggler__qeacg",Hide:"PaymentRenewals_Hide__3iY0L",ActiveBusiness:"PaymentRenewals_ActiveBusiness__3nay-",InactiveBusiness:"PaymentRenewals_InactiveBusiness__1hUVa"}},2481:function(e,n,t){"use strict";t.r(n);var s=t(9),a=t(2381),i=t.n(a),c=t(0),r=t(201),l=t(149),u=t(1298),m=t(18),o=t(43),_=t(2);n.default=Object(o.b)((function(e){return{payments:e.business.businessOrders}}),(function(e){return{fetchBusinessOrders:function(n){return e(Object(m.o)(n))},renewalOrderHandler:function(n,t,s,a){return e(Object(m.F)(n,t,s,a))}}}))((function(e){var n=Object(c.useState)(null),t=Object(s.a)(n,2),a=t[0],m=t[1],o=Object(c.useRef)((function(){})),d=Object(c.useRef)((function(){var e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",document.getElementsByTagName("head")[0].appendChild(e)}));o.current=function(){return e.payments.length<1&&e.fetchBusinessOrders(e.history)},Object(c.useEffect)((function(){o.current(),d.current()}),[]);var y=function(e){var n=new Date(e.expiry).getMonth()+1,t=new Date(e.expiry).getDate(),s=new Date(e.expiry).getFullYear();return"".concat(t,"-").concat(n,"-").concat(s)},j=function(n,t){return Object(_.jsxs)("div",{className:i.a.Detail,children:[Object(_.jsxs)("div",{className:i.a.Payment_Grid_Detail,children:[Object(_.jsx)("h1",{children:n.name}),Object(_.jsxs)("p",{children:["Expires: ",y(n)]}),!n.nextOrder&&Object(_.jsx)(r.a,{className:i.a.Renew_Btn,onClick:function(){var t={planId:n.planId,businessId:n.businessId,expiry:n.expiry};return sessionStorage.setItem("renewDetail",JSON.stringify(t)),e.history.push("/user/payments/order-renewal/summary")},children:"Renew Now"})]}),Object(_.jsxs)("div",{className:i.a.Payment_Grid_Amount,children:[Object(_.jsxs)("h1",{children:["Rs"," ",n.amount.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),".00"]}),Object(_.jsx)("p",{children:"/month"})]}),Object(_.jsxs)("div",{className:i.a.Options,children:[Object(_.jsx)("div",{onClick:function(){return m(null)},className:a===t?[i.a.Toggler].join(" "):[i.a.Toggler,i.a.Hide].join(" "),children:Object(_.jsx)("p",{children:"Payment History"})}),Object(_.jsx)("img",{onClick:function(){return m(null===a?t:null)},src:u.a,alt:"more"})]})]},t)};return Object(_.jsxs)("section",{className:i.a.PaymentRenewals,onClick:function(e){if(null!==a)return m(null)},children:[Object(_.jsx)(l.a,{title:"Payment Renewals"}),Object(_.jsxs)("main",{className:i.a.PaymentRenewals_Main,children:[Object(_.jsxs)("div",{className:[i.a.ActiveBusiness,i.a.Businesses].join(" "),children:[e.payments.find((function(e){return new Date(e.expiry)>new Date}))&&Object(_.jsx)("h3",{className:i.a.Status_Title,children:"Active Businesses"}),e.payments.length>0&&e.payments.map((function(e,n){return new Date(e.expiry)>new Date&&j(e,n)}))]}),Object(_.jsxs)("div",{className:[i.a.InactiveBusiness,i.a.Businesses].join(" "),children:[e.payments.length>0&&e.payments.find((function(e){return new Date(e.expiry)<new Date}))&&Object(_.jsx)("h3",{className:i.a.Status_Title,children:"Inactive Businesses"}),e.payments.length>0&&e.payments.map((function(e,n){return new Date(e.expiry)<new Date&&j(e,n)}))]})]})]})}))}}]);
//# sourceMappingURL=104.11a96951.chunk.js.map
"use strict";(self.webpackChunkeasysocial=self.webpackChunkeasysocial||[]).push([[2719],{3355:function(e,n,t){t.d(n,{I:function(){return i}});var r=t(184),i=function(){return(0,r.jsx)("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"//www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M8 1L2 7L8 13",stroke:"#24272C",strokeWidth:2})})}},90:function(e,n,t){t.d(n,{o:function(){return a}});var r=t(9259),i=t(184),a=function(){return(0,i.jsx)(r.Z,{viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})}},2719:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var r=t(1413),i=t(4165),a=t(5861),s=t(885),l=t(2791),o=t(6907),c=t(3504),d=t(3400),u=t(7621),h=t(9504),f=t(4721),x=t(8940),p=t(221),m=t(9451),j=t(4094),g=t(773),b=t(3355),v=t(90),Z=t(5021),w=t(9900),y=t(7064),k=t(1715),_=t(3786),C=t(5574),M=t(5661),F=t(9157),S=t(7123),D=t(6151),L=t(7235),N=t(184),E=function(e){var n=e.display_name,t=e.field_name,r=e.field_type,o=e.id,c=(0,j.s)(),u=c.setErrorMessage,h=c.setSuccessMessage,f=(0,m.Bn)(),x=f.setEditLdfId,g=f.setShowLdfForm,b=(0,l.useState)(null),v=(0,s.Z)(b,2),E=v[0],V=v[1],I=(0,l.useState)(!1),T=(0,s.Z)(I,2),z=T[0],B=T[1],W=function(){B(!1)},R=function(){V(null)},A=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.deleteLeadDataField(o);case 3:if((n=e.sent).success){e.next=6;break}throw Error(n.message);case 6:h(n.message),setTimeout((function(){return window.location.reload()}),1e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u(e.t0.message);case 13:return e.prev=13,W(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(l.Fragment,{children:[(0,N.jsxs)(Z.ZP,{component:"div",sx:{px:{xs:0,md:2}},children:[(0,N.jsx)(w.Z,{primary:(0,N.jsxs)("div",{className:"primary-block",children:[(0,N.jsx)("h2",{className:"list-title",children:n}),(0,N.jsx)("h2",{className:"type",children:"string"===r?"Text":r})]}),secondary:"[".concat(t,"]"),sx:{"& .primary-block":{alignItems:"center",display:"flex",flexWrap:"wrap",gap:1.25,marginBottom:.75,"& .list-title":{color:"text.primary",fontSize:15,fontWeight:500,lineHeight:"18px"},"& .type":{color:"#767676b3",fontSize:12,fontWeight:400,lineHeight:1,textTransform:"uppercase"}},"& .MuiListItemText-secondary":{color:"text.primary",fontSize:12,maxWidth:290,fontWeight:400,lineHeight:"15px"}}}),(0,N.jsx)(y.Z,{children:(0,N.jsx)(d.Z,{onClick:function(e){V(e.currentTarget)},children:(0,N.jsx)(L.Z,{})})})]}),Boolean(E)&&(0,N.jsxs)(k.Z,{anchorEl:E,open:Boolean(E),onClose:R,keepMounted:!0,MenuListProps:{"aria-labelledby":"Options"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{minWidth:120}},children:[(0,N.jsx)(_.Z,{onClick:function(){x(o),g(!0),R()},children:"Edit"}),(0,N.jsx)(_.Z,{onClick:function(){B(!0),R()},children:"Delete"})]}),(0,N.jsxs)(C.Z,{open:z,"aria-labelledby":"responsive-dialog-title",children:[(0,N.jsx)(M.Z,{id:"responsive-dialog-title",children:"Delete"}),(0,N.jsx)(F.Z,{children:"Are you sure you want to delete?"}),(0,N.jsxs)(S.Z,{children:[(0,N.jsx)(D.Z,{color:"secondary",onClick:function(){W()},children:"Cancel"}),(0,N.jsx)(D.Z,{onClick:(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:case"end":return e.stop()}}),e)}))),autoFocus:!0,children:"Delete"})]})]})]})},V=function(e){var n=e.isSearchActive,t=e.setSearchActive,r=(0,m.Bn)(),i=r.setLdfFilter,a=r.setShowLdfForm;return(0,N.jsxs)(g.sm,{children:[(0,N.jsx)(g.vd,{children:(0,N.jsx)(g.Kk,{disableIcon:!0,type:"button",onClick:function(){return a(!0)},sx:{py:0,px:.625,height:36,mt:0},children:"New Lead Data Field"})}),(0,N.jsxs)(g.DU,{children:[!n&&(0,N.jsx)(g.yE,{children:(0,N.jsx)(g.og,{children:"Lead Data Fields"})}),(0,N.jsxs)(g.sv,{children:[n&&(0,N.jsx)(g._8,{children:(0,N.jsxs)(g.w2,{children:[(0,N.jsx)(d.Z,{disableTouchRipple:!0,disableFocusRipple:!0,disableRipple:!0,sx:{position:"absolute"},children:(0,N.jsx)(v.o,{})}),(0,N.jsx)(g.Mj,{onChange:function(e){var n=e.target.value;return i(n)},placeholder:"Search Field"}),(0,N.jsx)(d.Z,{onClick:function(){i(""),t(!n)},sx:{position:"absolute",right:0,top:0},children:(0,N.jsx)(x.Z,{})})]})}),!n&&(0,N.jsx)(d.Z,{onClick:function(){return t((function(e){return!e}))},children:(0,N.jsx)(v.o,{})})]})]})]})},I=t(3974),T=t(1134),z=t(341),B=t(3956),W=t(5641),R=t(5987),A=t(2343),q=t(4280),O=["control","defaultValue","rules","name","children","setValue"],K=function(e){var n=e.control,t=e.defaultValue,i=e.rules,a=e.name,s=(e.children,e.setValue),l=(0,R.Z)(e,O);return(0,N.jsx)(T.Qr,{rules:i,control:n,name:a,render:function(e){var n=e.field;return(0,N.jsx)(A.Z,{multiple:!0,options:t,onChange:function(e,t){s(n.name,t)},freeSolo:!0,renderInput:function(e){return(0,N.jsx)(q.Z,(0,r.Z)((0,r.Z)({},e),{},{variant:"filled",label:l.label,sx:l.sx}))}})}})},P=function(e){var n=e.open,t=e.closeDrawer,r=(0,j.s)(),s=r.setErrorMessage,o=r.setSuccessMessage,c=(0,m.O0)().editLdfId,u=(0,T.cI)({defaultValues:{field_type:"",display_name:"",field_name:"",display_in_filter:!1,use_lead_title:!1}}),h=u.control,f=u.handleSubmit,x=u.watch,v=u.reset,Z=u.setValue,w=x(),y=w.field_type,k=w.display_name,C=w.field_options,M=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(n),!c){e.next=12;break}return e.next=5,p.Z.updateLeadDataField(c,n);case 5:if((r=e.sent).success){e.next=8;break}throw Error(r.message);case 8:o(r.message),setTimeout((function(){return window.location.reload()}),1e3),e.next=19;break;case 12:return e.next=14,p.Z.createLeadDataField(n);case 14:if((a=e.sent).success){e.next=17;break}throw Error(a.message);case 17:o(a.message),setTimeout((function(){return window.location.reload()}),1e3);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),s(e.t0.message);case 24:return e.prev=24,t(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})));return function(n){return e.apply(this,arguments)}}(),F=(0,l.useCallback)((function(){return Z("field_name",k.toLowerCase().replaceAll(" ","_"))}),[k]),S=(0,l.useCallback)((0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c){e.next=8;break}return e.next=4,p.Z.getLeadDataField(c);case 4:if((n=e.sent).success){e.next=7;break}throw Error(n.message);case 7:v({field_type:n.payload.field_type,display_name:n.payload.display_name,field_name:n.payload.field_name,display_in_filter:n.payload.display_in_filter,use_lead_title:n.payload.mark_as_lead_title,field_options:n.payload.field_options?n.payload.field_options:[]});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[c]);return(0,l.useEffect)((function(){F()}),[F]),(0,l.useEffect)((function(){S()}),[S]),(0,N.jsx)(I.ZP,{anchor:"right",open:n,onClose:function(e,n){return!(0,z.MF)(n)&&t()},sx:{zIndex:"modal"},children:(0,N.jsxs)(g.Dj,{sx:{width:{xs:"100vw",md:360}},children:[(0,N.jsxs)(g.yW,{children:[(0,N.jsx)(d.Z,{onClick:t,sx:{width:32,height:32},children:(0,N.jsx)(b.I,{})}),(0,N.jsx)(g.Gh,{children:"".concat(c?"Edit":"Create a"," Data Field")})]}),(0,N.jsxs)(g.aN,{onSubmit:f(M),children:[(0,N.jsx)(g.gq,{children:(0,N.jsxs)(g.mn,{children:[(0,N.jsx)(g.gN,{children:(0,N.jsxs)(W.Z,{select:!0,control:h,label:"Data Field Type",name:"field_type",sx:g.Br,required:!0,defaultValue:y,children:[(0,N.jsx)(_.Z,{value:"",disabled:!0,children:"Select Data Field Type"}),(0,N.jsx)(_.Z,{value:"numeric",children:"Number"}),(0,N.jsx)(_.Z,{value:"string",children:"Text"}),(0,N.jsx)(_.Z,{value:"boolean",children:"Boolean"}),(0,N.jsx)(_.Z,{value:"date",children:"Date"})]})}),(0,N.jsx)(g.gN,{children:(0,N.jsx)(W.Z,{control:h,name:"display_name",label:"Display Name",placeholder:"Display Name",required:!0,sx:g.ey})}),(0,N.jsx)(g.gN,{children:(0,N.jsx)(W.Z,{control:h,name:"field_name",label:"Field Name",placeholder:"Field Name",required:!0,sx:g.ey})}),(0,N.jsx)(g.gN,{children:(0,N.jsx)(K,{control:h,setValue:Z,defaultValue:null!==C&&void 0!==C?C:[],name:"field_options",label:"Options",sx:g.Lx})}),(0,N.jsx)(g.gN,{children:(0,N.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,N.jsxs)("div",{className:"grow",children:[(0,N.jsx)("h5",{className:"field-title",children:"Display Field in Filters & Analytics?"}),(0,N.jsx)("small",{className:"field-subtitle",children:"This field will be displayed in filter option and analytics can be drawn on this field."})]}),(0,N.jsx)(B.Z,{control:h,name:"display_in_filter"})]})}),(0,N.jsx)(g.gN,{children:(0,N.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,N.jsxs)("div",{className:"grow",children:[(0,N.jsx)("h5",{className:"field-title",children:"Use as Lead Title"}),(0,N.jsx)("small",{className:"field-subtitle",children:"If a value is available in the field it will show as the default title instead of the phone number in the Chat section."})]}),(0,N.jsx)(B.Z,{control:h,name:"use_lead_title"})]})})]})}),(0,N.jsx)(g.W9,{children:(0,N.jsx)(g.Kk,{type:"submit",children:"Save"})})]})]})})},Y=t(3821),H=function(){var e=(0,Y.O)(),n=e.isMobile,t=e.isTablet,Z=(0,j.s)().setErrorMessage,w=(0,l.useState)(!0),y=(0,s.Z)(w,2),k=y[0],_=y[1],C=(0,l.useState)(!1),M=(0,s.Z)(C,2),F=M[0],S=M[1],D=(0,m.O0)(),L=D.leadDataFields,I=D.ldfFilter,T=D.showLdfForm,z=(0,m.Bn)(),B=z.setLeadDataFields,W=z.setLdfFilter,R=z.setShowLdfForm,A=z.setEditLdfId,q=(0,l.useCallback)((0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.getLeadDataFields();case 3:if((n=e.sent).success){e.next=6;break}throw Error(n.message);case 6:B(n.payload),_(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Z(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[]);return(0,l.useEffect)((function(){q()}),[q]),(0,N.jsxs)(l.Fragment,{children:[(0,N.jsx)(o.ql,{children:(0,N.jsx)("title",{children:"Lead Data Fields"})}),(0,N.jsxs)(g.VY,{children:[n&&(0,N.jsxs)(g.yW,{sx:g.jo,children:[!F&&(0,N.jsx)(d.Z,{component:c.rU,to:"/business-settings",sx:{width:32,height:32},children:(0,N.jsx)(b.I,{})}),!F&&(0,N.jsx)(g.Gh,{children:"Lead Data Fields"}),F&&(0,N.jsx)(g._8,{children:(0,N.jsxs)(g.w2,{children:[(0,N.jsx)(d.Z,{disableTouchRipple:!0,disableFocusRipple:!0,disableRipple:!0,sx:{position:"absolute"},children:(0,N.jsx)(v.o,{})}),(0,N.jsx)(g.Mj,{onChange:function(e){var n=e.target.value;return W(n)},placeholder:"Search Field"}),(0,N.jsx)(d.Z,{onClick:function(){W(""),S(!F)},sx:{position:"absolute",right:0,top:0},children:(0,N.jsx)(x.Z,{})})]})}),!F&&L.length>0&&(0,N.jsx)(d.Z,{onClick:function(){return S((function(e){return!e}))},children:(0,N.jsx)(v.o,{})})]}),(0,N.jsx)(g.hm,{sx:g.q7,children:(0,N.jsx)(g.Ip,{sx:g._e,children:!k&&(0,N.jsx)(u.Z,{elevation:0,sx:g.we,children:(0,N.jsx)(h.Z,{sx:g.ny,children:0===L.length?(0,N.jsxs)(g.rV,{children:[(0,N.jsx)(g._D,{children:(0,N.jsx)(g.Kk,{disableIcon:!0,onClick:function(){return R(!0)},sx:{borderRadius:2,boxShadow:"0px 8px 8px rgba(50, 197, 255, 0.1)",fontSize:16,fontWeight:700,height:36,lineHeight:"19px",margin:"auto",textTransform:"capitalize"},children:"New Lead Data Field"})}),(0,N.jsx)(g.iC,{children:(0,N.jsx)(g.y7,{children:"Lead Data Field creates an input field for your user, where the value input by a user can be stored and be later retrieved for different users to draw an analytical comparison or as a future reference."})})]}):(0,N.jsxs)(l.Fragment,{children:[t&&(0,N.jsx)(V,{isSearchActive:F,setSearchActive:S}),t&&(0,N.jsx)(f.Z,{}),L.filter((function(e){var n;return null===e||void 0===e||null===(n=e.display_name)||void 0===n?void 0:n.toLowerCase().includes(null===I||void 0===I?void 0:I.toLowerCase())})).reverse().map((function(e,n){return(0,N.jsx)(E,(0,r.Z)({},e),n)}))]})})})})}),n&&L.length>0&&(0,N.jsx)(g.jB,{children:(0,N.jsx)(g.Kk,{onClick:function(){return R(!0)},variant:"outlined",color:"primary",disableIcon:!0,children:"New Lead Data Field"})})]}),(0,N.jsx)(P,{open:T,closeDrawer:function(){A(void 0),R(!1)}})]})},Q=function(){return(0,N.jsx)(H,{})}},3956:function(e,n,t){var r=t(1413),i=t(5987),a=t(1134),s=t(6920),l=t(184),o=["control","defaultValue","rules","name"];n.Z=function(e){var n=e.control,t=(e.defaultValue,e.rules),c=e.name,d=(0,i.Z)(e,o);return(0,l.jsx)(a.Qr,{rules:t,control:n,name:c,render:function(e){var n=e.field;return(0,l.jsx)(s.k,(0,r.Z)((0,r.Z)({},d),{},{checked:n.value,onChange:n.onChange}))}})}},5641:function(e,n,t){var r=t(1413),i=t(5987),a=t(4280),s=t(1134),l=t(184),o=["control","defaultValue","rules","name","children"];n.Z=function(e){var n=e.control,t=(e.defaultValue,e.rules),c=e.name,d=e.children,u=(0,i.Z)(e,o);return(0,l.jsx)(s.Qr,{rules:t,control:n,name:c,render:function(e){var n,t=e.field;return(0,l.jsx)(a.Z,(0,r.Z)((0,r.Z)({},u),{},{value:null!==(n=t.value)&&void 0!==n?n:"",onChange:t.onChange,children:d}))}})}},6920:function(e,n,t){t.d(n,{k:function(){return l}});var r=t(1413),i=t(9955),a=t(6934),s=t(184),l=(0,a.ZP)((function(e){return(0,s.jsx)(i.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible",disableRipple:!0},e))}))((function(e){var n=e.theme;return{width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:n.palette.primary,opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:n.palette.primary,border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:"light"===n.palette.mode?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:13,backgroundColor:"light"===n.palette.mode?"#E9E9EA":"#39393D",opacity:1,transition:n.transitions.create(["background-color"],{duration:500})}}}))},341:function(e,n,t){t.d(n,{E:function(){return o},MF:function(){return l},bw:function(){return c},mr:function(){return a},pv:function(){return d},qt:function(){return s}});var r=t(2426),i=t.n(r);function a(){for(var e=[],n=0;n<3;n++)e.push(Math.floor(255*Math.random()));return"rgb("+e.join(",")+", 0.5)"}function s(e){e=Number(e);var n=Math.floor(e/3600),t=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(n>0?n+(1===n?" hour ":" hours "):"")+(t>0?t+(1===t?" minute ":" minutes "):"")+(r>0?r+(1===r?" second":" seconds"):"")}var l=function(e){return"backdropClick"===e||"escapeKeyDown"===e},o=function(e){return i()(e).format("MMM YYYY")},c=function(e){var n=[];return e.includes("facebook")&&(n=e.filter((function(e){return"facebook"!==e}))),e.includes("instagram")&&(n=n.filter((function(e){return"instagram"!==e}))),(e.includes("facebook")||e.includes("instagram"))&&n.unshift("facebook and instagram"),e.includes("facebook and instagram")&&!n.includes("facebook and instagram")&&n.push("facebook and instagram"),e.includes("twitter")&&!n.includes("twitter")&&n.push("twitter"),e.includes("linkedin")&&!n.includes("linkedin")&&n.push("linkedin"),n},d=function(e){return{children:"".concat(e.split(" ")[0][0]).concat(e.split(" ")[1][0])}}},8940:function(e,n,t){var r=t(4223),i=t(184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")}}]);
//# sourceMappingURL=2719.698a4982.chunk.js.map
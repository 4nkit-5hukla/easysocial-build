"use strict";(self.webpackChunkeasysocial=self.webpackChunkeasysocial||[]).push([[5911],{5e3:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(885),a=t(4165),s=t(1413),l=t(5861),i=t(2791),o=t(6907),c=t(3504),d=t(3400),u=t(7621),m=t(9504),p=t(3786),x=t(1134),h=t(4093),f=t(221),g=t(5641),y=t(8924),v=t(752),Z=t(1377),j=t(9862),b=t(113),_=t(7631),w="MapContainer_Search_Box__yJoHA",S="MapContainer_Input_Container__KIhcA",C=t(8182),L=t(4554),N=t(703),I=t(4834),k=t(2167),T=t(493),P=t(5021),R=t(9900),q={List:"PlaceRecommendationList_List__dkE8n",ListItem:"PlaceRecommendationList_ListItem__zLzWF",secondary:"PlaceRecommendationList_secondary__17gYl",Active:"PlaceRecommendationList_Active__tILzW",CustomButton:"PlaceRecommendationList_CustomButton__webQR"},B=t(184),M=function(e){var n=e.predictions,t=e.google,a=e.onChange,l=e.recenterMap,o=e.isOpen,c=e.closeList,d=(0,i.useState)(null),u=(0,r.Z)(d,2),m=u[0],p=u[1];return(0,B.jsx)(T.Z,{sx:{display:o&&n&&n.length>0?"block":"none"},classes:{root:q.List},children:n.map((function(e,n){var r=e.structured_formatting;return(0,B.jsx)(P.ZP,{button:!0,classes:{root:(0,C.Z)(q.ListItem,m===e.place_id&&q.Active)},onClick:function(){!function(e){var n=e.place;(new t.maps.Geocoder).geocode({placeId:n.place_id},(function(e,n){if("OK"===n||!e){var t=e[0].geometry.location,r=t.lat,a=t.lng;l({lat:r(),lng:a()}),p(e[0].place_id)}}))}({place:e}),function(e){var n=e.place,r=e.main_text,l=e.secondary_text;(new t.maps.Geocoder).geocode({placeId:n.place_id},(function(e,n){if("OK"===n||!e){var t=e[0].geometry.location;a((0,s.Z)((0,s.Z)({},t),{},{address:l,name:r})),p(null),c()}}))}({place:e,main_text:r.main_text,secondary_text:r.secondary_text})},children:(0,B.jsx)(R.Z,{classes:{root:(0,C.Z)(q.root),secondary:(0,C.Z)(q.secondary)},primary:r.main_text,secondary:r.secondary_text||""})},e.place_id)}))})},z=(0,_.GoogleApiWrapper)({apiKey:"AIzaSyDeJHLt1lNrBenb-50Uuz-VBRslc8FqYcU"})((function(e){var n,t=e.google,a=e.onChange,l=e.initialCenter,o=(0,i.useState)({lat:Number(l.lat)||20.5937,lng:Number(l.lng)||78.9629}),c=(0,r.Z)(o,2),u=c[0],m=c[1],p=(0,i.useState)(!1),x=(0,r.Z)(p,2),h=x[0],f=x[1],g=i.useRef(),y=i.useRef(),v=(0,i.useState)([{lat:Number(l.lat)||20.5937,lng:Number(l.lat)||78.9629}]),Z=(0,r.Z)(v,2),j=Z[0],b=Z[1],T=(0,i.useState)([]),P=(0,r.Z)(T,2),R=P[0],q=P[1],z=(0,i.useCallback)((function(e){var n=e.lat,r=e.lng;b((function(e){return[{lat:n,lng:r}]}));t.maps;m({lat:n,lng:r})}),[t.maps]);(0,i.useEffect)((function(){z(l)}),[]);var A=(0,i.useCallback)((function(e,n,r){var l=r.latLng,i=l.lat,o=l.lng,c=new t.maps.Geocoder,d={lat:i(),lng:o()},u=new t.maps.places.PlacesService(n);c.geocode({location:d}).then((function(e){if(e.results[0]){var n={placeId:e.results[0].place_id,fields:["name","formatted_address","place_id","geometry"]};u.getDetails(n,(function(e,n){n===t.maps.places.PlacesServiceStatus.OK&&e&&e.geometry&&e.geometry.location&&a((0,s.Z)((0,s.Z)({},d),{},{name:e.name,address:e.formatted_address}))}))}})).catch((function(e){return window.alert("Geocoder failed due to: "+e)})),b((function(e){return[{lat:i(),lng:o()}]}))}),[]),V=(0,i.useCallback)((function(){u&&new t.maps.places.SearchBox(y.current)}),[u,t.maps]),G=function(e,n){return n===t.maps.places.PlacesServiceStatus.OK&&e?q(e):q([])};return u&&(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)("div",{style:{width:"100%",position:"relative",height:"300px",display:"flex"},children:[(0,B.jsx)(L.Z,{sx:{width:"100%",position:"relative",height:"100%","& div[aria-roledescription='map']":{cursor:"crosshair !important"}},children:(0,B.jsx)(_.Map,{ref:g,google:t,zoom:15,initialCenter:u,centerAroundCurrentLocation:!0,onClick:A,onBoundsChanged:V,center:u,panControl:!0,draggable:!0,mapTypeControl:!1,fullscreenControl:!1,zoomControl:!0,streetViewControl:!1,children:j.map((function(e){return(0,B.jsx)(_.Marker,{position:e},"".concat(e.lat,"-").concat(e.lng))}))})}),(0,B.jsx)("div",{className:(0,C.Z)(w),children:(0,B.jsxs)("div",{className:S,children:[(0,B.jsxs)(N.Z,{sx:{p:"5px 10px",display:"flex",alignItems:"center",width:"95%",borderRadius:"8px",margin:"2% auto"},children:[(0,B.jsx)(d.Z,{sx:{p:"10px"},"aria-label":"search",children:(0,B.jsx)(k.Z,{})}),(0,B.jsx)(I.ZP,{onFocus:function(e){return f(!0)},onInput:function(e){var n=e.target;(new t.maps.places.AutocompleteService).getPlacePredictions({input:n.value},G)},inputRef:y,sx:{ml:1,flex:1},placeholder:"Search your Location",inputProps:{"aria-label":"Search Your Location"}})]}),h&&(0,B.jsx)(M,{isOpen:h&&(null===(n=y.current)||void 0===n?void 0:n.value.length)>=1,recenterMap:z,google:t,predictions:R,onChange:a,closeList:function(){return f(!1)}})]})})]})})})),A=t(8461),V=function(){var e,n=(0,y.Og)().isMobile,t=(0,v.s)(),_=t.setErrorMessage,w=t.setSuccessMessage,S=(0,Z.O0)(),C=S.industryList,L=S.timeZoneList,N=S.countriesList,I=S.provinces,k=(0,Z.Bn)().setProvinces,T=(0,x.cI)({defaultValues:{business_name:"",mobile_number:"",industry:"",website:"",logo:"",address:"",city:"",state:"",country:"",pin_code:"",latitude:20.5937,longitude:78.9629,timezone:{label:"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:5.5}}}),P=T.control,R=T.handleSubmit,q=T.watch,M=T.reset,V=T.setValue,G=q(),W=G.logo,E=G.country,F=G.industry,K=G.latitude,O=G.longitude,Y=G.mobile_number,U=G.state,H=G.timezone,D=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.id,e.next=4,f.Z.putGeneralSettings(t,(0,s.Z)((0,s.Z)({},n),{},{timezoneLabel:H.label,timezoneValue:H.value}));case 4:if((r=e.sent).success||!r.message){e.next=7;break}throw Error(r.message);case 7:w(r.message),setTimeout((function(){return window.location.reload()}),1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),Q=(0,i.useCallback)((0,l.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.getGeneralSettings();case 3:if((n=e.sent).success){e.next=6;break}throw Error(n.message);case 6:M(n.payload),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),_(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[M]),J=(0,i.useCallback)((0,l.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=5;break}return e.next=3,f.Z.getCountryProvinces(E);case 3:n=e.sent,k(n);case 5:case"end":return e.stop()}}),e)}))),[E]),X=(0,i.useCallback)((0,l.Z)((0,a.Z)().mark((function e(){var n,t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.value&&(n=L.filter((function(e){return e.label===H.label})),t=(0,r.Z)(n,1),(s=t[0])&&V("timezone.value",parseFloat(s.value)));case 1:case"end":return e.stop()}}),e)}))),[null===H||void 0===H?void 0:H.label]);return(0,i.useEffect)((function(){X()}),[X]),(0,i.useEffect)((function(){J()}),[J]),(0,i.useEffect)((function(){Q()}),[Q]),(0,B.jsxs)(i.Fragment,{children:[(0,B.jsx)(o.ql,{children:(0,B.jsx)("title",{children:"General Settings"})}),(0,B.jsxs)(j.VY,{children:[n&&(0,B.jsxs)(j.yW,{children:[(0,B.jsx)(d.Z,{component:c.rU,to:"/business-settings",sx:{width:32,height:32},children:(0,B.jsx)(b.IT,{})}),(0,B.jsx)(j.Gh,{children:"General Settings"})]}),(0,B.jsx)(j.hm,{children:(0,B.jsxs)(j.oX,{onSubmit:R(D),children:[(0,B.jsx)(u.Z,{elevation:0,sx:j.we,children:(0,B.jsxs)(m.Z,{sx:j.ny,children:[(0,B.jsx)(j.fN,{children:"Business Details"}),(0,B.jsxs)(j.gq,{sx:j.aq,children:[(0,B.jsxs)(j.mn,{children:[(0,B.jsx)(j.gN,{children:(0,B.jsx)(g.Z,{control:P,name:"business_name",label:"Business Name",placeholder:"Business Name",required:!0,sx:j.ey})}),(0,B.jsx)(j.gN,{children:(0,B.jsxs)(g.Z,{select:!0,control:P,label:"Industry",name:"industry",sx:j.Br,required:!0,defaultValue:null!==F&&void 0!==F?F:"",children:[(0,B.jsx)(p.Z,{value:"",disabled:!0,children:"Select Industry"}),C.map((function(e,n){return(0,B.jsx)(p.Z,{value:e,children:e},n)}))]})}),(0,B.jsx)(j.gN,{children:(0,B.jsx)(g.Z,{control:P,name:"website",label:"Website URL",placeholder:"Website URL",sx:j.ey})}),(0,B.jsx)(j.gN,{children:(0,B.jsx)(h.Kr,{label:"Mobile",placeholder:"Enter mobile no.",fullWidth:!0,defaultCountry:"IN",value:Y,onChange:function(e){V("mobile_number",e)},variant:"filled",sx:j.RC})})]}),(0,B.jsx)(j.aV,{children:(0,B.jsx)(A.Z,{setValue:V,control:P,label:"Upload Logo Image",defaultFieldName:"logo",fileURL:null!==W&&void 0!==W?W:""})})]})]})}),(0,B.jsx)(u.Z,{elevation:0,sx:j.we,children:(0,B.jsxs)(m.Z,{sx:j.ny,children:[(0,B.jsx)(j.fN,{children:"Business Address"}),(0,B.jsx)(j.gq,{sx:j.aq,children:(0,B.jsx)(j.mn,{children:(0,B.jsx)(j.gN,{children:(0,B.jsx)(g.Z,{control:P,name:"address",label:"Address",placeholder:"Address",required:!0,sx:j.ey})})})}),(0,B.jsxs)(j.gq,{sx:j.sQ,children:[(0,B.jsx)(j.T9,{sx:j.YH,children:(0,B.jsx)(j.gN,{children:(0,B.jsxs)(g.Z,{select:!0,control:P,label:"Country",name:"country",sx:j.Br,required:!0,defaultValue:null!==E&&void 0!==E?E:"",children:[(0,B.jsx)(p.Z,{value:"",disabled:!0,children:"Select Country"}),N.map((function(e,n){return(0,B.jsx)(p.Z,{value:e.name,children:e.name},n)}))]})})}),(0,B.jsx)(j.T9,{sx:j.YH,children:(0,B.jsx)(j.gN,{children:I.length>0?(0,B.jsxs)(g.Z,{select:!0,control:P,label:"State",name:"state",sx:j.Br,required:!0,defaultValue:null!==U&&void 0!==U?U:"",children:[(0,B.jsx)(p.Z,{value:"",disabled:!0,children:"Select State"}),I.map((function(e,n){return(0,B.jsx)(p.Z,{value:e.name,children:e.name},n)}))]}):(0,B.jsx)(g.Z,{control:P,name:"state",label:"State",placeholder:"State",required:!0,sx:j.ey})})})]}),(0,B.jsxs)(j.gq,{sx:j.sQ,children:[(0,B.jsx)(j.T9,{sx:j.YH,children:(0,B.jsx)(j.gN,{children:(0,B.jsx)(g.Z,{control:P,name:"city",label:"City",placeholder:"City",required:!0,sx:j.ey})})}),(0,B.jsx)(j.T9,{sx:j.YH,children:(0,B.jsx)(j.gN,{children:(0,B.jsx)(g.Z,{control:P,name:"pin_code",label:"Pincode",placeholder:"Pincode",required:!0,sx:j.ey})})})]})]})}),(0,B.jsx)(u.Z,{elevation:0,sx:j.we,children:(0,B.jsxs)(m.Z,{sx:j.ny,children:[(0,B.jsx)(j.fN,{children:"Location Tagging & Timezone"}),(0,B.jsx)(j.gN,{children:(0,B.jsx)(z,{onChange:function(e){V("address","function"===typeof e.address?e.address():e.address),V("latitude","function"===typeof e.lat?e.lat():e.lat),V("longitude","function"===typeof e.lng?e.lng():e.lng)},initialCenter:{lat:null!==K&&void 0!==K?K:20.5937,lng:null!==O&&void 0!==O?O:78.9629}})}),(0,B.jsx)(j.gq,{sx:j.aq,children:(0,B.jsx)(j.mn,{children:(0,B.jsx)(j.gN,{children:(0,B.jsxs)(g.Z,{select:!0,control:P,label:"Time Zone",name:"timezone.label",sx:j.Br,required:!0,defaultValue:null!==(e=null===H||void 0===H?void 0:H.label)&&void 0!==e?e:"",children:[(0,B.jsx)(p.Z,{value:"",disabled:!0,children:"Select Time Zone"}),L.map((function(e,n){return(0,B.jsx)(p.Z,{value:e.label,children:e.label},n)}))]})})})})]})}),(0,B.jsx)(j.W9,{children:(0,B.jsx)(j.Kk,{type:"submit",children:"Save"})})]})})]})]})},G=function(){return(0,B.jsx)(V,{})}},7064:function(e,n,t){var r=t(3366),a=t(7462),s=t(2791),l=t(8182),i=t(4419),o=t(6934),c=t(3736),d=t(6014),u=t(6199),m=t(184),p=["className"],x=(0,o.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,"flex-start"===t.alignItems&&n.alignItemsFlexStart]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8})})),h=s.forwardRef((function(e,n){var t=(0,c.Z)({props:e,name:"MuiListItemIcon"}),o=t.className,h=(0,r.Z)(t,p),f=s.useContext(u.Z),g=(0,a.Z)({},t,{alignItems:f.alignItems}),y=function(e){var n=e.alignItems,t=e.classes,r={root:["root","flex-start"===n&&"alignItemsFlexStart"]};return(0,i.Z)(r,d.f,t)}(g);return(0,m.jsx)(x,(0,a.Z)({className:(0,l.Z)(y.root,o),ownerState:g,ref:n},h))}));n.Z=h},9900:function(e,n,t){var r=t(4942),a=t(3366),s=t(7462),l=t(2791),i=t(8182),o=t(4419),c=t(890),d=t(6199),u=t(3736),m=t(6934),p=t(9849),x=t(184),h=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],f=(0,m.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[(0,r.Z)({},"& .".concat(p.Z.primary),n.primary),(0,r.Z)({},"& .".concat(p.Z.secondary),n.secondary),n.root,t.inset&&n.inset,t.primary&&t.secondary&&n.multiline,t.dense&&n.dense]}})((function(e){var n=e.ownerState;return(0,s.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})})),g=l.forwardRef((function(e,n){var t=(0,u.Z)({props:e,name:"MuiListItemText"}),r=t.children,m=t.className,g=t.disableTypography,y=void 0!==g&&g,v=t.inset,Z=void 0!==v&&v,j=t.primary,b=t.primaryTypographyProps,_=t.secondary,w=t.secondaryTypographyProps,S=(0,a.Z)(t,h),C=l.useContext(d.Z).dense,L=null!=j?j:r,N=_,I=(0,s.Z)({},t,{disableTypography:y,inset:Z,primary:!!L,secondary:!!N,dense:C}),k=function(e){var n=e.classes,t=e.inset,r=e.primary,a=e.secondary,s={root:["root",t&&"inset",e.dense&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,o.Z)(s,p.L,n)}(I);return null==L||L.type===c.Z||y||(L=(0,x.jsx)(c.Z,(0,s.Z)({variant:C?"body2":"body1",className:k.primary,component:"span",display:"block"},b,{children:L}))),null==N||N.type===c.Z||y||(N=(0,x.jsx)(c.Z,(0,s.Z)({variant:"body2",className:k.secondary,color:"text.secondary",display:"block"},w,{children:N}))),(0,x.jsxs)(f,(0,s.Z)({className:(0,i.Z)(k.root,m),ownerState:I,ref:n},S,{children:[L,N]}))}));n.Z=g}}]);
//# sourceMappingURL=5911.abe47b01.chunk.js.map
import{l as w,g as i,k as K,i as O,s as v,T as ae,r as u,_ as M,j as k,q as B,Q as ce,d as I,bw as ie,a as W,af as pe,z as L,bx as le}from"./index.1bdf1c1c.js";import{u as U,a as ue,p as _,b as de,P as Pe,d as me,i as fe,W as ke,E as $,g as N,K as be,C as j}from"./usePickerState.ac68a06b.js";import{P as he}from"./Popper.91016d58.js";import{G as De}from"./Menu.f89117c0.js";import{M as Te,P as Ce}from"./PureDateInput.53f3f321.js";const z=e=>e.length===1&&e[0]==="year",Q=e=>e.length===2&&e.indexOf("month")!==-1&&e.indexOf("year")!==-1,ye=(e,o)=>z(e)?{inputFormat:o.formats.year}:Q(e)?{disableMaskedInput:!0,inputFormat:o.formats.monthAndYear}:{inputFormat:o.formats.keyboardDate};function Y(e,o){var s;const r=U(),n=ue(),c=w({props:e,name:o}),a=(s=c.views)!=null?s:["year","day"];return i({openTo:"day",disableFuture:!1,disablePast:!1},ye(a,r),c,{views:a,minDate:_(r,c.minDate,n.minDate),maxDate:_(r,c.maxDate,n.maxDate)})}const q={emptyValue:null,getTodayValue:e=>e.date(),parseInput:de,areValuesEqual:(e,o,s)=>e.isEqual(o,s)};function xe(e){return K("MuiDatePickerToolbar",e)}O("MuiDatePickerToolbar",["root","title"]);const Me=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],Ee=e=>{const{classes:o}=e;return B({root:["root"],title:["title"]},xe,o)},Re=v(Pe,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,o)=>o.root})({}),ge=v(ae,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,o)=>o.title})(({ownerState:e})=>i({},e.isLandscape&&{margin:"auto 16px auto auto"})),H=u.exports.forwardRef(function(o,s){const r=w({props:o,name:"MuiDatePickerToolbar"}),{parsedValue:n,isLandscape:c,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:d,toolbarFormat:t,toolbarPlaceholder:p="\u2013\u2013",toolbarTitle:m,views:P}=r,l=M(r,Me),f=U(),b=me(),h=Ee(r),C=m!=null?m:b.datePickerDefaultToolbarTitle,E=u.exports.useMemo(()=>n?t?f.formatByString(n,t):z(P)?f.format(n,"year"):Q(P)?f.format(n,"month"):/en/.test(f.getCurrentLocaleCode())?f.format(n,"normalDateWithWeekday"):f.format(n,"normalDate"):p,[n,t,p,f,P]),T=r;return k(Re,i({ref:s,toolbarTitle:C,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:d,isLandscape:c,className:h.root},l,{children:k(ge,{variant:"h4",align:c?"left":"center",ownerState:T,className:h.title,children:E})}))});function we(e){return K("MuiPickersPopper",e)}O("MuiPickersPopper",["root","paper"]);const ve=["onClick","onTouchStart"],Le=e=>{const{classes:o}=e;return B({root:["root"],paper:["paper"]},we,o)},Ie=v(he,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({zIndex:e.zIndex.modal})),Ve=v(ce,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,o)=>o.paper})(({ownerState:e})=>i({transformOrigin:"top center",outline:0},e.placement==="top"&&{transformOrigin:"bottom center"}));function Ae(e,o){return o.documentElement.clientWidth<e.clientX||o.documentElement.clientHeight<e.clientY}function Fe(e,o){const s=u.exports.useRef(!1),r=u.exports.useRef(!1),n=u.exports.useRef(null),c=u.exports.useRef(!1);u.exports.useEffect(()=>{if(!e)return;function t(){c.current=!0}return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),c.current=!1}},[e]);const a=pe(t=>{if(!c.current)return;const p=r.current;r.current=!1;const m=L(n.current);if(!n.current||"clientX"in t&&Ae(t,m))return;if(s.current){s.current=!1;return}let P;t.composedPath?P=t.composedPath().indexOf(n.current)>-1:P=!m.documentElement.contains(t.target)||n.current.contains(t.target),!P&&!p&&o(t)}),d=()=>{r.current=!0};return u.exports.useEffect(()=>{if(e){const t=L(n.current),p=()=>{s.current=!0};return t.addEventListener("touchstart",a),t.addEventListener("touchmove",p),()=>{t.removeEventListener("touchstart",a),t.removeEventListener("touchmove",p)}}},[e,a]),u.exports.useEffect(()=>{if(e){const t=L(n.current);return t.addEventListener("click",a),()=>{t.removeEventListener("click",a),r.current=!1}}},[e,a]),[n,d,d]}function Se(e){var o;const s=w({props:e,name:"MuiPickersPopper"}),{anchorEl:r,children:n,containerRef:c=null,onBlur:a,onClose:d,onClear:t,onAccept:p,onCancel:m,onSetToday:P,open:l,PopperProps:f,role:b,TransitionComponent:h=De,TrapFocusProps:C,PaperProps:E={},components:T,componentsProps:R}=s;u.exports.useEffect(()=>{function D(g){l&&(g.key==="Escape"||g.key==="Esc")&&d()}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[d,l]);const y=u.exports.useRef(null);u.exports.useEffect(()=>{b!=="tooltip"&&(l?y.current=document.activeElement:y.current&&y.current instanceof HTMLElement&&setTimeout(()=>{y.current instanceof HTMLElement&&y.current.focus()}))},[l,b]);const[G,X,J]=Fe(l,a!=null?a:d),Z=u.exports.useRef(null),ee=I(Z,c),oe=I(ee,G),V=s,A=Le(V),{onClick:F,onTouchStart:S}=E,te=M(E,ve),re=D=>{D.key==="Escape"&&(D.stopPropagation(),d())},ne=(o=T==null?void 0:T.ActionBar)!=null?o:fe,se=(T==null?void 0:T.PaperContent)||u.exports.Fragment;return k(Ie,i({transition:!0,role:b,open:l,anchorEl:r,onKeyDown:re,className:A.root},f,{children:({TransitionProps:D,placement:g})=>k(ie,i({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},C,{children:k(h,i({},D,{children:k(Ve,i({tabIndex:-1,elevation:8,ref:oe,onClick:x=>{X(x),F&&F(x)},onTouchStart:x=>{J(x),S&&S(x)},ownerState:i({},V,{placement:g}),className:A.paper},te,{children:W(se,i({},R==null?void 0:R.paperContent,{children:[n,k(ne,i({onAccept:p,onClear:t,onCancel:m,onSetToday:P,actions:[]},R==null?void 0:R.actionBar))]}))}))}))}))}))}function _e(e){const{children:o,DateInputProps:s,KeyboardDateInputComponent:r,onClear:n,onDismiss:c,onCancel:a,onAccept:d,onSetToday:t,open:p,PopperProps:m,PaperProps:P,TransitionComponent:l,components:f,componentsProps:b}=e,h=u.exports.useRef(null),C=I(s.inputRef,h);return W(ke.Provider,{value:"desktop",children:[k(r,i({},s,{inputRef:C})),k(Se,{role:"dialog",open:p,anchorEl:h.current,TransitionComponent:l,PopperProps:m,PaperProps:P,onClose:c,onCancel:a,onClear:n,onAccept:d,onSetToday:t,components:f,componentsProps:b,children:o})]})}const Ke=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],Oe=u.exports.forwardRef(function(o,s){const r=Y(o,"MuiDesktopDatePicker"),n=$(r)!==null,{pickerProps:c,inputProps:a,wrapperProps:d}=N(r,q),{PopperProps:t,PaperProps:p,ToolbarComponent:m=H,TransitionComponent:P,components:l,componentsProps:f}=r,b=M(r,Ke),h=i({},a,b,{components:l,componentsProps:f,ref:s,validationError:n});return k(_e,i({},d,{DateInputProps:h,KeyboardDateInputComponent:be,PopperProps:t,PaperProps:p,TransitionComponent:P,components:l,componentsProps:f,children:k(j,i({},c,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:m,DateInputProps:h,components:l,componentsProps:f},b))}))}),Be=["ToolbarComponent","value","onChange","components","componentsProps"],We=u.exports.forwardRef(function(o,s){const r=Y(o,"MuiMobileDatePicker"),n=$(r)!==null,{pickerProps:c,inputProps:a,wrapperProps:d}=N(r,q),{ToolbarComponent:t=H,components:p,componentsProps:m}=r,P=M(r,Be),l=i({},a,P,{components:p,componentsProps:m,ref:s,validationError:n});return k(Te,i({},P,d,{DateInputProps:l,PureDateInputComponent:Ce,components:p,componentsProps:m,children:k(j,i({},c,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:t,DateInputProps:l,components:p,componentsProps:m},P))}))}),Ue=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],Ye=u.exports.forwardRef(function(o,s){const r=w({props:o,name:"MuiDatePicker"}),{desktopModeMediaQuery:n="@media (pointer: fine)",DialogProps:c,PopperProps:a,TransitionComponent:d}=r,t=M(r,Ue);return le(n,{defaultMatches:!0})?k(Oe,i({ref:s,PopperProps:a,TransitionComponent:d},t)):k(We,i({ref:s,DialogProps:c},t))});export{Ye as D};

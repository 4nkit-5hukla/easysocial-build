var Fe=Object.defineProperty;var Le=(t,n,i)=>n in t?Fe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;var j=(t,n,i)=>(Le(t,typeof n!="symbol"?n+"":n,i),i);import{g as Ee,f as De,D as O,j as e,s as $,U as Ne,z as de,aB as te,aA as oe,_ as T,r as s,n as ge,b as me,a as r,a0 as L,q as Re,t as Te,aP as We,aR as ne,aQ as X,b1 as ze,E as He,b2 as Pe,b3 as Oe,ai as Y,ao as J,B as w,T as M,b4 as he,I as U,aH as ue,b5 as fe,a9 as $e,aZ as Ve,a_ as _e,C as je,aU as Ge,ar as Ue,X as xe,b6 as Z,W as Xe}from"./index.d51e5c95.js";import{m as Ye,D as Ze,c as Qe,L as qe,d as Ke}from"./CommonComponents.e6551361.js";import{O as Je,Q as ie,e as ve,t as Ce}from"./LayoutComponents.5b7a8c9b.js";import{s as x}from"./styled.4859ef71.js";import{T as et,a as tt}from"./Tabs.6e019d0c.js";import{L as ot}from"./List.7df4626b.js";import{C as nt,A as it}from"./PopupBoxes.2d0b9f83.js";import{L as be}from"./ListItem.05d514ea.js";import{C as we}from"./Checkbox.a8446903.js";import{L as at}from"./ListItemButton.1cfcc9e6.js";import{C as ye}from"./Chip.a24d063f.js";import{M as ee}from"./Menu.8fa3728b.js";import{M as P}from"./MenuItem.85f0c1f8.js";import{S as b}from"./Skeleton.978b0ab8.js";import{T as st}from"./TextField.aa31b962.js";import{I as K}from"./InputAdornment.16230c27.js";import{S as ae}from"./Search.43675085.js";import{M as rt}from"./MoreVert.c7e5a1c4.js";import{C as lt}from"./Close.2f699862.js";import{D as ct}from"./Drawer.7feb9539.js";import{W as pt,T as dt}from"./TemplatePreviewCard.247103f7.js";import{L as gt}from"./LoadingButton.fe5716e5.js";import{L as Q}from"./Link.6febdab1.js";import{b as mt}from"./Select.d0687e71.js";import"./Popper.ac243b37.js";import"./listItemButtonClasses.b3393e9f.js";import"./isMuiElement.3fd04cf6.js";import"./SwitchBase.228a81d1.js";import"./listItemTextClasses.ddd5bbdf.js";import"./WhatsApp.c407ea69.js";import"./Play.2a62926f.js";import"./Tags.232f38f7.js";import"./CircularProgress.1f1c0d8c.js";function ht(t){return De("MuiAlert",t)}const ut=Ee("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),se=ut,ft=O(e("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),xt=O(e("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),vt=O(e("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Ct=O(e("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var re;const bt=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],wt=t=>{const{variant:n,color:i,severity:o,classes:a}=t,g={root:["root",`${n}${de(i||o)}`,`${n}`],icon:["icon"],message:["message"],action:["action"]};return Te(g,ht,a)},yt=$(Ne,{name:"MuiAlert",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:i}=t;return[n.root,n[i.variant],n[`${i.variant}${de(i.color||i.severity)}`]]}})(({theme:t,ownerState:n})=>{const i=t.palette.mode==="light"?te:oe,o=t.palette.mode==="light"?oe:te,a=n.color||n.severity;return T({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&n.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${a}Color`]:i(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${a}StandardBg`]:o(t.palette[a].light,.9),[`& .${se.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette.mode==="dark"?t.palette[a].main:t.palette[a].light}},a&&n.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${a}Color`]:i(t.palette[a].light,.6),border:`1px solid ${(t.vars||t).palette[a].light}`,[`& .${se.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette.mode==="dark"?t.palette[a].main:t.palette[a].light}},a&&n.variant==="filled"&&T({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${a}FilledColor`],backgroundColor:t.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette.mode==="dark"?t.palette[a].dark:t.palette[a].main)}))}),St=$("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,n)=>n.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),At=$("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,n)=>n.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),le=$("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,n)=>n.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ce={success:e(ft,{fontSize:"inherit"}),warning:e(xt,{fontSize:"inherit"}),error:e(vt,{fontSize:"inherit"}),info:e(Ct,{fontSize:"inherit"})},kt=s.exports.forwardRef(function(n,i){const o=ge({props:n,name:"MuiAlert"}),{action:a,children:g,className:c,closeText:v="Close",color:p,icon:l,iconMapping:m=ce,onClose:C,role:d="alert",severity:u="success",variant:A="standard"}=o,k=me(o,bt),f=T({},o,{color:p,severity:u,variant:A}),I=wt(f);return r(yt,T({role:d,elevation:0,ownerState:f,className:Re(I.root,c),ref:i},k,{children:[l!==!1?e(St,{ownerState:f,className:I.icon,children:l||m[u]||ce[u]}):null,e(At,{ownerState:f,className:I.message,children:g}),a!=null?e(le,{ownerState:f,className:I.action,children:a}):null,a==null&&C?e(le,{ownerState:f,className:I.action,children:e(L,{size:"small","aria-label":v,title:v,color:"inherit",onClick:C,children:re||(re=e(lt,{fontSize:"small"}))})}):null]}))}),Mt=kt,It=["component","direction","spacing","divider","children"];function Bt(t,n){const i=s.exports.Children.toArray(t).filter(Boolean);return i.reduce((o,a,g)=>(o.push(a),g<i.length-1&&o.push(s.exports.cloneElement(n,{key:`separator-${g}`})),o),[])}const Ft=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Lt=({ownerState:t,theme:n})=>{let i=T({display:"flex",flexDirection:"column"},ne({theme:n},X({values:t.direction,breakpoints:n.breakpoints.values}),o=>({flexDirection:o})));if(t.spacing){const o=ze(n),a=Object.keys(n.breakpoints.values).reduce((p,l)=>((typeof t.spacing=="object"&&t.spacing[l]!=null||typeof t.direction=="object"&&t.direction[l]!=null)&&(p[l]=!0),p),{}),g=X({values:t.direction,base:a}),c=X({values:t.spacing,base:a});typeof g=="object"&&Object.keys(g).forEach((p,l,m)=>{if(!g[p]){const d=l>0?g[m[l-1]]:"column";g[p]=d}}),i=He(i,ne({theme:n},c,(p,l)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${Ft(l?g[l]:t.direction)}`]:Oe(o,p)}})))}return i=Pe(n.breakpoints,i),i},Et=$("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,n)=>[n.root]})(Lt),Dt=s.exports.forwardRef(function(n,i){const o=ge({props:n,name:"MuiStack"}),a=We(o),{component:g="div",direction:c="column",spacing:v=0,divider:p,children:l}=a,m=me(a,It);return e(Et,T({as:g,ownerState:{direction:c,spacing:v},ref:i},m,{children:p?Bt(l,p):l}))}),Nt=Dt,Rt=O(e("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy"),Tt=t=>{const[n,i]=s.exports.useState(t),o=s.exports.useCallback(d=>{i(u=>[...u,...Array.isArray(d)?d:[d]])},[]),a=s.exports.useCallback(d=>i(u=>[...Array.isArray(d)?d:[d],...u]),[]),g=s.exports.useCallback(()=>i(d=>d.slice(0,-1)),[]),c=s.exports.useCallback(()=>i(d=>d.slice(1)),[]),v=s.exports.useCallback((d,u)=>i(A=>{const k=A.slice();return k.splice(u<0?k.length+u:u,0,k.splice(d,1)[0]),k}),[]),p=s.exports.useCallback(()=>i(()=>[]),[]),l=s.exports.useCallback(()=>i(t),[]),m=s.exports.useCallback(d=>i(u=>{const A=u.slice();return A.splice(d,1),A}),[]),C=s.exports.useMemo(()=>({setValue:i,add:o,unshift:a,push:o,move:v,clear:p,reset:l,removeIndex:m,pop:g,shift:c}),[o,a,v,p,l,m,g,c]);return[n,C]},Se=s.exports.createContext(void 0),Ae=s.exports.createContext(void 0),Wt=({children:t})=>{const[n,i]=s.exports.useState(null),o=Boolean(n),[a,g]=Tt([]),[c,v]=s.exports.useState(void 0),[p,l]=s.exports.useState(),[m,C]=s.exports.useState(null),d=Boolean(m),[u,A]=s.exports.useState(!1),k={moreOptEl:n,openMoreOpt:o,campaigns:a,activeCampaign:p,currentCampaign:c,bulkActionEl:m,openBulkAction:d,showNewCampaignFrom:u},f=s.exports.useMemo(()=>({setMoreOptEl:i,campaignActions:g,setActiveCampaign:l,setCurrentCampaign:v,setBulkActionEl:C,toggleNewCampaignFrom:A}),[]);return e(Se.Provider,{value:k,children:e(Ae.Provider,{value:f,children:t})})},V=()=>{const t=s.exports.useContext(Se);if(t===void 0)throw Error("Item must be used inside of CampaignsProvider, otherwise it will not function correctly.");return t},W=()=>{const t=s.exports.useContext(Ae);if(t===void 0)throw Error("Item must be used inside of CampaignsProvider, otherwise it will not function correctly.");return t},zt=({children:t})=>e(Wt,{children:e(Ye,{children:t})});class R{}j(R,"getCampaignsData",async()=>await Y("/campaigns","GET")),j(R,"getCampaignById",async n=>await Y(`/campaigns/${n}`,"GET")),j(R,"updateCampaignProgress",async(n,i)=>await Y(`/campaigns/status/${n}`,"PUT",{data:{progress:i}}));const Ht={maxWidth:{md:380,xl:560}},Pt={minHeight:46,"& .MuiTabScrollButton-root":{alignSelf:"center",borderRadius:4,height:32,width:32},"& .MuiTabs-indicator":{height:4}},ke={"& .MuiPaper-root":{minWidth:140,"& .MuiList-root":{p:0,"& .MuiMenuItem-root":{color:"#12B0EE",justifyContent:"center",minHeight:40,fontSize:16,fontWeight:500,lineHeight:"19px","&:not(:last-of-type)":{borderBottom:1,borderBottomColor:"#0000000D"}}}}},Me={"&:not(:last-of-type)":{borderBottom:"1px solid #24272C1A"},"& .MuiListItemButton-root":{alignItems:"stretch",flexDirection:"column",py:1.5,rowGap:1,"&:hover, &.active":{bgcolor:"#EDFAFF"}},"& .above, & .below":{display:"flex",flexWrap:"wrap",gap:1.25,justifyContent:"space-between","& .above-start, & .below-start, & .above-end, & .below-end":{alignItems:"center",display:"flex",flexWrap:"wrap",gap:1.25}}},Ot={"&.MuiCollapse-hidden":{width:"0!important"},"&.MuiCollapse-entered":{width:"100%!important"},"& .MuiCollapse-wrapper, & .MuiCollapse-wrapperInner":{width:"100%"},"& .MuiCollapse-wrapperInner":{pr:1.75}},q={width:42,height:42},$t={width:42,height:42},Vt=ke,_t=x("div")({backgroundColor:"#FFFFFF",borderRight:1,borderRightStyle:"solid",borderRightColor:"#0000000D",display:"flex",flexDirection:"column",width:"100%",transition:"max-width 0.2s ease-in-out"}),jt=x("div")({borderBottom:1,borderBottomStyle:"solid",borderBottomColor:"#0000000D",display:"flex",alignItems:"center"}),Gt=x(et)({flexGrow:1,minHeight:46,paddingLeft:14}),G=x(tt)({fontSize:16,fontWeight:500,lineHeight:"19px",minHeight:46,minWidth:"unset",paddingLeft:10,paddingRight:10,textTransform:"inherit"}),Ut=x("div")({display:"flex",flexDirection:"column",flexGrow:1}),Xt=x("div")({display:"flex",flex:"0 1 0",paddingLeft:14}),Yt=x("div")({flex:"1 0 0",overflow:"auto"}),pe=x(ot)({padding:0,"& .MuiListItem-root":{"& > .MuiListItemButton-root":{paddingLeft:64,paddingRight:20},"& .MuiListItemSecondaryAction-root":{right:"unset",left:14}}}),Zt=x("div")({backgroundColor:"#F7F8FA",flexGrow:1,display:"flex",position:"relative"}),Qt=x("div")({display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%","& .top":{alignItems:"center",display:"inline-flex",flexDirection:"column",marginTop:"80px",rowGap:"5px",textAlign:"center","& .info":{"& .heading":{color:"#24272C",fontSize:"20px",fontWeight:500,lineHeight:"42px"}},"& .MuiButton-root":{backgroundColor:"#12B0EE",borderRadius:"8px",boxShadow:"none",height:"42px"}},"& .bottom":{display:"flex",justifyContent:"flex-end","& .image":{marginRight:"36px",marginBottom:"20px"}}}),qt=x("div")({display:"flex",height:"100%",width:"100%"}),Kt=x("div")({display:"flex",flex:"1 1 0",flexDirection:"column"}),Jt=x("div")({backgroundColor:"#FFFFFF",borderBottom:"1px solid #0000000D",display:"flex",justifyContent:"space-between",padding:"12px 20px"}),eo=x("div")({display:"flex",flexDirection:"column",flexGrow:1,gap:"10px","& h3.MuiTypography-root":{color:"#24272C",fontSize:"18px",fontWeight:500,lineHeight:"21px"}}),to=x("div")({flexShrink:1}),oo=x("div")({flex:"1 1 0",overflow:"auto","& .linked-template, & .linked-users, & .schedule, & .users, & .api":{padding:"20px","& h4.MuiTypography-root":{color:"#24272C",fontSize:"15px",fontWeight:700,lineHeight:"40px"},"& .MuiLink-root":{alignItems:"center",color:"#12B0EE",display:"flex",fontSize:"12px",fontWeight:400,lineHeight:"12px",columnGap:"7px"},"& .MuiFilledInput-root":{backgroundColor:"#12B0EE1A",borderRadius:"8px",height:"40px",width:"100%","&::before, &:after":{display:"none"},"& *::-moz-selection, & *::selection":{backgroundColor:"transparent",color:"#24272C80"},"& .MuiFilledInput-input":{color:"#24272C80",fontSize:"12px",fontWeight:500,height:"100%",lineHeight:"14px",padding:"0 12px"}},"& .template":{alignItems:"baseline",display:"flex",gap:"0 10px"},"& .name, & .at":{color:"#767676B3",fontSize:"14px",fontWeight:400,lineHeight:"15px"}}}),no=x("div")({padding:20}),io=x("div")({display:"flex",justifyContent:"space-between",marginBottom:16,"& h4.MuiTypography-root":{color:"#24272C",fontSize:15,fontWeight:700,lineHeight:"40px"},"& button.MuiLink-root":{alignItems:"baseline",color:"#12B0EE",display:"flex",fontSize:"14px",fontWeight:500,gap:"8px",lineHeight:"40px"}}),ao=x("div")({display:"flex",flexWrap:"wrap",gap:"30px 15px","& .report-item":{background:"#FFFFFF",boxShadow:"0px 0px 20px rgba(50, 197, 255, 0.15)",borderRadius:"8px",display:"flex",flex:"1 1 calc((100% / 3) - (15px * 2))",flexDirection:"column",gap:"30px 0",padding:"7px",minWidth:"138px","&:hover":{boxShadow:"0px 0px 20px 5px rgba(50, 197, 255, 0.15), inset 0 0 0 1px #12B0EE"},"& .top":{display:"flex",justifyContent:"space-between","& .item-title":{color:"#24272C",fontSize:"16px",fontWeight:500,lineHeight:"14px"}},"& .bottom":{"& .item-value":{color:"#24272C",fontSize:"20px",fontWeight:700,lineHeight:"23px"},"& .item-unit":{color:"#24272C80",fontSize:"12px",fontWeight:500,lineHeight:"14px"}}}}),so=x("div")({columnGap:"15px",display:"flex",justifyContent:"flex-end",padding:"20px","& .MuiButton-root":{alignItems:"center",borderRadius:"8px",boxShadow:"none",fontSize:"15px",fontWeight:500,height:"43px",lineHeight:"18px",textTransform:"capitalize","& .MuiLoadingButton-loadingIndicator":{color:"#ffffff"},"&.MuiButton-containedPrimary":{backgroundColor:"#12B0EE"},"&.MuiButton-containedSecondary":{backgroundColor:"#BEBEBE","&.btn-resume":{backgroundColor:"#47C055"}}}}),ro=x("div")({backgroundColor:"#ffffff",borderLeft:"1px solid #0000000D",flexDirection:"column",flex:"0 1 auto",height:"100%",width:"100%",maxWidth:300,padding:"0 20px","& .header":{padding:"12px 0","& .heading":{color:"#24272C",fontSize:"18px",fontWeight:500,lineHeight:"21px"}},"& .preview-content":{flex:"1 1 0","& .preview-card":{backgroundColor:"#FFFFFF",border:"1px solid #DEE2EA",boxShadow:"0 0 20px rgba(0, 0, 0, 0.1)",borderRadius:"4px",margin:"0 auto 20px",maxWidth:"300px",padding:"15px",height:"max-content","& .media-wrapper":{alignItems:"center",backgroundColor:"#C4C4C4",borderRadius:"4px 4px 0 0",display:"flex",justifyContent:"center",marginBottom:"24px",minHeight:"130px",overflow:"hidden",position:"relative",width:"100%","&.doc":{backgroundColor:"#F5F5F5",color:"#A1AEB4",fontSize:"90px",fontWeight:900,lineHeight:"96px"},"&.vdo":{"&::after":{borderLeft:"32px solid #ffffff",borderTop:"16px solid transparent",borderBottom:"16px solid transparent",content:'""',cursor:"pointer",display:"block",filter:"drop-shadow(0px 5px 2px #00000040)",left:"50%",top:"50%",transform:"translate(-50%,-50%)",position:"absolute"},"&.playing":{"&:hover":{"&::after":{display:"block"}},"&::after":{borderTop:"none",borderBottom:"none",borderLeft:"12px solid #ffffff",borderRight:"12px solid #ffffff",content:'""',cursor:"pointer",display:"none",height:"32px",left:"50%",top:"50%",transform:"translate(-50%,-50%)",position:"absolute",width:"8px"}}},"& .image, & .video":{objectFit:"cover",objectPosition:"center",width:"100%"},"& .video":{height:"130px"}},"& .header":{color:"#767676",fontSize:"16px",fontWeight:700,lineHeight:"16px",marginBottom:"5px",minHeight:"unset!important",padding:"0!important"},"& .body":{color:"#767676",fontSize:"14px",fontWeight:400,lineHeight:"16px",marginBottom:"12px","& >":{"& *":{"&:not(:last-child)":{marginBottom:"16px"}}}},"& .footer":{alignItems:"flex-start!important",border:"none!important",color:"#76767680",fontSize:"12px",fontWeight:500,lineHeight:"16px",marginBottom:"20px",minHeight:"unset!important",padding:"0!important"},"& .preview-actions":{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"16px","& .btn-action":{backgroundColor:"#ffffff",border:"1px solid #DEE2EA",borderRadius:"8px",color:"#767676",flex:"1 1 auto",fontSize:"14px",fontWeight:500,height:"40px",lineHeight:"16px",padding:"0 5px",textTransform:"initial",minWidth:"calc(50% - 8px)","& .label":{overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}}}}),lo=({data:t,index:n,checked:i,doCheck:o})=>{const{setErrorMessage:a,setSuccessMessage:g}=J(),{activeCampaign:c}=V(),{setActiveCampaign:v,campaignActions:p}=W(),[l,m]=s.exports.useState(null),[C,d]=s.exports.useState(!1),u=async()=>{const f=await R.updateCampaignProgress(t.id,fe.REMOVED);if(!f.success)return a(f.message);v(void 0),p.setValue(I=>I.filter(F=>F.id!==t.id)),g("Campaign Deleted Successfully")},A=f=>{f.preventDefault(),m(l===null?{mouseX:f.clientX+2,mouseY:f.clientY-6}:null)},k=()=>{m(null)};return r(s.exports.Fragment,{children:[e(be,{secondaryAction:e(we,{edge:"end",onChange:o(n),checked:i.indexOf(n)!==-1}),disablePadding:!0,sx:Me,children:r(at,{onClick:()=>v(c!==t.id?t.id:void 0),onContextMenu:A,className:c&&c===t.id?"active":"",children:[r(w,{className:"above",children:[e(w,{className:"above-start",children:e(M,{component:"span",sx:{fontSize:16,fontWeight:500,lineHeight:"13px"},children:t.name})}),e(w,{className:"above-end",children:e(ye,{label:t.progress,size:"small",sx:{bgcolor:he(t.progress),alignItems:"center",color:"#FFFFFF",height:16,gap:.5,px:1,"& .MuiChip-label":{fontSize:9,fontWeight:900,lineHeight:1,px:0}}})})]}),e(w,{className:"below",children:r(w,{className:"below-start",children:[e(U,{src:(t==null?void 0:t.type)==="API"?"/static/images/png/link-icon.png":"/static/images/png/calendar-icon.png",alt:(t==null?void 0:t.type)==="API"?"api":"ongoing",sx:{width:"auto"}}),e(M,{component:"span",sx:{color:"#24272CB3",fontSize:13,fontWeight:500,lineHeight:"12px"},children:(t==null?void 0:t.type)==="API"?t==null?void 0:t.type:ue(t==null?void 0:t.schedule_date).format("Do MMM YY, h:mm A")})]})})]})}),e(ee,{open:l!==null,onClose:k,onClick:k,anchorReference:"anchorPosition",anchorPosition:l!==null?{top:l.mouseY,left:l.mouseX}:void 0,children:e(P,{onClick:()=>d(!0),children:"Delete"})}),e(nt,{title:"Delete",open:C,setOpen:d,onConfirm:u,positiveLabel:"Delete",negativeLabel:"Cancel",children:"Are you sure you want to delete?"})]})},co=()=>r(be,{secondaryAction:e(b,{variant:"rectangular",width:18,height:18}),disablePadding:!0,sx:{...Me,flexDirection:"column",rowGap:1,py:1.5,pl:8,pr:2.5,"& .MuiListItemSecondaryAction-root":{left:"26px !important"}},children:[r(w,{className:"above",width:"100%",children:[e(w,{className:"above-start",flexGrow:1,children:e(b,{variant:"rounded",width:100,height:13})}),e(w,{className:"above-end",children:e(b,{variant:"rounded",width:70,height:16,sx:{borderRadius:4}})})]}),e(w,{className:"below",width:"100%",children:e(w,{className:"below-start",flexGrow:1,children:e(b,{variant:"rounded",width:32,height:12})})})]}),po=()=>{const{showSnack:t}=J(),{setHeaderContent:n}=$e(),{campaigns:i}=V(),{campaignActions:o,setMoreOptEl:a,setBulkActionEl:g}=W(),[c,v]=Ve(),p=c.get("tab"),[l,m]=s.exports.useState(!0),[C,d]=s.exports.useState(!1),[u,A]=s.exports.useState(p!=null?p:"all"),[k,f]=s.exports.useState(""),[I,F]=s.exports.useState(!1),[E,D]=s.exports.useState([]),z=s.exports.useRef(),S=s.exports.useDeferredValue(k),y=i.filter(h=>u==="all"?!0:u===(h==null?void 0:h.progress.toLowerCase())).filter(h=>h.name.toLowerCase().includes(S.toLowerCase())),N=(h,B)=>{A(B),v({tab:B})},_=h=>{F(h.target.checked),h.target.checked?D(Array.from({length:y.length},(B,H)=>H)):D([])},Ie=h=>()=>{const B=E.indexOf(h),H=[...E];B===-1?H.push(h):H.splice(B,1),D(H),F(!1)},Be=s.exports.useRef(async()=>{const h=await R.getCampaignsData();if(!h.success)return m(!1),t(h.message,"error");o.setValue(h.payload),m(!1)});return s.exports.useEffect(()=>{Be.current()},[]),s.exports.useEffect(()=>{p&&p!==u&&A(p)},[u,p]),s.exports.useEffect(()=>(n(r(w,{display:"flex",alignItems:"center",gap:.5,children:[e(M,{component:"span",sx:Je,children:l?e(b,{variant:"text",width:144}):_e(y.length,"Campaign")}),e(M,{component:"span",sx:ie,children:"/"}),r(M,{component:"span",sx:ie,children:[S!==""?`"${S}" in `:"",u]})]})),()=>{n(null)}),[l,u,S,y.length]),r(_t,{sx:Ht,children:[r(jt,{children:[r(Gt,{value:u,onChange:N,variant:"scrollable",orientation:"horizontal",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:Pt,children:[e(G,{label:"All",value:"all"}),e(G,{label:"Active",value:"active"}),e(G,{label:"Paused",value:"paused"}),e(G,{label:"Completed",value:"completed"})]}),e(L,{onClick:h=>a(h.currentTarget),sx:$t,children:e(it,{})})]}),r(Ut,{children:[r(Xt,{children:[e(we,{checked:I,onChange:_,inputProps:{"aria-label":"Check All"}}),e(je,{in:C,orientation:"horizontal",sx:Ot,children:e(st,{placeholder:"Search Campaigns...",onChange:({currentTarget:{value:h}})=>f(h),InputProps:{disableUnderline:!1,startAdornment:C?e(K,{position:"start",children:e(ae,{})}):void 0,endAdornment:C?e(K,{position:"end",children:e(L,{sx:q,onClick:()=>{f(""),d(!1)},children:e(Ge,{})})}):void 0,sx:{borderRadius:0,minHeight:42}},inputProps:{ref:z,disabled:!C},variant:"standard"})}),!C&&e(L,{sx:{...q,ml:"auto"},onClick:()=>{d(!0),setTimeout(()=>{var h;(h=z.current)==null||h.focus()},0)},children:e(ae,{})}),!C&&e(L,{onClick:h=>g(h.currentTarget),sx:q,children:e(rt,{})})]}),e(Yt,{children:l?e(pe,{children:Array(5).fill(void 0).map((h,B)=>e(co,{},B))}):y.length>0?e(pe,{children:y.reverse().map((h,B)=>e(lo,{data:h,index:B,doCheck:Ie,checked:E},B))}):e(Mt,{variant:"filled",severity:"warning",sx:{mx:2.5},children:"0 campaigns found."})})]})]})},go=({open:t,anchorEl:n,doClose:i})=>{const{toggleNewCampaignFrom:o}=W();return r(ee,{anchorEl:n,open:t,onClose:i,onClick:i,keepMounted:!1,MenuListProps:{"aria-labelledby":"Options"},anchorOrigin:ve,transformOrigin:Ce,sx:ke,children:[e(P,{onClick:()=>o(!0),children:"New Campaign"}),e(P,{children:"Manage Tabs"})]})},mo=({open:t,anchorEl:n,doClose:i})=>r(ee,{anchorEl:n,open:t,onClose:i,onClick:i,keepMounted:!1,MenuListProps:{"aria-labelledby":"Bulk Actions"},anchorOrigin:ve,transformOrigin:Ce,sx:Vt,children:[e(P,{children:"Action 1"}),e(P,{children:"Action 2"})]}),ho=({open:t,closeDrawer:n})=>e(ct,{anchor:"right",open:t,onClose:(i,o)=>!Ue(o)&&n(),sx:{zIndex:"modal"},children:e(Ze,{sx:{width:{xs:"100vw",md:360}},children:r(Qe,{children:[e(L,{onClick:n,sx:{width:32,height:32},children:e(qe,{})}),e(Ke,{children:"Create Campaign"})]})})}),uo=()=>{const{moreOptEl:t,openMoreOpt:n,bulkActionEl:i,openBulkAction:o,showNewCampaignFrom:a}=V(),{setMoreOptEl:g,setBulkActionEl:c,toggleNewCampaignFrom:v}=W();return r(s.exports.Fragment,{children:[e(po,{}),e(go,{open:n,anchorEl:t,doClose:()=>g(null)}),e(mo,{open:o,anchorEl:i,doClose:()=>c(null)}),e(ho,{open:a,closeDrawer:()=>v(!1)})]})},fo=()=>{const{toggleNewCampaignFrom:t}=W();return r(Qt,{children:[r("div",{className:"top",children:[r("div",{className:"info",children:[e("h3",{className:"heading",children:"Click on a campaign to see details."}),e("h3",{className:"heading",children:"or"}),e("h3",{className:"heading",children:"Create a new campaign"})]}),e(xe,{type:"button",variant:"contained",onClick:()=>t(!0),children:"New Campaign"})]}),e("div",{className:"bottom",children:e("div",{className:"image",children:e(U,{src:"/static/images/svg/create-or-select.svg",alt:"Create or Select",sx:{width:201,height:"auto"}})})})]})},xo=()=>{var f,I,F,E,D,z;const{setErrorMessage:n}=J(),{activeCampaign:i,currentCampaign:o}=V(),{setActiveCampaign:a,setCurrentCampaign:g}=W(),[c,v]=s.exports.useState(!0),[p,l]=s.exports.useState(!1),[m,C]=s.exports.useState(),d=async()=>{l(!0),setTimeout(()=>{console.log("done"),l(!1)},3e3)},u=({title:S,icon:y,value:N,unit:_})=>r("div",{className:"report-item",children:[r("div",{className:"top",children:[e("h3",{className:"item-title",children:S}),e("img",{src:y,alt:"icon"})]}),r("div",{className:"bottom",children:[c?e(b,{className:"item-value",animation:"wave"}):e("h3",{className:"item-value",children:S==="Reply Rate"?N>0?`${N}%`:"N.A.":Intl.NumberFormat("en-US").format(N)}),c?e(b,{className:"item-unit",animation:"wave"}):e("h4",{className:"item-unit",children:S==="Reply Rate"?N>0?_:"":_})]})]}),A=s.exports.useRef(async S=>{if(S){v(!0);const y=await R.getCampaignById(S);if(!y.success)return a(void 0),n(y.message);g(y.payload),v(!1)}}),k=s.exports.useRef(async S=>{if(S){const y=await pt.getWaTemplateMessage(S);if(!y.success)return C(void 0),n(y.message);C(y.payload)}});return s.exports.useEffect(()=>{A.current(i)},[i]),s.exports.useEffect(()=>{k.current(o==null?void 0:o.wa_template_id)},[o==null?void 0:o.wa_template_id]),console.log(m),r(qt,{children:[r(Kt,{children:[r(Jt,{children:[e(eo,{children:e(M,{component:"h3",children:c?e(b,{animation:"wave",width:"40%"}):o==null?void 0:o.name})}),e(to,{children:c?e(b,{variant:"rectangular",animation:"wave",width:53,height:16,sx:{borderRadius:4}}):e(ye,{label:o==null?void 0:o.progress,className:"badge",size:"small",sx:{backgroundColor:he((f=o==null?void 0:o.progress)!=null?f:fe.REMOVED),alignItems:"center",justifyContent:"center",height:16,"& .MuiChip-label":{color:"#FFFFFF",fontSize:10,fontWeight:900,lineHeight:"12px"}}})})]}),r(oo,{children:[!c&&(o==null?void 0:o.progress)!=="COMPLETED"&&r(so,{children:[e(gt,{loading:p,color:"secondary",onClick:d,className:(o==null?void 0:o.progress)==="ACTIVE"?"":"btn-resume",variant:"contained",children:`${(o==null?void 0:o.progress)==="ACTIVE"?"Pause":"Resume"} Campaign`}),(o==null?void 0:o.type)!=="API"&&e(xe,{variant:"contained",color:"primary",children:"Modify Campaign"})]}),r(no,{children:[r(io,{children:[e(M,{component:"h4",children:"Statistics"}),r(Q,{component:"button",underline:"none",className:"download",disabled:c,children:[e(U,{src:"/static/images/svg/download.svg",alt:"down",sx:{width:"auto"}}),e(w,{component:"span",children:"Download Report"})]})]}),e(ao,{children:[{title:"Sent",icon:"/static/images/svg/sent.svg",value:o!=null&&o.statistics?parseInt((I=o==null?void 0:o.statistics)==null?void 0:I.sent):0,unit:"messages"},{title:"Replied",icon:"/static/images/svg/replied.svg",value:o!=null&&o.statistics?parseInt((F=o==null?void 0:o.statistics)==null?void 0:F.responded):0,unit:"messages"},{title:"Reply Rate",icon:"/static/images/svg/reply-rate.svg",value:o!=null&&o.statistics?(E=o==null?void 0:o.statistics)==null?void 0:E.response_rate:0,unit:`${(o==null?void 0:o.statistics)&&o.statistics.response_rate<31?"lower":"higher"} than avg. ${31}%`},{title:"Delivered",icon:"/static/images/svg/delivered.svg",value:o!=null&&o.statistics?parseInt((D=o==null?void 0:o.statistics)==null?void 0:D.delivered):0,unit:"messages"},{title:"Read",icon:"/static/images/svg/read.svg",value:o!=null&&o.statistics?parseInt((z=o==null?void 0:o.statistics)==null?void 0:z.read):0,unit:"messages"},{title:"Failed",icon:"/static/images/svg/failed.svg",value:o!=null&&o.statistics?parseInt(o.statistics.failed):0,unit:"messages"}].map((S,y)=>e(u,{...S},y))})]}),r(w,{className:"linked-template",children:[e(M,{component:"h4",children:"Linked Template"}),r(w,{className:"template",children:[e("span",{className:"name",children:c?e(b,{animation:"wave",variant:"text",width:"70px"}):m==null?void 0:m.name}),m&&e(Q,{href:`/business/wa/template-messages?previewTemplate=${m==null?void 0:m.id}`,target:"_blank",underline:"none",className:"download",children:e("img",{src:"/static/images/svg/link.svg",alt:"link"})})]})]}),(o==null?void 0:o.type)===Z.API&&r("div",{className:"api",children:[e(M,{component:"h4",children:"API"}),c?e(b,{animation:"wave",variant:"rectangular",sx:{backgroundColor:"#12B0EE1A",borderRadius:2,height:40}}):e(mt,{value:"apiUrl",inputProps:{readOnly:!0},endAdornment:e(K,{position:"end",children:e(L,{children:e(Rt,{})})})})]}),o&&o.type===Z.UPLOAD&&o.file_url&&o.total_rows&&r(w,{className:"users",children:[e(M,{component:"h4",children:c?e(b,{animation:"wave",variant:"text",width:120}):`${o.total_rows} Users Selected`}),e(Q,{href:o.file_url,underline:"none",className:"download",download:!0,children:c?e(b,{animation:"wave",variant:"text",width:150}):r(s.exports.Fragment,{children:[e(U,{src:"/static/images/svg/download.svg",alt:"down",sx:{width:"auto"}}),e(w,{component:"span",className:"label",children:"Download User Data"})]})})]}),o&&o.type===Z.UPLOAD&&r(w,{className:"schedule",children:[e(M,{component:"h4",children:"Scheduled At"}),e(M,{component:"p",className:"at",children:c?e(b,{animation:"wave",variant:"text",width:150}):ue(o.schedule_date).format("Do MMMM YYYY [at] h:mmA")})]})]})]}),r(ro,{children:[e(w,{className:"header",children:e(M,{component:"h3",className:"heading",children:c?e(b,{variant:"text",animation:"wave",width:145,height:22}):"Preview Message"})}),c?e("div",{className:"preview-content",children:e("div",{className:"preview-card",children:r(Nt,{spacing:.7,children:[e(b,{variant:"rectangular",width:"100%",height:130}),e(b,{}),e(b,{width:"60%"})]})})}):m&&e(dt,{components:m.components})]})]})},vo=()=>{const{activeCampaign:t}=V();return r(Zt,{children:[!t&&e(fo,{}),t&&e(xo,{})]})},Jo=()=>r(zt,{children:[e(Xe,{children:e("title",{children:"Engage Campaigns"})}),e(uo,{}),e(vo,{})]});export{Jo as default};

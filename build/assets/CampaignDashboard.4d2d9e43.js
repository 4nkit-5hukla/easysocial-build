var fe=Object.defineProperty;var xe=(e,o,n)=>o in e?fe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var G=(e,o,n)=>(xe(e,typeof o!="symbol"?o+"":o,n),n);import{g as ve,e as Ae,D as O,j as t,s as R,S as be,y as oe,aw as U,av as j,_ as P,r as a,l as we,c as Se,a as c,$ as k,p as Me,q as ke,A as ye,B as A,T as B,aB as Ie,b as Le,a8 as Ee,aT as Be,aU as De,C as Te,aO as Ne,am as Fe,V as Pe,W as Oe}from"./index.0f332f5b.js";import{m as Re,D as ze,c as We,L as He,d as $e}from"./CommonComponents.952db432.js";import{O as Ve,Q as Y,e as ne,t as re}from"./LayoutComponents.2e300d42.js";import{s as b}from"./styled.fec32704.js";import{T as Xe,a as _e}from"./Tabs.7761228a.js";import{L as Ge}from"./List.b0c9e76e.js";import{I as ae}from"./Img.88e26a24.js";import{L as se}from"./ListItem.3c4c8f69.js";import{C as ie}from"./Checkbox.b1f41537.js";import{L as Ue}from"./ListItemButton.38b47ac9.js";import{C as je}from"./Chip.d37ccb2e.js";import{M as V}from"./Menu.a440cc3b.js";import{M as D}from"./MenuItem.9f3a5b75.js";import{S as L}from"./Skeleton.7ce142f9.js";import{A as Ye}from"./ArrowDropDown.1506ba90.js";import{T as Ze}from"./TextField.a41504df.js";import{I as Z}from"./InputAdornment.3bd38167.js";import{S as q}from"./Search.8cafa176.js";import{M as qe}from"./MoreVert.960332b6.js";import{C as Ke}from"./Close.8147fa81.js";import{D as Qe}from"./Drawer.97f6b1b4.js";import"./Popper.4a7152a2.js";import"./CardMedia.961195a0.js";import"./listItemButtonClasses.f19c762e.js";import"./isMuiElement.a4739e0e.js";import"./SwitchBase.52dba070.js";import"./Select.523a5fc8.js";import"./listItemTextClasses.37a4eef2.js";function Je(e){return Ae("MuiAlert",e)}const et=ve("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),K=et,tt=O(t("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ot=O(t("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),nt=O(t("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),rt=O(t("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var Q;const at=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],st=e=>{const{variant:o,color:n,severity:i,classes:r}=e,g={root:["root",`${o}${oe(n||i)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return ke(g,Je,r)},it=R(be,{name:"MuiAlert",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[n.variant],o[`${n.variant}${oe(n.color||n.severity)}`]]}})(({theme:e,ownerState:o})=>{const n=e.palette.mode==="light"?U:j,i=e.palette.mode==="light"?j:U,r=o.color||o.severity;return P({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},r&&o.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${r}Color`]:n(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:i(e.palette[r].light,.9),[`& .${K.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette.mode==="dark"?e.palette[r].main:e.palette[r].light}},r&&o.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${r}Color`]:n(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${K.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette.mode==="dark"?e.palette[r].main:e.palette[r].light}},r&&o.variant==="filled"&&P({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main)}))}),lt=R("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,o)=>o.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ct=R("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,o)=>o.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),J=R("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,o)=>o.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ee={success:t(tt,{fontSize:"inherit"}),warning:t(ot,{fontSize:"inherit"}),error:t(nt,{fontSize:"inherit"}),info:t(rt,{fontSize:"inherit"})},pt=a.exports.forwardRef(function(o,n){const i=we({props:o,name:"MuiAlert"}),{action:r,children:g,className:m,closeText:h="Close",color:u,icon:C,iconMapping:f=ee,onClose:p,role:d="alert",severity:l="success",variant:x="standard"}=i,S=Se(i,at),w=P({},i,{color:u,severity:l,variant:x}),M=st(w);return c(it,P({role:d,elevation:0,ownerState:w,className:Me(M.root,m),ref:n},S,{children:[C!==!1?t(lt,{ownerState:w,className:M.icon,children:C||f[l]||ee[l]}):null,t(ct,{ownerState:w,className:M.message,children:g}),r!=null?t(J,{ownerState:w,className:M.action,children:r}):null,r==null&&p?t(J,{ownerState:w,className:M.action,children:t(k,{size:"small","aria-label":h,title:h,color:"inherit",onClick:p,children:Q||(Q=t(Ke,{fontSize:"small"}))})}):null]}))}),dt=pt,ut=a.exports.createContext(void 0),mt=a.exports.createContext(void 0),gt=({children:e})=>{const o={},n=a.exports.useMemo(()=>({}),[]);return t(ut.Provider,{value:o,children:t(mt.Provider,{value:n,children:e})})},ht=e=>{const[o,n]=a.exports.useState(e),i=a.exports.useCallback(d=>{n(l=>[...l,...Array.isArray(d)?d:[d]])},[]),r=a.exports.useCallback(d=>n(l=>[...Array.isArray(d)?d:[d],...l]),[]),g=a.exports.useCallback(()=>n(d=>d.slice(0,-1)),[]),m=a.exports.useCallback(()=>n(d=>d.slice(1)),[]),h=a.exports.useCallback((d,l)=>n(x=>{const S=x.slice();return S.splice(l<0?S.length+l:l,0,S.splice(d,1)[0]),S}),[]),u=a.exports.useCallback(()=>n(()=>[]),[]),C=a.exports.useCallback(()=>n(e),[]),f=a.exports.useCallback(d=>n(l=>{const x=l.slice();return x.splice(d,1),x}),[]),p=a.exports.useMemo(()=>({setValue:n,add:i,unshift:r,push:i,move:h,clear:u,reset:C,removeIndex:f,pop:g,shift:m}),[i,r,h,u,C,f,g,m]);return[o,p]},le=a.exports.createContext(void 0),ce=a.exports.createContext(void 0),Ct=({children:e})=>{const[o,n]=a.exports.useState(null),i=Boolean(o),[r,g]=ht([]),[m,h]=a.exports.useState(),[u,C]=a.exports.useState(null),f=Boolean(u),[p,d]=a.exports.useState(!1),l={moreOptEl:o,openMoreOpt:i,campaigns:r,activeCampaign:m,bulkActionEl:u,openBulkAction:f,showNewCampaignFrom:p},x=a.exports.useMemo(()=>({setMoreOptEl:n,campaignActions:g,setActiveCampaign:h,setBulkActionEl:C,toggleNewCampaignFrom:d}),[]);return t(le.Provider,{value:l,children:t(ce.Provider,{value:x,children:e})})},z=()=>{const e=a.exports.useContext(le);if(e===void 0)throw Error("Item must be used inside of CampaignsProvider, otherwise it will not function correctly.");return e},T=()=>{const e=a.exports.useContext(ce);if(e===void 0)throw Error("Item must be used inside of CampaignsProvider, otherwise it will not function correctly.");return e},ft=({children:e})=>t(Ct,{children:t(gt,{children:t(Re,{children:e})})});class pe{}G(pe,"getCampaignsData",async()=>await ye("/campaigns","GET"));const xt={maxWidth:{md:380,xl:560}},vt={minHeight:46,"& .MuiTabScrollButton-root":{alignSelf:"center",borderRadius:4,height:32,width:32},"& .MuiTabs-indicator":{height:4}},de={"& .MuiPaper-root":{minWidth:140,"& .MuiList-root":{p:0,"& .MuiMenuItem-root":{color:"#12B0EE",justifyContent:"center",minHeight:40,fontSize:16,fontWeight:500,lineHeight:"19px","&:not(:last-of-type)":{borderBottom:1,borderBottomColor:"#0000000D"}}}}},ue={"&:not(:last-of-type)":{borderBottom:"1px solid #24272C1A"},"& .MuiListItemButton-root":{alignItems:"stretch",flexDirection:"column",py:1.5,rowGap:1,"&:hover, &.active":{bgcolor:"#EDFAFF"}},"& .above, & .below":{display:"flex",flexWrap:"wrap",gap:1.25,justifyContent:"space-between","& .above-start, & .below-start, & .above-end, & .below-end":{alignItems:"center",display:"flex",flexWrap:"wrap",gap:1.25}}},At={"&.MuiCollapse-hidden":{width:"0!important"},"&.MuiCollapse-entered":{width:"100%!important"},"& .MuiCollapse-wrapper, & .MuiCollapse-wrapperInner":{width:"100%"},"& .MuiCollapse-wrapperInner":{pr:1.75}},$={width:42,height:42},bt={width:42,height:42},wt=de,St=b("div")({backgroundColor:"#FFFFFF",borderRight:1,borderRightStyle:"solid",borderRightColor:"#0000000D",display:"flex",flexDirection:"column",width:"100%",transition:"max-width 0.2s ease-in-out"}),Mt=b("div")({borderBottom:1,borderBottomStyle:"solid",borderBottomColor:"#0000000D",display:"flex",alignItems:"center"}),kt=b(Xe)({flexGrow:1,minHeight:46,paddingLeft:14}),F=b(_e)({fontSize:16,fontWeight:500,lineHeight:"19px",minHeight:46,minWidth:"unset",paddingLeft:10,paddingRight:10,textTransform:"inherit"}),yt=b("div")({display:"flex",flexDirection:"column",flexGrow:1}),It=b("div")({display:"flex",flex:"0 1 0",paddingLeft:14}),Lt=b("div")({flex:"1 0 0",overflow:"auto"}),te=b(Ge)({padding:0,"& .MuiListItem-root":{"& > .MuiListItemButton-root":{paddingLeft:64,paddingRight:20},"& .MuiListItemSecondaryAction-root":{right:"unset",left:14}}}),Et=b("div")({backgroundColor:"#F7F8FA",flexGrow:1,display:"flex",position:"relative"}),Bt=b("div")({display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%","& .top":{alignItems:"center",display:"inline-flex",flexDirection:"column",marginTop:"80px",rowGap:"5px",textAlign:"center","& .info":{"& .heading":{color:"#24272C",fontSize:"20px",fontWeight:500,lineHeight:"42px"}},"& .MuiButton-root":{backgroundColor:"#12B0EE",borderRadius:"8px",boxShadow:"none",height:"42px"}},"& .bottom":{display:"flex",justifyContent:"flex-end","& .image":{marginRight:"36px",marginBottom:"20px"}}});var E=(e=>(e.ACTIVE="ACTIVE",e.PAUSED="PAUSED",e.COMPLETED="COMPLETED",e.INACTIVE="INACTIVE",e))(E||{});const Dt=({data:e,index:o,checked:n,doCheck:i})=>{const{activeCampaign:r}=z(),{setActiveCampaign:g}=T(),[m,h]=a.exports.useState(null),u=p=>{if(p===E.ACTIVE)return"#FFBA43";if(p===E.PAUSED)return"#EE9A9A";if(p===E.COMPLETED)return"#12B347";if(p===E.INACTIVE)return"#BEBEBE"},C=p=>{p.preventDefault(),h(m===null?{mouseX:p.clientX+2,mouseY:p.clientY-6}:null)},f=()=>{h(null)};return c(a.exports.Fragment,{children:[t(se,{secondaryAction:t(ie,{edge:"end",onChange:i(o),checked:n.indexOf(o)!==-1}),disablePadding:!0,sx:ue,children:c(Ue,{onClick:()=>g(r!==e.id?e.id:void 0),onContextMenu:C,className:r&&r===e.id?"active":"",children:[c(A,{className:"above",children:[t(A,{className:"above-start",children:t(B,{component:"span",sx:{fontSize:16,fontWeight:500,lineHeight:"13px"},children:e.name})}),t(A,{className:"above-end",children:t(je,{label:e.progress,size:"small",sx:{bgcolor:u(e.progress),alignItems:"center",color:"#FFFFFF",height:16,gap:.5,px:1,"& .MuiChip-label":{fontSize:9,fontWeight:900,lineHeight:1,px:0}}})})]}),t(A,{className:"below",children:c(A,{className:"below-start",children:[t(ae,{src:(e==null?void 0:e.type)==="API"?"/static/images/png/link-icon.png":"/static/images/png/calendar-icon.png",alt:(e==null?void 0:e.type)==="API"?"api":"ongoing",sx:{width:"auto"}}),t(B,{component:"span",sx:{color:"#24272CB3",fontSize:13,fontWeight:500,lineHeight:"12px"},children:(e==null?void 0:e.type)==="API"?e==null?void 0:e.type:Ie(e==null?void 0:e.schedule_date).format("Do MMM YY, h:mm A")})]})})]})}),t(V,{open:m!==null,onClose:f,onClick:f,anchorReference:"anchorPosition",anchorPosition:m!==null?{top:m.mouseY,left:m.mouseX}:void 0,children:t(D,{onClick:()=>{console.log("here")},children:"Delete"})})]})},Tt=()=>c(se,{secondaryAction:t(L,{variant:"rectangular",width:18,height:18}),disablePadding:!0,sx:{...ue,flexDirection:"column",rowGap:1,py:1.5,pl:8,pr:2.5,"& .MuiListItemSecondaryAction-root":{left:"26px !important"}},children:[c(A,{className:"above",width:"100%",children:[t(A,{className:"above-start",flexGrow:1,children:t(L,{variant:"rounded",width:100,height:13})}),t(A,{className:"above-end",children:t(L,{variant:"rounded",width:70,height:16,sx:{borderRadius:4}})})]}),t(A,{className:"below",width:"100%",children:t(A,{className:"below-start",flexGrow:1,children:t(L,{variant:"rounded",width:32,height:12})})})]}),Nt=()=>{const{showSnack:e}=Le(),{setHeaderContent:o}=Ee(),{campaigns:n}=z(),{campaignActions:i,setMoreOptEl:r,setBulkActionEl:g}=T(),[m,h]=Be(),u=m.get("tab"),[C,f]=a.exports.useState(!0),[p,d]=a.exports.useState(!1),[l,x]=a.exports.useState(u!=null?u:"all"),[S,w]=a.exports.useState(""),[M,X]=a.exports.useState(!1),[W,H]=a.exports.useState([]),_=a.exports.useRef(),N=a.exports.useDeferredValue(S),y=n.filter(s=>l==="all"?!0:l===(s==null?void 0:s.progress.toLowerCase())).filter(s=>s.name.toLowerCase().includes(N.toLowerCase())),me=(s,v)=>{x(v),h({tab:v})},ge=s=>{X(s.target.checked),s.target.checked?H(Array.from({length:y.length},(v,I)=>I)):H([])},he=s=>()=>{const v=W.indexOf(s),I=[...W];v===-1?I.push(s):I.splice(v,1),H(I),X(!1)},Ce=a.exports.useRef(async()=>{const s=await pe.getCampaignsData();if(!s.success)return f(!1),e(s.message,"error");i.setValue(s.payload),f(!1)});return a.exports.useEffect(()=>{Ce.current()},[]),a.exports.useEffect(()=>{u&&u!==l&&x(u)},[l,u]),a.exports.useEffect(()=>(o(c(A,{display:"flex",alignItems:"center",gap:.5,children:[t(B,{component:"span",sx:Ve,children:C?t(L,{variant:"text",width:144}):De(y.length,"Campaign")}),t(B,{component:"span",sx:Y,children:"/"}),c(B,{component:"span",sx:Y,children:[N!==""?`"${N}" in `:"",l]})]})),()=>{o(null)}),[C,l,N,y.length]),c(St,{sx:xt,children:[c(Mt,{children:[c(kt,{value:l,onChange:me,variant:"scrollable",orientation:"horizontal",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:vt,children:[t(F,{label:"All",value:"all"}),t(F,{label:"Active",value:"active"}),t(F,{label:"Paused",value:"paused"}),t(F,{label:"Completed",value:"completed"})]}),t(k,{onClick:s=>r(s.currentTarget),sx:bt,children:t(Ye,{})})]}),c(yt,{children:[c(It,{children:[t(ie,{checked:M,onChange:ge,inputProps:{"aria-label":"Check All"}}),t(Te,{in:p,orientation:"horizontal",sx:At,children:t(Ze,{placeholder:"Search Campaigns...",onChange:({currentTarget:{value:s}})=>w(s),InputProps:{disableUnderline:!1,startAdornment:p?t(Z,{position:"start",children:t(q,{})}):void 0,endAdornment:p?t(Z,{position:"end",children:t(k,{sx:$,onClick:()=>{w(""),d(!1)},children:t(Ne,{})})}):void 0,sx:{borderRadius:0,minHeight:42}},inputProps:{ref:_,disabled:!p},variant:"standard"})}),!p&&t(k,{sx:{...$,ml:"auto"},onClick:()=>{d(!0),setTimeout(()=>{var s;(s=_.current)==null||s.focus()},0)},children:t(q,{})}),!p&&t(k,{onClick:s=>g(s.currentTarget),sx:$,children:t(qe,{})})]}),t(Lt,{children:C?t(te,{children:Array(5).fill(void 0).map((s,v)=>t(Tt,{},v))}):y.length>0?t(te,{children:y.reverse().map((s,v)=>t(Dt,{data:s,index:v,doCheck:he,checked:W},v))}):t(dt,{variant:"filled",severity:"warning",sx:{mx:2.5},children:"0 campaigns found."})})]})]})},Ft=({open:e,anchorEl:o,doClose:n})=>{const{toggleNewCampaignFrom:i}=T();return c(V,{anchorEl:o,open:e,onClose:n,onClick:n,keepMounted:!1,MenuListProps:{"aria-labelledby":"Options"},anchorOrigin:ne,transformOrigin:re,sx:de,children:[t(D,{onClick:()=>i(!0),children:"New Campaign"}),t(D,{children:"Manage Tabs"})]})},Pt=({open:e,anchorEl:o,doClose:n})=>c(V,{anchorEl:o,open:e,onClose:n,onClick:n,keepMounted:!1,MenuListProps:{"aria-labelledby":"Bulk Actions"},anchorOrigin:ne,transformOrigin:re,sx:wt,children:[t(D,{children:"Action 1"}),t(D,{children:"Action 2"})]}),Ot=({open:e,closeDrawer:o})=>t(Qe,{anchor:"right",open:e,onClose:(n,i)=>!Fe(i)&&o(),sx:{zIndex:"modal"},children:t(ze,{sx:{width:{xs:"100vw",md:360}},children:c(We,{children:[t(k,{onClick:o,sx:{width:32,height:32},children:t(He,{})}),t($e,{children:"Create Campaign"})]})})}),Rt=()=>{const{moreOptEl:e,openMoreOpt:o,bulkActionEl:n,openBulkAction:i,showNewCampaignFrom:r}=z(),{setMoreOptEl:g,setBulkActionEl:m,toggleNewCampaignFrom:h}=T();return c(a.exports.Fragment,{children:[t(Nt,{}),t(Ft,{open:o,anchorEl:e,doClose:()=>g(null)}),t(Pt,{open:i,anchorEl:n,doClose:()=>m(null)}),t(Ot,{open:r,closeDrawer:()=>h(!1)})]})},zt=()=>{const{toggleNewCampaignFrom:e}=T();return c(Bt,{children:[c("div",{className:"top",children:[c("div",{className:"info",children:[t("h3",{className:"heading",children:"Click on a campaign to see details."}),t("h3",{className:"heading",children:"or"}),t("h3",{className:"heading",children:"Create a new campaign"})]}),t(Pe,{type:"button",variant:"contained",onClick:()=>e(!0),children:"New Campaign"})]}),t("div",{className:"bottom",children:t("div",{className:"image",children:t(ae,{src:"/static/images/svg/create-or-select.svg",alt:"Create or Select",sx:{width:201,height:"auto"}})})})]})},Wt=()=>t("div",{children:"Campaign Details will be here"}),Ht=()=>{const{activeCampaign:e}=z();return console.log(e),c(Et,{children:[!e&&t(zt,{}),e&&t(Wt,{})]})},fo=()=>c(ft,{children:[t(Oe,{children:t("title",{children:"Engage Campaigns"})}),t(Rt,{}),t(Ht,{})]});export{fo as default};

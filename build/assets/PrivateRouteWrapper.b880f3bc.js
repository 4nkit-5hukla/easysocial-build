import{r as t,j as o,O as c,N as l}from"./index.40731ccf.js";import{A as p}from"./AuthApi.da8276b2.js";import{a as f}from"./Global.df2e642b.js";import"./Axios.d864dcf9.js";import"./useEnhancedEffect.687c8d79.js";const k=()=>{const[r,e]=t.exports.useState(!0),{accessToken:i,isAuthenticated:s,doAuthenticate:n,businessId:g}=f(),u=t.exports.useRef(async()=>{if(localStorage.getItem("token")!==null&&!s){const a=await p.getAuth();a.errors||n(a.logged_in),e(!1)}else e(!1)});return t.exports.useEffect(()=>{u.current()},[i]),r?null:s?o(c,{}):o(l,{to:"/login"})};export{k as default};

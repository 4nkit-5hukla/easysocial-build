import{aj as O,u as W,ak as G,r as y,j as e,a as n,V as L,A as X,B as z,W as H,c6 as Q,I as U}from"./index.0c7937d1.js";import{u as M,F as d}from"./FormTextField.490654b3.js";import{g as k}from"./mui-tel-input.es.2b48c13e.js";import{P as g}from"./Auth.bb306ec0.js";import{F as E,G as B}from"./Grid.122346a7.js";import{F as i,a as _}from"./Form.45a8318b.js";import{b as j,F as S}from"./Style.8807be1a.js";import{C as q}from"./Card.c2b9d419.js";import{M as R}from"./MenuItem.11b6ef6e.js";import{I as Y}from"./InputAdornment.f824c32c.js";import{V as $}from"./Visibility.9168c639.js";import{V as J}from"./VisibilityOff.c82086c9.js";import{u as D,a as K,R as Z,A as ee}from"./AuthProvider.c150d06b.js";import{L as re}from"./Link.cb952a32.js";import"./TextField.5745f0da.js";import"./Select.be735c75.js";import"./useFormControl.763a4420.js";import"./isMuiElement.dd254e09.js";import"./Menu.15848a2c.js";import"./List.d7eed8e1.js";import"./useControlled.8beb15eb.js";import"./ListItemText.e275a68e.js";import"./listItemTextClasses.d7de1de1.js";import"./ArrowRight.d6e17dbc.js";import"./dividerClasses.66984175.js";import"./tslib.es6.61e9e735.js";const te="_37-t",se="QXWC",ne="ch5p",v={Form:te,SignupBtm:se,FormSelectField:ne,"MuiFilledInput-root":"ARHM","Mui-focused":"jjzt"},ae=({number:a})=>{const{setErrorMessage:o,setSuccessMessage:h}=O(),{setAccessToken:f,setUserId:V,navigate:u}=W(),{country:F,countryName:b}=W(),{countriesList:A}=G(),[p,I]=y.exports.useState(g.PASSWORD),{control:c,handleSubmit:x,watch:w,setValue:C}=M({defaultValues:{mobile_number:a,name:"",country:b!=null?b:"",email:"",password:"",confirm_password:""}}),{mobile_number:N,country:s}=w(),l=async r=>{const t=await X.Signup(r);if(!t.success)return o(t.messages?t.messages.errors[0].message:t.message);f(t.payload.token),V(t.payload.user_id),h(t.message),u("business-setup")},m=()=>{I(p===g.PASSWORD?g.TEXT:g.PASSWORD)};return e(q,{component:"form",onSubmit:x(l),className:v.Form,children:e(E,{children:n(B,{children:[e(i,{children:e(k,{label:"Mobile",placeholder:"Enter mobile no.",fullWidth:!0,defaultCountry:F,value:N,onChange:(r,t)=>{var T;C("mobile_number",(T=t.numberValue)!=null?T:r)},variant:"filled",sx:j})}),e(i,{children:e(d,{control:c,name:"name",label:"Name",placeholder:"Name",required:!0,sx:S})}),e(i,{children:e(d,{control:c,name:"email",label:"Email",placeholder:"Email",required:!0,sx:S})}),e(i,{children:n(d,{select:!0,control:c,label:"Country",name:"country",className:v.FormSelectField,required:!0,defaultValue:s!=null?s:"",children:[e(R,{value:"",disabled:!0,children:"Select Country"}),A.map((r,t)=>e(R,{value:r.name,children:r.name},t))]})}),e(i,{children:e(d,{control:c,name:"password",label:"Password",placeholder:"Password",type:p,required:!0,sx:S})}),e(i,{children:e(d,{control:c,name:"confirm_password",label:"Confirm Password",placeholder:"Confirm Password",type:p,required:!0,sx:S,InputProps:{endAdornment:e(Y,{position:"end",children:e(L,{onClick:m,children:p===g.PASSWORD?e($,{}):e(J,{})})})}})}),e(_,{type:"submit",children:"Register"})]})})})},oe=({setNumber:a})=>{const{setErrorMessage:o,setSuccessMessage:h}=O(),{country:f}=W(),{auth:V,isOTPSent:u}=D(),{sendOTP:F,otpVerification:b}=K(),{control:A,handleSubmit:p,watch:I,setValue:c}=M({defaultValues:{number:"",otp:""}}),{number:x}=I(),w=window,C=async s=>{const l=s.number,m=s.otp;if(!u){if(!l)return o("Enter mobile number");const r=await F(l);r.success?h(r.message):o(r.message)}if(u){if(!m)return o("Enter OTP");const r=await b(m);!r.success&&o(r.message),a(l)}},N=()=>{w.recaptchaVerifier=new Z("captcha-container",{size:"invisible",callback:async function(){const s=await F(x);w.confirmationResult=s},"expired-callback":function(){alert("try again!")}},V)};return y.exports.useEffect(()=>{N()},[]),n(q,{component:"form",onSubmit:p(C),className:v.Form,children:[e(E,{children:n(B,{children:[e(i,{children:e(k,{label:"Mobile",placeholder:"Enter mobile no.",fullWidth:!0,defaultCountry:f,value:x,onChange:(s,l)=>{var m;c("number",(m=l.numberValue)!=null?m:s)},variant:"filled",sx:j,inputProps:{required:!0}})}),u&&e(i,{children:e(d,{control:A,name:"otp",label:"otp",type:"number",placeholder:"otp",required:!0,sx:S})}),e(_,{type:"submit",id:"sign-in-button",children:u?"Verify":"Get OTP"})]})}),n(z,{className:v.SignupBtm,children:["Already have an account? ",e(re,{href:"/login",children:"Sign In"})]}),e("div",{id:"captcha-container"})]})},ie=()=>{const{otpVerified:a}=D(),[o,h]=y.exports.useState("");return n(y.exports.Fragment,{children:[!a&&e(oe,{setNumber:f=>h(f)}),a&&e(ae,{number:o})]})},ce="Cdk4",le="Y2Lj",me="x0BD",ue="NIxP",P={OuterWrapper:ce,InnerWrapper:le,ImgWrapper:me,RightWrapper:ue},_e=()=>{const{isTablet:a}=W();return n(y.exports.Fragment,{children:[e(H,{children:e("title",{children:"Signup"})}),e(Q,{children:e(ee,{children:e("div",{className:P.OuterWrapper,children:n("div",{className:P.InnerWrapper,children:[a&&e("div",{className:P.ImgWrapper,children:n("div",{style:{position:"fixed"},children:[n("h1",{children:["Sign up and unbox",e("br",{}),"a pandora of marketing tools."]}),e(U,{src:"static/images/svg/login.svg",alt:"Login Graphics"})]})}),e("div",{className:P.RightWrapper,children:e(ie,{})})]})})})})]})};export{_e as default};

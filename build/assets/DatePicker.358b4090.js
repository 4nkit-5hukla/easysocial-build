import{n as F,_ as p,g as te,s as g,T as ne,r as d,b as x,j as f,U as re,p as v,aN as ae,a as K,ad as se,H as M,aO as ce}from"./index.1be5a6ce.js";import{u as O,g as ie,x as A,z as pe,a as le,p as ue,b as de,P as me,W as Pe,A as B,y as _,K as fe,C as W,B as be,E as he}from"./PickersToolbarButton.011701d5.js";import{P as ke}from"./Popper.70ff53e7.js";import{G as Te}from"./Menu.30f701f6.js";const $=e=>e.length===1&&e[0]==="year",N=e=>e.length===2&&e.indexOf("month")!==-1&&e.indexOf("year")!==-1,De=(e,n)=>$(e)?{inputFormat:n.formats.year}:N(e)?{disableMaskedInput:!0,inputFormat:n.formats.monthAndYear}:{inputFormat:n.formats.keyboardDate};function j(e,n){var s;const o=O(),a=ie(),c=F({props:e,name:n}),r=(s=c.views)!=null?s:["year","day"];return p({openTo:"day",disableFuture:!1,disablePast:!1},De(r,o),c,{views:r,minDate:A(o,c.minDate,a.minDate),maxDate:A(o,c.maxDate,a.maxDate)})}const z={emptyValue:null,getTodayValue:e=>e.date(),parseInput:pe,areValuesEqual:(e,n,s)=>e.isEqual(n,s)},Ce=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],V=te("MuiDatePickerToolbar",["root","title"]),ye=g(le,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,n)=>n.root})({[`& .${ue.penIconButton}`]:{position:"relative",top:4}}),xe=g(ne,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,n)=>n.title})(({ownerState:e})=>p({},e.isLandscape&&{margin:"auto 16px auto auto"})),H=d.exports.forwardRef(function(n,s){const{parsedValue:o,isLandscape:a,isMobileKeyboardViewOpen:c,toggleMobileKeyboardView:r,toolbarFormat:m,toolbarPlaceholder:t="\u2013\u2013",toolbarTitle:l,views:P}=n,i=x(n,Ce),u=O(),b=de(),k=l!=null?l:b.datePickerDefaultToolbarTitle,h=d.exports.useMemo(()=>o?m?u.formatByString(o,m):$(P)?u.format(o,"year"):N(P)?u.format(o,"month"):/en/.test(u.getCurrentLocaleCode())?u.format(o,"normalDateWithWeekday"):u.format(o,"normalDate"):t,[o,m,t,u,P]),T=n;return f(ye,p({ref:s,toolbarTitle:k,isMobileKeyboardViewOpen:c,toggleMobileKeyboardView:r,isLandscape:a,ownerState:T,className:V.root},i,{children:f(xe,{variant:"h4",align:a?"left":"center",ownerState:T,className:V.title,children:h})}))}),Ee=["onClick","onTouchStart"],we=g(ke)(({theme:e})=>({zIndex:e.zIndex.modal})),Re=g(re)(({ownerState:e})=>p({transformOrigin:"top center",outline:0},e.placement==="top"&&{transformOrigin:"bottom center"}));function ge(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function Me(e,n){const s=d.exports.useRef(!1),o=d.exports.useRef(!1),a=d.exports.useRef(null),c=d.exports.useRef(!1);d.exports.useEffect(()=>{if(!e)return;function t(){c.current=!0}return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),c.current=!1}},[e]);const r=se(t=>{if(!c.current)return;const l=o.current;o.current=!1;const P=M(a.current);if(!a.current||"clientX"in t&&ge(t,P))return;if(s.current){s.current=!1;return}let i;t.composedPath?i=t.composedPath().indexOf(a.current)>-1:i=!P.documentElement.contains(t.target)||a.current.contains(t.target),!i&&!l&&n(t)}),m=()=>{o.current=!0};return d.exports.useEffect(()=>{if(e){const t=M(a.current),l=()=>{s.current=!0};return t.addEventListener("touchstart",r),t.addEventListener("touchmove",l),()=>{t.removeEventListener("touchstart",r),t.removeEventListener("touchmove",l)}}},[e,r]),d.exports.useEffect(()=>{if(e){const t=M(a.current);return t.addEventListener("click",r),()=>{t.removeEventListener("click",r),o.current=!1}}},[e,r]),[a,m,m]}const ve=e=>{var n;const{anchorEl:s,children:o,containerRef:a=null,onBlur:c,onClose:r,onClear:m,onAccept:t,onCancel:l,onSetToday:P,open:i,PopperProps:u,role:b,TransitionComponent:k=Te,TrapFocusProps:h,PaperProps:T={},components:E,componentsProps:w}=e;d.exports.useEffect(()=>{function D(R){i&&(R.key==="Escape"||R.key==="Esc")&&r()}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[r,i]);const C=d.exports.useRef(null);d.exports.useEffect(()=>{b!=="tooltip"&&(i?C.current=document.activeElement:C.current&&C.current instanceof HTMLElement&&setTimeout(()=>{C.current instanceof HTMLElement&&C.current.focus()}))},[i,b]);const[Y,Q,U]=Me(i,c!=null?c:r),q=d.exports.useRef(null),G=v(q,a),X=v(G,Y),L=e,{onClick:I,onTouchStart:S}=T,J=x(T,Ee),Z=D=>{D.key==="Escape"&&(D.stopPropagation(),r())},ee=(n=E==null?void 0:E.ActionBar)!=null?n:me,oe=(E==null?void 0:E.PaperContent)||d.exports.Fragment;return f(we,p({transition:!0,role:b,open:i,anchorEl:s,ownerState:L,onKeyDown:Z},u,{children:({TransitionProps:D,placement:R})=>f(ae,p({open:i,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},h,{children:f(k,p({},D,{children:f(Re,p({tabIndex:-1,elevation:8,ref:X,onClick:y=>{Q(y),I&&I(y)},onTouchStart:y=>{U(y),S&&S(y)},ownerState:p({},L,{placement:R})},J,{children:K(oe,p({},w==null?void 0:w.paperContent,{children:[o,f(ee,p({onAccept:t,onClear:m,onCancel:l,onSetToday:P,actions:[]},w==null?void 0:w.actionBar))]}))}))}))}))}))};function Le(e){const{children:n,DateInputProps:s,KeyboardDateInputComponent:o,onClear:a,onDismiss:c,onCancel:r,onAccept:m,onSetToday:t,open:l,PopperProps:P,PaperProps:i,TransitionComponent:u,components:b,componentsProps:k}=e,h=d.exports.useRef(null),T=v(s.inputRef,h);return K(Pe.Provider,{value:"desktop",children:[f(o,p({},s,{inputRef:T})),f(ve,{role:"dialog",open:l,anchorEl:h.current,TransitionComponent:u,PopperProps:P,PaperProps:i,onClose:c,onCancel:r,onClear:a,onAccept:m,onSetToday:t,components:b,componentsProps:k,children:n})]})}const Ie=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],Se=d.exports.forwardRef(function(n,s){const o=j(n,"MuiDesktopDatePicker"),a=B(o)!==null,{pickerProps:c,inputProps:r,wrapperProps:m}=_(o,z),{PopperProps:t,PaperProps:l,ToolbarComponent:P=H,TransitionComponent:i,components:u,componentsProps:b}=o,k=x(o,Ie),h=p({},r,k,{components:u,componentsProps:b,ref:s,validationError:a});return f(Le,p({},m,{DateInputProps:h,KeyboardDateInputComponent:fe,PopperProps:t,PaperProps:l,TransitionComponent:i,components:u,componentsProps:b,children:f(W,p({},c,{autoFocus:!0,toolbarTitle:o.label||o.toolbarTitle,ToolbarComponent:P,DateInputProps:h,components:u,componentsProps:b},k))}))}),Ae=["ToolbarComponent","value","onChange","components","componentsProps"],Ve=d.exports.forwardRef(function(n,s){const o=j(n,"MuiMobileDatePicker"),a=B(o)!==null,{pickerProps:c,inputProps:r,wrapperProps:m}=_(o,z),{ToolbarComponent:t=H,components:l,componentsProps:P}=o,i=x(o,Ae),u=p({},r,i,{components:l,componentsProps:P,ref:s,validationError:a});return f(be,p({},i,m,{DateInputProps:u,PureDateInputComponent:he,components:l,componentsProps:P,children:f(W,p({},c,{autoFocus:!0,toolbarTitle:o.label||o.toolbarTitle,ToolbarComponent:t,DateInputProps:u,components:l,componentsProps:P},i))}))}),Fe=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],We=d.exports.forwardRef(function(n,s){const o=F({props:n,name:"MuiDatePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)",DialogProps:c,PopperProps:r,TransitionComponent:m}=o,t=x(o,Fe);return ce(a,{defaultMatches:!0})?f(Se,p({ref:s,PopperProps:r,TransitionComponent:m},t)):f(Ve,p({ref:s,DialogProps:c},t))});export{We as D};

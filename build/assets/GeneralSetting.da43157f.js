import{r as t,ah as c,u as C,ai as v,a,j as e,$ as z,L as M,aj as d,W as I}from"./index.0fc63d4e.js";import{u as V}from"./index.esm.614544dc.js";import{S as p}from"./SettingsApi.14906ed5.js";import{L as B}from"./LeftArrow.6537b7c2.js";import{c as D,H as P,d as T,e as j}from"./Wrappers.1ebcf3af.js";import{C as h}from"./Card.7dabd84d.js";import{A as k,a as F}from"./Form.b9fdde4d.js";import{p as g}from"./Position.module.ff7b7fa6.js";import"./Card.8962761a.js";import"./CardContent.b2f0281d.js";import"./ArrowRight.2c02d15e.js";const N=t.exports.lazy(()=>c(()=>import("./BusinessDetails.476165d8.js"),["assets/BusinessDetails.476165d8.js","assets/mui-tel-input.es.48583808.js","assets/index.0fc63d4e.js","assets/index.159876a6.css","assets/ListItemIcon.5dad063c.js","assets/listItemTextClasses.69e23c5a.js","assets/List.d46fa225.js","assets/ListItemText.81c0cd5e.js","assets/TextField.dfa21b7c.js","assets/Select.7c32bfe7.js","assets/useFormControl.777b9f12.js","assets/isMuiElement.eba0df62.js","assets/Menu.e1eaa76e.js","assets/useControlled.8b48121e.js","assets/InputAdornment.f981dc0b.js","assets/MenuItem.1da1e3f8.js","assets/dividerClasses.e6a19444.js","assets/FormTextField.b738d457.js","assets/index.esm.614544dc.js","assets/FileUpload.bbdb7773.js","assets/FileType.118a3b25.js","assets/AssetsApi.e28a9f11.js","assets/index.e8946a78.js","assets/tslib.es6.61e9e735.js","assets/FileUpload.a55168fb.css","assets/Tags.10a34bb4.js","assets/withStyles.54d4ccd0.js","assets/ListItem.6d0b39ca.js","assets/listItemButtonClasses.9bb2654b.js","assets/styled.9b77f846.js","assets/Grid.c09f2429.js","assets/Grid.6523dca6.css","assets/Form.b9fdde4d.js","assets/ArrowRight.2c02d15e.js","assets/Form.83ea0429.css","assets/Card.7dabd84d.js","assets/Card.8962761a.js","assets/CardContent.b2f0281d.js","assets/Card.0c204cfb.css","assets/Style.57c2f24e.js"])),R=t.exports.lazy(()=>c(()=>import("./BusinessAddress.5d8985f2.js"),["assets/BusinessAddress.5d8985f2.js","assets/index.0fc63d4e.js","assets/index.159876a6.css","assets/SettingsApi.14906ed5.js","assets/FormTextField.b738d457.js","assets/index.esm.614544dc.js","assets/TextField.dfa21b7c.js","assets/Select.7c32bfe7.js","assets/useFormControl.777b9f12.js","assets/isMuiElement.eba0df62.js","assets/Menu.e1eaa76e.js","assets/List.d46fa225.js","assets/useControlled.8b48121e.js","assets/Tags.10a34bb4.js","assets/withStyles.54d4ccd0.js","assets/MenuItem.1da1e3f8.js","assets/listItemTextClasses.69e23c5a.js","assets/dividerClasses.e6a19444.js","assets/ListItem.6d0b39ca.js","assets/listItemButtonClasses.9bb2654b.js","assets/styled.9b77f846.js","assets/Grid.c09f2429.js","assets/Grid.6523dca6.css","assets/Form.b9fdde4d.js","assets/ArrowRight.2c02d15e.js","assets/Form.83ea0429.css","assets/Card.7dabd84d.js","assets/Card.8962761a.js","assets/CardContent.b2f0281d.js","assets/Card.0c204cfb.css","assets/Style.57c2f24e.js"])),H=t.exports.lazy(()=>c(()=>import("./BusinessLocation.156c365a.js"),["assets/BusinessLocation.156c365a.js","assets/index.0fc63d4e.js","assets/index.159876a6.css","assets/FormTextField.b738d457.js","assets/index.esm.614544dc.js","assets/TextField.dfa21b7c.js","assets/Select.7c32bfe7.js","assets/useFormControl.777b9f12.js","assets/isMuiElement.eba0df62.js","assets/Menu.e1eaa76e.js","assets/List.d46fa225.js","assets/useControlled.8b48121e.js","assets/Tags.10a34bb4.js","assets/withStyles.54d4ccd0.js","assets/MenuItem.1da1e3f8.js","assets/listItemTextClasses.69e23c5a.js","assets/dividerClasses.e6a19444.js","assets/ListItem.6d0b39ca.js","assets/listItemButtonClasses.9bb2654b.js","assets/styled.9b77f846.js","assets/Grid.c09f2429.js","assets/Grid.6523dca6.css","assets/Form.b9fdde4d.js","assets/ArrowRight.2c02d15e.js","assets/Form.83ea0429.css","assets/Styles.3864ecd6.js","assets/Styles.ab1c376b.js","assets/Card.8962761a.js","assets/CardContent.b2f0281d.js"])),O=()=>{const{isMobile:b}=C(),{setErrorMessage:l,setSuccessMessage:f}=v(),[_,S]=t.exports.useState(!0),[x,w]=t.exports.useState(Math.random()),{control:n,handleSubmit:y,watch:o,reset:A,setValue:m}=V({defaultValues:{business_name:"",mobile_number:"",industry:"",website:"",logo:"",address:"",city:"",state:"",country:"",pin_code:"",latitude:20.5937,longitude:78.9629,timezone:{label:"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:5.5}}}),{timezone:u}=o(),E=async s=>{try{const{id:i,mobile_number:G}=s,r=await p.putGeneralSettings(i,{...s,number:G,timezoneLabel:u.label,timezoneValue:u.value});if(r.errors)throw Error(r.errors.pop().message);if(!r.success&&r.message)throw Error(r.message);f(r.message),w(Math.random())}catch(i){l(i.message)}},L=t.exports.useRef(async()=>{try{const s=await p.getGeneralSettings();if(s.errors)throw Error(s.errors.pop().message);if(!s.success)throw Error(s.message);A(s.payload),S(!1)}catch(s){l(s.message)}});return t.exports.useEffect(()=>{L.current()},[x]),a(t.exports.Fragment,{children:[b&&a(D,{children:[e(z,{component:M,to:"/business-settings",className:"icon-md-button",children:e(B,{})}),e(P,{children:"General Settings"})]}),_?e(h,{className:g.AbsCenter,children:e(d,{height:72,width:72})}):e(t.exports.Suspense,{fallback:e(h,{className:g.AbsCenter,children:e(d,{height:72,width:72})}),children:e(T,{children:a(j,{onSubmit:y(E),children:[e(N,{control:n,watch:o,setValue:m}),e(R,{control:n,watch:o}),e(H,{control:n,watch:o,setValue:m}),e(k,{children:e(F,{type:"submit",children:"Save"})})]})})})]})},se=()=>a(t.exports.Fragment,{children:[e(I,{children:e("title",{children:"General Settings"})}),e(O,{})]});export{se as default};

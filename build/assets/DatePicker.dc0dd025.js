import{p as g,i,m as K,l as O,n as v,T as ae,r as u,_ as M,j as k,w as B,Y as ce,f as I,aR as ie,a as W,ad as pe,F as L,aS as le}from"./index.dca5aa37.js";import{u as $,a as ue,p as _,b as de,P as Pe,c as me,d as fe,e as ke,W as be,f as U,g as N,K as he,C as Y}from"./PickersToolbarButton.8df45bf3.js";import{P as De}from"./Popper.da2f70f9.js";import{G as Te}from"./Menu.ce4a731a.js";import{M as Ce,P as ye}from"./PureDateInput.212300b0.js";const j=e=>e.length===1&&e[0]==="year",z=e=>e.length===2&&e.indexOf("month")!==-1&&e.indexOf("year")!==-1,xe=(e,o)=>j(e)?{inputFormat:o.formats.year}:z(e)?{disableMaskedInput:!0,inputFormat:o.formats.monthAndYear}:{inputFormat:o.formats.keyboardDate};function H(e,o){var s;const r=$(),n=ue(),c=g({props:e,name:o}),a=(s=c.views)!=null?s:["year","day"];return i({openTo:"day",disableFuture:!1,disablePast:!1},xe(a,r),c,{views:a,minDate:_(r,c.minDate,n.minDate),maxDate:_(r,c.maxDate,n.maxDate)})}const Q={emptyValue:null,getTodayValue:e=>e.date(),parseInput:de,areValuesEqual:(e,o,s)=>e.isEqual(o,s)};function Me(e){return K("MuiDatePickerToolbar",e)}O("MuiDatePickerToolbar",["root","title"]);const Re=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],Ee=e=>{const{classes:o}=e;return B({root:["root"],title:["title"]},Me,o)},we=v(Pe,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,o)=>o.root})({[`& .${me.penIconButton}`]:{position:"relative",top:4}}),ge=v(ae,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,o)=>o.title})(({ownerState:e})=>i({},e.isLandscape&&{margin:"auto 16px auto auto"})),q=u.exports.forwardRef(function(o,s){const r=g({props:o,name:"MuiDatePickerToolbar"}),{parsedValue:n,isLandscape:c,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:d,toolbarFormat:t,toolbarPlaceholder:p="\u2013\u2013",toolbarTitle:m,views:P}=r,l=M(r,Re),f=$(),b=fe(),h=Ee(r),C=m!=null?m:b.datePickerDefaultToolbarTitle,R=u.exports.useMemo(()=>n?t?f.formatByString(n,t):j(P)?f.format(n,"year"):z(P)?f.format(n,"month"):/en/.test(f.getCurrentLocaleCode())?f.format(n,"normalDateWithWeekday"):f.format(n,"normalDate"):p,[n,t,p,f,P]),D=r;return k(we,i({ref:s,toolbarTitle:C,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:d,isLandscape:c,ownerState:D,className:h.root},l,{children:k(ge,{variant:"h4",align:c?"left":"center",ownerState:D,className:h.title,children:R})}))});function ve(e){return K("MuiPickersPopper",e)}O("MuiPickersPopper",["root","paper"]);const Le=["onClick","onTouchStart"],Ie=e=>{const{classes:o}=e;return B({root:["root"],paper:["paper"]},ve,o)},Se=v(De,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({zIndex:e.zIndex.modal})),Fe=v(ce,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,o)=>o.paper})(({ownerState:e})=>i({transformOrigin:"top center",outline:0},e.placement==="top"&&{transformOrigin:"bottom center"}));function Ve(e,o){return o.documentElement.clientWidth<e.clientX||o.documentElement.clientHeight<e.clientY}function Ae(e,o){const s=u.exports.useRef(!1),r=u.exports.useRef(!1),n=u.exports.useRef(null),c=u.exports.useRef(!1);u.exports.useEffect(()=>{if(!e)return;function t(){c.current=!0}return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),c.current=!1}},[e]);const a=pe(t=>{if(!c.current)return;const p=r.current;r.current=!1;const m=L(n.current);if(!n.current||"clientX"in t&&Ve(t,m))return;if(s.current){s.current=!1;return}let P;t.composedPath?P=t.composedPath().indexOf(n.current)>-1:P=!m.documentElement.contains(t.target)||n.current.contains(t.target),!P&&!p&&o(t)}),d=()=>{r.current=!0};return u.exports.useEffect(()=>{if(e){const t=L(n.current),p=()=>{s.current=!0};return t.addEventListener("touchstart",a),t.addEventListener("touchmove",p),()=>{t.removeEventListener("touchstart",a),t.removeEventListener("touchmove",p)}}},[e,a]),u.exports.useEffect(()=>{if(e){const t=L(n.current);return t.addEventListener("click",a),()=>{t.removeEventListener("click",a),r.current=!1}}},[e,a]),[n,d,d]}function _e(e){var o;const s=g({props:e,name:"MuiPickersPopper"}),{anchorEl:r,children:n,containerRef:c=null,onBlur:a,onClose:d,onClear:t,onAccept:p,onCancel:m,onSetToday:P,open:l,PopperProps:f,role:b,TransitionComponent:h=Te,TrapFocusProps:C,PaperProps:R={},components:D,componentsProps:E}=s;u.exports.useEffect(()=>{function T(w){l&&(w.key==="Escape"||w.key==="Esc")&&d()}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[d,l]);const y=u.exports.useRef(null);u.exports.useEffect(()=>{b!=="tooltip"&&(l?y.current=document.activeElement:y.current&&y.current instanceof HTMLElement&&setTimeout(()=>{y.current instanceof HTMLElement&&y.current.focus()}))},[l,b]);const[G,X,J]=Ae(l,a!=null?a:d),Z=u.exports.useRef(null),ee=I(Z,c),oe=I(ee,G),S=s,F=Ie(S),{onClick:V,onTouchStart:A}=R,te=M(R,Le),re=T=>{T.key==="Escape"&&(T.stopPropagation(),d())},ne=(o=D==null?void 0:D.ActionBar)!=null?o:ke,se=(D==null?void 0:D.PaperContent)||u.exports.Fragment;return k(Se,i({transition:!0,role:b,open:l,anchorEl:r,onKeyDown:re,className:F.root},f,{children:({TransitionProps:T,placement:w})=>k(ie,i({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},C,{children:k(h,i({},T,{children:k(Fe,i({tabIndex:-1,elevation:8,ref:oe,onClick:x=>{X(x),V&&V(x)},onTouchStart:x=>{J(x),A&&A(x)},ownerState:i({},S,{placement:w}),className:F.paper},te,{children:W(se,i({},E==null?void 0:E.paperContent,{children:[n,k(ne,i({onAccept:p,onClear:t,onCancel:m,onSetToday:P,actions:[]},E==null?void 0:E.actionBar))]}))}))}))}))}))}function Ke(e){const{children:o,DateInputProps:s,KeyboardDateInputComponent:r,onClear:n,onDismiss:c,onCancel:a,onAccept:d,onSetToday:t,open:p,PopperProps:m,PaperProps:P,TransitionComponent:l,components:f,componentsProps:b}=e,h=u.exports.useRef(null),C=I(s.inputRef,h);return W(be.Provider,{value:"desktop",children:[k(r,i({},s,{inputRef:C})),k(_e,{role:"dialog",open:p,anchorEl:h.current,TransitionComponent:l,PopperProps:m,PaperProps:P,onClose:c,onCancel:a,onClear:n,onAccept:d,onSetToday:t,components:f,componentsProps:b,children:o})]})}const Oe=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],Be=u.exports.forwardRef(function(o,s){const r=H(o,"MuiDesktopDatePicker"),n=U(r)!==null,{pickerProps:c,inputProps:a,wrapperProps:d}=N(r,Q),{PopperProps:t,PaperProps:p,ToolbarComponent:m=q,TransitionComponent:P,components:l,componentsProps:f}=r,b=M(r,Oe),h=i({},a,b,{components:l,componentsProps:f,ref:s,validationError:n});return k(Ke,i({},d,{DateInputProps:h,KeyboardDateInputComponent:he,PopperProps:t,PaperProps:p,TransitionComponent:P,components:l,componentsProps:f,children:k(Y,i({},c,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:m,DateInputProps:h,components:l,componentsProps:f},b))}))}),We=["ToolbarComponent","value","onChange","components","componentsProps"],$e=u.exports.forwardRef(function(o,s){const r=H(o,"MuiMobileDatePicker"),n=U(r)!==null,{pickerProps:c,inputProps:a,wrapperProps:d}=N(r,Q),{ToolbarComponent:t=q,components:p,componentsProps:m}=r,P=M(r,We),l=i({},a,P,{components:p,componentsProps:m,ref:s,validationError:n});return k(Ce,i({},P,d,{DateInputProps:l,PureDateInputComponent:ye,components:p,componentsProps:m,children:k(Y,i({},c,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:t,DateInputProps:l,components:p,componentsProps:m},P))}))}),Ue=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],Qe=u.exports.forwardRef(function(o,s){const r=g({props:o,name:"MuiDatePicker"}),{desktopModeMediaQuery:n="@media (pointer: fine)",DialogProps:c,PopperProps:a,TransitionComponent:d}=r,t=M(r,Ue);return le(n,{defaultMatches:!0})?k(Be,i({ref:s,PopperProps:a,TransitionComponent:d},t)):k($e,i({ref:s,DialogProps:c},t))});export{Qe as D};

import{u as Z,$,aE as O,aF as J,aG as K,r as n,aH as f,a as t,j as e,W as A,aq as Q,a0 as Y,L as B,aI as W,T as ee,Z as se}from"./index.b186592b.js";import{u as te,F as l}from"./FormTextField.3f61f07e.js";import{F as ae,s as ie}from"./FormFileField.3192aedc.js";import{H as y,A as re,a as v}from"./CommonComponents.ab047aaf.js";import{A as oe,H as L}from"./Styles.5fa2ae96.js";import{L as ne}from"./LeftArrow.b5872852.js";import{L as le}from"./LinkPlatForm.808d5195.js";import{d as ce,a as g,F as X}from"./Style.5ae38974.js";import{n as de,H as me,o as he,p as pe,q as ue,r as fe,s as ge,l as xe,m as be,C as Se,F as d,t as E,G as m,u as c,v as Ce,w as Fe,x as we,y as Ae,z as Be,A as We,D as ye}from"./Tags.f9f8608f.js";import{C as x}from"./Card.f9953836.js";import{C as ve}from"./CardContent.fa9b6571.js";import{M as H}from"./MenuItem.46f15d95.js";import"./TextField.7cfd5f8b.js";import"./Select.9835b57c.js";import"./isMuiElement.9a08466c.js";import"./Menu.a1c4ed55.js";import"./List.1f5dafa3.js";import"./useControlled.ec723b61.js";import"./ArrowRight.e7fea676.js";import"./withStyles.e8acb61c.js";import"./ListItem.40de5bfa.js";import"./listItemButtonClasses.0f0ff00e.js";import"./listItemTextClasses.846cbc39.js";const Le=()=>{const{isMobile:I,isTablet:P,navigate:V}=Z(),{setErrorMessage:h,setSuccessMessage:k}=$(),{allowedVerticals:M,chatbotNumber:p}=O(),{platformExist:i}=J(),{setChatBotNumber:R}=K(),[T,b]=n.exports.useState(!0),[_,U]=n.exports.useState("Submit"),{control:o,handleSubmit:j,watch:D,reset:S,setValue:C}=te({defaultValues:{address:"",description:"",email:"",file:void 0,profile_picture_url:"",websites:[],messaging_product:"",vertical:""}}),G=D(),{profile_picture_url:z,vertical:u}=G,q=({target:{files:s}})=>{if(s&&s.length>0){const[a]=s;C("file",a),C("profile_picture_url",URL.createObjectURL(a))}},N=async s=>{try{const a=ie.serialize(s),r=await f.saveWAProfile(a);if(r.errors)throw Error(r.errors.pop().message);if(!r.success&&r.message)throw Error(r.message);k(r.message),V(0)}catch(a){h(a.message)}},F=n.exports.useCallback(async()=>{try{if(typeof i=="boolean"&&i){const s=await f.getWAProfile();if(!s.success)throw Error(s.message);U("Update Business Information"),S(s.payload)}}catch(s){h(s.message)}finally{b(!1)}},[i,S]),w=n.exports.useCallback(async()=>{try{if(typeof i=="boolean"&&i&&p===void 0){const s=await f.getWAChatBots();if(!s.success)throw Error(s.message);const[a]=s.payload;a&&R(a.id)}}catch(s){h(s.message)}finally{b(!1)}},[i]);return n.exports.useEffect(()=>{w()},[w]),n.exports.useEffect(()=>{F()},[F]),T?t(x,{elevation:0,sx:oe,children:[e(A,{children:e("title",{children:"Loading..."})}),e(Q,{height:72,width:72})]}):t(n.exports.Fragment,{children:[e(A,{children:e("title",{children:"WhatsApp Profile"})}),I&&t(de,{children:[e(Y,{component:B,to:"/business-settings",sx:{width:32,height:32},children:e(ne,{})}),e(me,{children:"WhatsApp Profile"})]}),e(he,{children:typeof i=="boolean"&&i===!1?e(pe,{sx:ue,children:e(le,{})}):t(fe,{onSubmit:j(N),sx:ge,children:[e(x,{elevation:0,sx:xe,children:t(ve,{sx:be,children:[e(Se,{children:"Business Information"}),t(d,{sx:E,children:[e(m,{children:e(c,{sx:{mb:0,height:"100%"},children:e(l,{control:o,name:"description",label:"Business Description",rows:5,sx:ce,multiline:!0})})}),e(Ce,{children:e(ae,{control:o,name:"file",defaultValue:z,onChange:q,previewAlt:"Profile Image",label:"Upload Profile Image"})})]}),e(d,{sx:{...E,mt:3.75},children:e(m,{children:e(c,{children:t(l,{select:!0,control:o,label:"Business Vertical",name:"vertical",sx:g,defaultValue:u!=null?u:"",children:[e(H,{value:"",disabled:!0,children:"Select Vertical"}),M.map(({label:s,value:a},r)=>e(H,{value:a,children:s},r))]})})})}),e(d,{children:e(m,{children:e(c,{children:e(l,{control:o,label:"Business Address",name:"address",sx:g})})})}),e(d,{children:e(m,{children:e(c,{children:e(l,{control:o,label:"Email",name:"email",sx:g})})})}),t(d,{sx:Fe,children:[e(y,{sx:L,children:e(c,{children:e(l,{control:o,name:"websites[0]",label:"Website 1",placeholder:"Website 1",sx:X})})}),e(y,{sx:L,children:e(c,{children:e(l,{control:o,name:"websites[1]",label:"Website 2",placeholder:"Website 2",sx:X})})})]}),e(re,{children:e(v,{type:"submit",children:_})})]})}),p&&t(x,{elevation:0,sx:we,children:[e(W,{component:"img",image:"/static/images/svg/bot.svg",alt:"bot",sx:{display:"flex",flexShrink:1,height:"auto",maxWidth:196,width:{xs:194,md:"calc(100% - 200px)"}}}),t(Ae,{sx:{maxWidth:420},children:[t(ee,{component:"h3",sx:{color:"#FFFFFF",fontSize:14,fontWeight:400,lineHeight:"18px"},children:["Start building your WhatsApp Chatbot in seconds. Use the advanced ",e("strong",{children:"Chatflow"})," tool by EasySocial, and build complex conversations in a jiffy."]}),t(Be,{sx:We,children:[t(v,{component:B,to:`/chat-flow/${p}`,sx:ye,disableIcon:!0,children:[e("span",{children:"Build Chatbot"}),e(se,{viewBox:"0 0 14 10",fill:"none",sx:{width:14,height:10},children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3692 4.19223L8.28352 1.00205L9.25275 0L14 4.90798L9.43077 10L8.46154 8.99796L11.3692 5.62372H0V4.19223H11.3692Z",fill:"#12B0EE"})})]}),P&&e(W,{component:"img",image:"/static/images/svg/messages.svg",alt:"messages",sx:{width:"auto"}})]})]})]})]})})]})},Qe=()=>e(Le,{});export{Qe as default};

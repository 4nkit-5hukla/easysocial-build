import{a as c,j as e,X as P,q as y,I as S,r as w,ao as C,B as R}from"./index.6d7cebbf.js";import{I as D,u as N,F as B,a as j,A,b as I}from"./index.715a0049.js";const k="_File_Added_8oy84_1",E="_PreFile_8oy84_10",F={File_Added:k,PreFile:E,"input-text":"_input-text_8oy84_15"},O={display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:"20px",height:"100%",width:"100%",cursor:"pointer",textAlign:"center",borderRadius:"8px",borderColor:"#B8BAC2",borderStyle:"dashed",backgroundColor:" #F2F3F7",color:"#000000",opacity:"0.5",outline:"none",transition:"border .24s ease-in-out",boxSizing:"border-box"},z={borderColor:"#2196f3"},G={borderColor:"#00e676"},Z={borderColor:"#ff1744"},M="_Upload_Overlay_svx5g_1",U="_image_preview_svx5g_26",H="_File_Preview_svx5g_33",K="_RemoveButton_svx5g_58",r={Upload_Overlay:M,image_preview:U,File_Preview:H,RemoveButton:K},T=({removeFile:t,fileUrl:o})=>c("div",{className:"d-flex justify-content-center",children:[e("div",{className:r.Upload_Overlay,children:e(P,{className:y("mt-1",r.RemoveButton),onClick:t,children:"Remove"})}),e(S,{src:o,alt:"preview"})]}),X=({removeFile:t,fileUrl:o})=>c("div",{className:"d-flex justify-content-center",children:[e("div",{className:r.Upload_Overlay,children:e(P,{className:y("mt-1",r.RemoveButton),onClick:t,children:"Remove"})}),e("video",{className:y(r.image_preview,"w-100"),src:o,controls:!0,autoPlay:!0,muted:!0,loop:!0})]}),q=({fileUrl:t,removeFile:o,fileName:n})=>e("div",{className:"d-flex justify-content-center",style:{height:"100%"},children:c("div",{className:r.File_Preview,children:[c("div",{className:"d-flex align-items-center",children:[e(D,{fontSize:"large"})," ",e("p",{children:n!==""?n:t==null?void 0:t.split("/").pop()})]}),e(P,{className:y("mt-1",r.RemoveButton),onClick:o,children:"Remove"})]})}),b={image:{label:"PNG / JPG",value:{"image/*":[]},component:({removeFile:t,fileUrl:o})=>e(T,{removeFile:t,fileUrl:o})},video:{label:"MP4 / 3GP / 4K",value:{"video/*":[]},component:({removeFile:t,fileUrl:o})=>e(X,{removeFile:t,fileUrl:o})},file:{label:"DOC / XLS / PDF / ZIP",value:{"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.ms-powerpoint":[".ppt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"application/vnd.ms-excel":[],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/plain":[],"application/pdf":[],"application/x-zip-compressed":[]},component:({fileUrl:t,removeFile:o,fileName:n})=>e(q,{fileUrl:t,removeFile:o,fileName:n})}},J=({onChange:t,fileType:o,removeFile:n,fileUrl:x,fileName:l,label:d})=>{var g;const{getRootProps:p,getInputProps:m,isDragActive:i,isDragAccept:v,isDragReject:_,open:f}=N({maxFiles:1,maxSize:9e6,accept:b[o].value,noClick:!0,noKeyboard:!0,onDrop:t}),h=w.exports.useMemo(()=>({...O,...i?z:{},...v?G:{},..._?Z:{}}),[i,v,_]);return e(w.exports.Fragment,{children:x===""?e("div",{className:F.PreFile,onClick:f,children:c("div",{...p({style:h}),children:[e("input",{...m()}),c("div",{className:F["input-text"],children:[e("h1",{children:d}),e("p",{children:(g=b[o])==null?void 0:g.label})]})]})}):e("div",{className:F.File_Added,children:b[o].component({removeFile:n,fileUrl:x,fileName:l})})})},Y=({control:t,fileTypes:o=B.IMAGE,setValue:n,label:x="Upload Image",defaultFieldName:l,fileURL:d,fileNameField:p,width:m,height:i})=>{const{setErrorMessage:v}=C(),[_,f]=w.exports.useState(""),h=async(s,$,L)=>{try{if(s.length>0){const a=new FormData;a.append("file",s[0]),a.append("max_size","10000"),a.append("allowed_ext",j[o]);const u=await A.fileUpload(I.ENGAGE_ASSETS,a);if(!u.success)throw Error(u.message);f(u.payload.file_name),n(l,u.payload.url),p&&p!==""&&n(p,u.payload.file_name)}}catch(a){console.error(a),v(a.message)}},g=async()=>{try{if(d!==""){const s=await A.fileRemoveByURL(d);if(!s.success)throw Error(s.message);n(l,"")}}catch(s){n(l,""),console.error(s),v(s.message)}};return e(R,{sx:{transition:"all 0.2s ease-in-out",width:{xs:m!=null?m:157,lg:180,xl:200},height:{xs:i!=null?i:157,lg:180,xl:200},margin:"auto"},children:e(J,{label:x,fileType:o,removeFile:g,fileUrl:d,fileName:_,onChange:h})})};export{Y as F};

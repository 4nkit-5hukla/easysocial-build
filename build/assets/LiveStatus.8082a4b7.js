import{u as C,Z as S,r,j as e,a as t,a6 as n,B as u}from"./index.be83498f.js";import{C as R,g as W,h as E}from"./Card.6b3a2e58.js";import{c as T,d as h,e as k}from"./WhatsApp.0df87c02.js";import{W as M}from"./WAUsageApi.1648d19a.js";import"./Card.095d38fe.js";import"./CardContent.52d68517.js";const p=i=>({boxShadow:`0px 1px 20px ${i!=="#0000001c"?"#12b0ee26":"#00000026"}`,"&::before":{borderLeft:`8px solid ${i}`}}),G="SJrc",y="Lg3W",H="_-1r4",Z="xuBJ",A="pf-r",Y="vOEs",s={StatusBlocks:G,StatusBlock:y,BlockTitle:H,BlockLabelWrap:Z,BlockLabel:A,FooterNote:Y},$=({loadingStatus:i})=>{const{isTablet:L}=C(),{setErrorMessage:m}=S(),[a,w]=r.exports.useState(),[l,B]=r.exports.useState(),[o,d]=r.exports.useState(),v=()=>a?t("div",{className:s.BlockLabelWrap,children:[t("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"//www.w3.org/2000/svg",children:[e("circle",{cx:"5.5",cy:"5.5",r:.5+a.size,fill:a.statusColor}),e("circle",{cx:"5.5",cy:"5.5",r:"5",stroke:"#B9B9B9"})]}),e("span",{className:s.BlockLabel,children:a.name})]}):e("div",{className:s.BlockLabelWrap,children:e(n,{width:58})}),x=()=>o?t("div",{className:s.BlockLabelWrap,children:[o.health==="GREEN"&&e("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"//www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0134 3.10551L4.11073 11.2663L0.767578 6.44966L3.2321 4.73908L4.61622 6.73324L10.9863 0.894043L13.0134 3.10551Z",fill:o.statusColor})}),e("span",{className:s.BlockLabel,children:o.status})]}):e("div",{className:s.BlockLabelWrap,children:e(n,{width:55})}),b=()=>l?t("div",{className:s.BlockLabelWrap,children:[l.status==="connected"?e("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"//www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0134 3.10551L4.11073 11.2663L0.767578 6.44966L3.2321 4.73908L4.61622 6.73324L10.9863 0.894043L13.0134 3.10551Z",fill:l.statusColor})}):t("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"//www.w3.org/2000/svg",children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.62882 1.98772L2.62882 9.98772L0.371094 8.01221L7.37109 0.012207L9.62882 1.98772Z",fill:l.statusColor}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.371176 1.98772L7.37118 9.98772L9.62891 8.01221L2.62891 0.012207L0.371176 1.98772Z",fill:l.statusColor})]}),e("span",{className:s.BlockLabel,children:l.status==="connected"?"Connected":"Not Connected"})]}):e("div",{className:s.BlockLabelWrap,children:e(n,{width:88})}),g=r.exports.useRef(async()=>{try{const c=await M.getWaHealthReport();if(!c.success)throw Error(c.message);const{account_status:f,health:N}=c.payload;switch(w(T.TIER1),N){case"GREY":d(h.GREY);break;case"RED":d(h.RED);break;case"YELLOW":d(h.YELLOW);break;case"GREEN":d(h.GREEN);break}switch(f){case"connected":B(k.Connected);break;default:B(k.NotConnected);break}}catch(c){m(c.message)}});return r.exports.useEffect(()=>{g.current()},[]),e(R,{elevation:0,sx:{"& .MuiCardContent-root":{pb:"10px !important"}},children:t(W,{children:[e(E,{children:i?e(n,{width:90}):"Live Status"}),t("div",{className:s.StatusBlocks,children:[t(u,{className:s.StatusBlock,sx:p(a==null?void 0:a.statusColor),children:[e("h3",{className:s.BlockTitle,children:"Messaging Tier"}),e(v,{})]}),t(u,{className:s.StatusBlock,sx:p(o==null?void 0:o.statusColor),children:[e("h3",{className:s.BlockTitle,children:"WhatsApp Health"}),e(x,{})]}),t(u,{className:s.StatusBlock,sx:p(l==null?void 0:l.statusColor),children:[e("h3",{className:s.BlockTitle,children:"Account Status"}),e(b,{})]})]}),e("p",{className:s.FooterNote,children:a?a.message:e(n,{width:L?520:"100%",height:L?11:22})})]})})};export{$ as default};

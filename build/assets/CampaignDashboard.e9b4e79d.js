var ye=Object.defineProperty;var Se=(e,o,n)=>o in e?ye(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var T=(e,o,n)=>(Se(e,typeof o!="symbol"?o+"":o,n),n);import{g as Ae,e as ke,D as P,j as t,s as O,S as Me,y as ie,aw as Y,av as Z,_ as R,r,l as Be,c as Ie,a as p,$ as M,p as Fe,q as Ee,A as X,b as V,B as S,T as B,aX as ae,aB as Le,aY as re,a8 as De,aT as We,aU as ze,C as He,aO as Te,am as Ne,V as se,W as Re}from"./index.d8add93f.js";import{m as Pe,D as Oe,c as $e,L as je,d as Xe}from"./CommonComponents.4db0cea9.js";import{O as Ge,Q as q,e as le,t as ce}from"./LayoutComponents.52f01116.js";import{s as h}from"./styled.7f47356e.js";import{T as Ve,a as _e}from"./Tabs.181b46c8.js";import{L as Ue}from"./List.7ac2237d.js";import{C as Ye,A as Ze}from"./PopupBoxes.7ebf7810.js";import{I as pe}from"./Img.1609cefe.js";import{L as de}from"./ListItem.3ed14a9c.js";import{C as ge}from"./Checkbox.dcf50937.js";import{L as qe}from"./ListItemButton.444da763.js";import{C as me}from"./Chip.1defb1dd.js";import{M as _}from"./Menu.47d0914f.js";import{M as D}from"./MenuItem.38dd1f0d.js";import{S as k}from"./Skeleton.679bc824.js";import{T as Ke}from"./TextField.4eb2a3e5.js";import{I as K}from"./InputAdornment.5b8d5ee7.js";import{S as Q}from"./Search.a18ec6b7.js";import{M as Qe}from"./MoreVert.8db509b1.js";import{C as Je}from"./Close.82cd0ce3.js";import{D as et}from"./Drawer.70323553.js";import{L as tt}from"./LoadingButton.ea52d141.js";import"./Popper.45ca1e38.js";import"./CardMedia.9f5c7a72.js";import"./listItemButtonClasses.7b62b845.js";import"./isMuiElement.6d51040b.js";import"./SwitchBase.82c3332e.js";import"./Select.2131a487.js";import"./listItemTextClasses.76c15218.js";import"./CircularProgress.725d0e6e.js";function ot(e){return ke("MuiAlert",e)}const nt=Ae("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),J=nt,it=P(t("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),at=P(t("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),rt=P(t("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),st=P(t("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var ee;const lt=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],ct=e=>{const{variant:o,color:n,severity:i,classes:a}=e,b={root:["root",`${o}${ie(n||i)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return Ee(b,ot,a)},pt=O(Me,{name:"MuiAlert",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[n.variant],o[`${n.variant}${ie(n.color||n.severity)}`]]}})(({theme:e,ownerState:o})=>{const n=e.palette.mode==="light"?Y:Z,i=e.palette.mode==="light"?Z:Y,a=o.color||o.severity;return R({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&o.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${a}Color`]:n(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:i(e.palette[a].light,.9),[`& .${J.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette.mode==="dark"?e.palette[a].main:e.palette[a].light}},a&&o.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${a}Color`]:n(e.palette[a].light,.6),border:`1px solid ${(e.vars||e).palette[a].light}`,[`& .${J.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette.mode==="dark"?e.palette[a].main:e.palette[a].light}},a&&o.variant==="filled"&&R({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${a}FilledColor`],backgroundColor:e.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main,color:e.palette.getContrastText(e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main)}))}),dt=O("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,o)=>o.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),gt=O("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,o)=>o.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),te=O("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,o)=>o.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),oe={success:t(it,{fontSize:"inherit"}),warning:t(at,{fontSize:"inherit"}),error:t(rt,{fontSize:"inherit"}),info:t(st,{fontSize:"inherit"})},mt=r.exports.forwardRef(function(o,n){const i=Be({props:o,name:"MuiAlert"}),{action:a,children:b,className:g,closeText:f="Close",color:m,icon:d,iconMapping:v=oe,onClose:x,role:s="alert",severity:l="success",variant:C="standard"}=i,w=Ie(i,lt),u=R({},i,{color:m,severity:l,variant:C}),A=ct(u);return p(pt,R({role:s,elevation:0,ownerState:u,className:Fe(A.root,g),ref:n},w,{children:[d!==!1?t(dt,{ownerState:u,className:A.icon,children:d||v[l]||oe[l]}):null,t(gt,{ownerState:u,className:A.message,children:b}),a!=null?t(te,{ownerState:u,className:A.action,children:a}):null,a==null&&x?t(te,{ownerState:u,className:A.action,children:t(M,{size:"small","aria-label":f,title:f,color:"inherit",onClick:x,children:ee||(ee=t(Je,{fontSize:"small"}))})}):null]}))}),ut=mt,ht=e=>{const[o,n]=r.exports.useState(e),i=r.exports.useCallback(s=>{n(l=>[...l,...Array.isArray(s)?s:[s]])},[]),a=r.exports.useCallback(s=>n(l=>[...Array.isArray(s)?s:[s],...l]),[]),b=r.exports.useCallback(()=>n(s=>s.slice(0,-1)),[]),g=r.exports.useCallback(()=>n(s=>s.slice(1)),[]),f=r.exports.useCallback((s,l)=>n(C=>{const w=C.slice();return w.splice(l<0?w.length+l:l,0,w.splice(s,1)[0]),w}),[]),m=r.exports.useCallback(()=>n(()=>[]),[]),d=r.exports.useCallback(()=>n(e),[]),v=r.exports.useCallback(s=>n(l=>{const C=l.slice();return C.splice(s,1),C}),[]),x=r.exports.useMemo(()=>({setValue:n,add:i,unshift:a,push:i,move:f,clear:m,reset:d,removeIndex:v,pop:b,shift:g}),[i,a,f,m,d,v,b,g]);return[o,x]},ue=r.exports.createContext(void 0),he=r.exports.createContext(void 0),ft=({children:e})=>{const[o,n]=r.exports.useState(null),i=Boolean(o),[a,b]=ht([]),[g,f]=r.exports.useState(void 0),[m,d]=r.exports.useState(),[v,x]=r.exports.useState(null),s=Boolean(v),[l,C]=r.exports.useState(!1),w={moreOptEl:o,openMoreOpt:i,campaigns:a,activeCampaign:m,currentCampaign:g,bulkActionEl:v,openBulkAction:s,showNewCampaignFrom:l},u=r.exports.useMemo(()=>({setMoreOptEl:n,campaignActions:b,setActiveCampaign:d,setCurrentCampaign:f,setBulkActionEl:x,toggleNewCampaignFrom:C}),[]);return t(ue.Provider,{value:w,children:t(he.Provider,{value:u,children:e})})},W=()=>{const e=r.exports.useContext(ue);if(e===void 0)throw Error("Item must be used inside of CampaignsProvider, otherwise it will not function correctly.");return e},F=()=>{const e=r.exports.useContext(he);if(e===void 0)throw Error("Item must be used inside of CampaignsProvider, otherwise it will not function correctly.");return e},xt=({children:e})=>t(ft,{children:t(Pe,{children:e})});class I{}T(I,"getCampaignsData",async()=>await X("/campaigns","GET")),T(I,"getCampaignById",async o=>await X(`/campaigns/${o}`,"GET")),T(I,"updateCampaignProgress",async(o,n)=>await X(`/campaigns/status/${o}`,"PUT",{data:{progress:n}}));const Ct={maxWidth:{md:380,xl:560}},bt={minHeight:46,"& .MuiTabScrollButton-root":{alignSelf:"center",borderRadius:4,height:32,width:32},"& .MuiTabs-indicator":{height:4}},fe={"& .MuiPaper-root":{minWidth:140,"& .MuiList-root":{p:0,"& .MuiMenuItem-root":{color:"#12B0EE",justifyContent:"center",minHeight:40,fontSize:16,fontWeight:500,lineHeight:"19px","&:not(:last-of-type)":{borderBottom:1,borderBottomColor:"#0000000D"}}}}},xe={"&:not(:last-of-type)":{borderBottom:"1px solid #24272C1A"},"& .MuiListItemButton-root":{alignItems:"stretch",flexDirection:"column",py:1.5,rowGap:1,"&:hover, &.active":{bgcolor:"#EDFAFF"}},"& .above, & .below":{display:"flex",flexWrap:"wrap",gap:1.25,justifyContent:"space-between","& .above-start, & .below-start, & .above-end, & .below-end":{alignItems:"center",display:"flex",flexWrap:"wrap",gap:1.25}}},vt={"&.MuiCollapse-hidden":{width:"0!important"},"&.MuiCollapse-entered":{width:"100%!important"},"& .MuiCollapse-wrapper, & .MuiCollapse-wrapperInner":{width:"100%"},"& .MuiCollapse-wrapperInner":{pr:1.75}},G={width:42,height:42},wt={width:42,height:42},yt=fe,St=h("div")({backgroundColor:"#FFFFFF",borderRight:1,borderRightStyle:"solid",borderRightColor:"#0000000D",display:"flex",flexDirection:"column",width:"100%",transition:"max-width 0.2s ease-in-out"}),At=h("div")({borderBottom:1,borderBottomStyle:"solid",borderBottomColor:"#0000000D",display:"flex",alignItems:"center"}),kt=h(Ve)({flexGrow:1,minHeight:46,paddingLeft:14}),N=h(_e)({fontSize:16,fontWeight:500,lineHeight:"19px",minHeight:46,minWidth:"unset",paddingLeft:10,paddingRight:10,textTransform:"inherit"}),Mt=h("div")({display:"flex",flexDirection:"column",flexGrow:1}),Bt=h("div")({display:"flex",flex:"0 1 0",paddingLeft:14}),It=h("div")({flex:"1 0 0",overflow:"auto"}),ne=h(Ue)({padding:0,"& .MuiListItem-root":{"& > .MuiListItemButton-root":{paddingLeft:64,paddingRight:20},"& .MuiListItemSecondaryAction-root":{right:"unset",left:14}}}),Ft=h("div")({backgroundColor:"#F7F8FA",flexGrow:1,display:"flex",position:"relative"}),Et=h("div")({display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%","& .top":{alignItems:"center",display:"inline-flex",flexDirection:"column",marginTop:"80px",rowGap:"5px",textAlign:"center","& .info":{"& .heading":{color:"#24272C",fontSize:"20px",fontWeight:500,lineHeight:"42px"}},"& .MuiButton-root":{backgroundColor:"#12B0EE",borderRadius:"8px",boxShadow:"none",height:"42px"}},"& .bottom":{display:"flex",justifyContent:"flex-end","& .image":{marginRight:"36px",marginBottom:"20px"}}}),Lt=h("div")({display:"flex",height:"100%",width:"100%"}),Dt=h("div")({display:"flex",flex:"1 1 0",flexDirection:"column"}),Wt=h("div")({backgroundColor:"#FFFFFF",borderBottom:"1px solid #0000000D",display:"flex",justifyContent:"space-between",padding:"12px 20px"}),zt=h("div")({display:"flex",flexDirection:"column",flexGrow:1,gap:"10px","& h3.MuiTypography-root":{color:"#24272C",fontSize:"18px",fontWeight:500,lineHeight:"21px"}}),Ht=h("div")({flexShrink:1}),Tt=h("div")({flex:"1 1 0",overflow:"auto","& .detail-grid":{padding:"20px","& .grid-head":{display:"flex",justifyContent:"space-between",marginBottom:"16px","& .title":{color:"#24272C",fontSize:"15px",fontWeight:700,lineHeight:"40px"},"& .download":{alignItems:"baseline",color:"#12B0EE",display:"flex",fontSize:"14px",fontWeight:500,gap:"8px",lineHeight:"40px"}},"& .inner":{display:"flex",flexWrap:"wrap",gap:"30px 15px","& .report-item":{background:"#FFFFFF",boxShadow:"0px 0px 20px rgba(50, 197, 255, 0.15)",borderRadius:"8px",display:"flex",flex:"1 1 calc((100% / 3) - (15px * 2))",flexDirection:"column",gap:"30px 0",padding:"7px",minWidth:"138px","&:hover":{boxShadow:"0px 0px 20px 5px rgba(50, 197, 255, 0.15), inset 0 0 0 1px #12B0EE"},"& .top":{display:"flex",justifyContent:"space-between","& .item-title":{color:"#24272C",fontSize:"16px",fontWeight:500,lineHeight:"14px"}},"& .bottom":{"& .item-value":{color:"#24272C",fontSize:"20px",fontWeight:700,lineHeight:"23px"},"& .item-unit":{color:"#24272C80",fontSize:"12px",fontWeight:500,lineHeight:"14px"}}}}},"& .linked-template, & .linked-users, & .schedule, & .users, & .api":{padding:"20px","& .title":{color:"#24272C",fontSize:"15px",fontWeight:700,lineHeight:"40px"},"& .MuiLink-root":{alignItems:"center",color:"#12B0EE",display:"flex",fontSize:"12px",fontWeight:400,lineHeight:"12px",columnGap:"7px"},"& .MuiFilledInput-root":{backgroundColor:"#12B0EE1A",borderRadius:"8px",height:"40px",width:"100%","&::before, &:after":{display:"none"},"& *::-moz-selection, & *::selection":{backgroundColor:"transparent",color:"#24272C80"},"& .MuiFilledInput-input":{color:"#24272C80",fontSize:"12px",fontWeight:500,height:"100%",lineHeight:"14px",padding:"0 12px"}},"& .template":{alignItems:"baseline",display:"flex",gap:"0 10px"},"& .name, & .at":{color:"#767676B3",fontSize:"14px",fontWeight:400,lineHeight:"15px"}}}),Nt=h("div")({columnGap:"15px",display:"flex",justifyContent:"flex-end",padding:"20px","& .MuiButton-root":{alignItems:"center",borderRadius:"8px",boxShadow:"none",fontSize:"15px",fontWeight:500,height:"43px",lineHeight:"18px",textTransform:"capitalize","& .MuiLoadingButton-loadingIndicator":{color:"#ffffff"},"&.MuiButton-containedPrimary":{backgroundColor:"#12B0EE"},"&.MuiButton-containedSecondary":{backgroundColor:"#BEBEBE","&.btn-resume":{backgroundColor:"#47C055"}}}}),Rt=h("div")({backgroundColor:"#ffffff",borderLeft:"1px solid #0000000D",flexDirection:"column",flex:"0 1 auto",height:"100%",width:"100%",maxWidth:"300px","& .header":{padding:"12px 20px","& .heading":{color:"#24272C",fontSize:"18px",fontWeight:500,lineHeight:"21px"}},"& .preview-content":{flex:"1 1 0",padding:"30px 20px","& .preview-card":{backgroundColor:"#FFFFFF",border:"1px solid #DEE2EA",boxShadow:"0 0 20px rgba(0, 0, 0, 0.1)",borderRadius:"4px",margin:"0 auto 20px",maxWidth:"300px",padding:"15px",height:"max-content","& .media-wrapper":{alignItems:"center",backgroundColor:"#C4C4C4",borderRadius:"4px 4px 0 0",display:"flex",justifyContent:"center",marginBottom:"24px",minHeight:"130px",overflow:"hidden",position:"relative",width:"100%","&.doc":{backgroundColor:"#F5F5F5",color:"#A1AEB4",fontSize:"90px",fontWeight:900,lineHeight:"96px"},"&.vdo":{"&::after":{borderLeft:"32px solid #ffffff",borderTop:"16px solid transparent",borderBottom:"16px solid transparent",content:'""',cursor:"pointer",display:"block",filter:"drop-shadow(0px 5px 2px #00000040)",left:"50%",top:"50%",transform:"translate(-50%,-50%)",position:"absolute"},"&.playing":{"&:hover":{"&::after":{display:"block"}},"&::after":{borderTop:"none",borderBottom:"none",borderLeft:"12px solid #ffffff",borderRight:"12px solid #ffffff",content:'""',cursor:"pointer",display:"none",height:"32px",left:"50%",top:"50%",transform:"translate(-50%,-50%)",position:"absolute",width:"8px"}}},"& .image, & .video":{objectFit:"cover",objectPosition:"center",width:"100%"},"& .video":{height:"130px"}},"& .header":{color:"#767676",fontSize:"16px",fontWeight:700,lineHeight:"16px",marginBottom:"5px",minHeight:"unset!important",padding:"0!important"},"& .body":{color:"#767676",fontSize:"14px",fontWeight:400,lineHeight:"16px",marginBottom:"12px","& >":{"& *":{"&:not(:last-child)":{marginBottom:"16px"}}}},"& .footer":{alignItems:"flex-start!important",border:"none!important",color:"#76767680",fontSize:"12px",fontWeight:500,lineHeight:"16px",marginBottom:"20px",minHeight:"unset!important",padding:"0!important"},"& .preview-actions":{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"16px","& .btn-action":{backgroundColor:"#ffffff",border:"1px solid #DEE2EA",borderRadius:"8px",color:"#767676",flex:"1 1 auto",fontSize:"14px",fontWeight:500,height:"40px",lineHeight:"16px",padding:"0 5px",textTransform:"initial",minWidth:"calc(50% - 8px)","& .label":{overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}}}}),Pt=({data:e,index:o,checked:n,doCheck:i})=>{const{setErrorMessage:a,setSuccessMessage:b}=V(),{activeCampaign:g}=W(),{setActiveCampaign:f,campaignActions:m}=F(),[d,v]=r.exports.useState(null),[x,s]=r.exports.useState(!1),l=async()=>{const u=await I.updateCampaignProgress(e.id,re.REMOVED);if(!u.success)return a(u.message);f(void 0),m.setValue(A=>A.filter(z=>z.id!==e.id)),b("Campaign Deleted Successfully")},C=u=>{u.preventDefault(),v(d===null?{mouseX:u.clientX+2,mouseY:u.clientY-6}:null)},w=()=>{v(null)};return p(r.exports.Fragment,{children:[t(de,{secondaryAction:t(ge,{edge:"end",onChange:i(o),checked:n.indexOf(o)!==-1}),disablePadding:!0,sx:xe,children:p(qe,{onClick:()=>f(g!==e.id?e.id:void 0),onContextMenu:C,className:g&&g===e.id?"active":"",children:[p(S,{className:"above",children:[t(S,{className:"above-start",children:t(B,{component:"span",sx:{fontSize:16,fontWeight:500,lineHeight:"13px"},children:e.name})}),t(S,{className:"above-end",children:t(me,{label:e.progress,size:"small",sx:{bgcolor:ae(e.progress),alignItems:"center",color:"#FFFFFF",height:16,gap:.5,px:1,"& .MuiChip-label":{fontSize:9,fontWeight:900,lineHeight:1,px:0}}})})]}),t(S,{className:"below",children:p(S,{className:"below-start",children:[t(pe,{src:(e==null?void 0:e.type)==="API"?"/static/images/png/link-icon.png":"/static/images/png/calendar-icon.png",alt:(e==null?void 0:e.type)==="API"?"api":"ongoing",sx:{width:"auto"}}),t(B,{component:"span",sx:{color:"#24272CB3",fontSize:13,fontWeight:500,lineHeight:"12px"},children:(e==null?void 0:e.type)==="API"?e==null?void 0:e.type:Le(e==null?void 0:e.schedule_date).format("Do MMM YY, h:mm A")})]})})]})}),t(_,{open:d!==null,onClose:w,onClick:w,anchorReference:"anchorPosition",anchorPosition:d!==null?{top:d.mouseY,left:d.mouseX}:void 0,children:t(D,{onClick:()=>s(!0),children:"Delete"})}),t(Ye,{title:"Delete",open:x,setOpen:s,onConfirm:l,positiveLabel:"Delete",negativeLabel:"Cancel",children:"Are you sure you want to delete?"})]})},Ot=()=>p(de,{secondaryAction:t(k,{variant:"rectangular",width:18,height:18}),disablePadding:!0,sx:{...xe,flexDirection:"column",rowGap:1,py:1.5,pl:8,pr:2.5,"& .MuiListItemSecondaryAction-root":{left:"26px !important"}},children:[p(S,{className:"above",width:"100%",children:[t(S,{className:"above-start",flexGrow:1,children:t(k,{variant:"rounded",width:100,height:13})}),t(S,{className:"above-end",children:t(k,{variant:"rounded",width:70,height:16,sx:{borderRadius:4}})})]}),t(S,{className:"below",width:"100%",children:t(S,{className:"below-start",flexGrow:1,children:t(k,{variant:"rounded",width:32,height:12})})})]}),$t=()=>{const{showSnack:e}=V(),{setHeaderContent:o}=De(),{campaigns:n}=W(),{campaignActions:i,setMoreOptEl:a,setBulkActionEl:b}=F(),[g,f]=We(),m=g.get("tab"),[d,v]=r.exports.useState(!0),[x,s]=r.exports.useState(!1),[l,C]=r.exports.useState(m!=null?m:"all"),[w,u]=r.exports.useState(""),[A,z]=r.exports.useState(!1),[$,j]=r.exports.useState([]),U=r.exports.useRef(),H=r.exports.useDeferredValue(w),E=n.filter(c=>l==="all"?!0:l===(c==null?void 0:c.progress.toLowerCase())).filter(c=>c.name.toLowerCase().includes(H.toLowerCase())),Ce=(c,y)=>{C(y),f({tab:y})},be=c=>{z(c.target.checked),c.target.checked?j(Array.from({length:E.length},(y,L)=>L)):j([])},ve=c=>()=>{const y=$.indexOf(c),L=[...$];y===-1?L.push(c):L.splice(y,1),j(L),z(!1)},we=r.exports.useRef(async()=>{const c=await I.getCampaignsData();if(!c.success)return v(!1),e(c.message,"error");i.setValue(c.payload),v(!1)});return r.exports.useEffect(()=>{we.current()},[]),r.exports.useEffect(()=>{m&&m!==l&&C(m)},[l,m]),r.exports.useEffect(()=>(o(p(S,{display:"flex",alignItems:"center",gap:.5,children:[t(B,{component:"span",sx:Ge,children:d?t(k,{variant:"text",width:144}):ze(E.length,"Campaign")}),t(B,{component:"span",sx:q,children:"/"}),p(B,{component:"span",sx:q,children:[H!==""?`"${H}" in `:"",l]})]})),()=>{o(null)}),[d,l,H,E.length]),p(St,{sx:Ct,children:[p(At,{children:[p(kt,{value:l,onChange:Ce,variant:"scrollable",orientation:"horizontal",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:bt,children:[t(N,{label:"All",value:"all"}),t(N,{label:"Active",value:"active"}),t(N,{label:"Paused",value:"paused"}),t(N,{label:"Completed",value:"completed"})]}),t(M,{onClick:c=>a(c.currentTarget),sx:wt,children:t(Ze,{})})]}),p(Mt,{children:[p(Bt,{children:[t(ge,{checked:A,onChange:be,inputProps:{"aria-label":"Check All"}}),t(He,{in:x,orientation:"horizontal",sx:vt,children:t(Ke,{placeholder:"Search Campaigns...",onChange:({currentTarget:{value:c}})=>u(c),InputProps:{disableUnderline:!1,startAdornment:x?t(K,{position:"start",children:t(Q,{})}):void 0,endAdornment:x?t(K,{position:"end",children:t(M,{sx:G,onClick:()=>{u(""),s(!1)},children:t(Te,{})})}):void 0,sx:{borderRadius:0,minHeight:42}},inputProps:{ref:U,disabled:!x},variant:"standard"})}),!x&&t(M,{sx:{...G,ml:"auto"},onClick:()=>{s(!0),setTimeout(()=>{var c;(c=U.current)==null||c.focus()},0)},children:t(Q,{})}),!x&&t(M,{onClick:c=>b(c.currentTarget),sx:G,children:t(Qe,{})})]}),t(It,{children:d?t(ne,{children:Array(5).fill(void 0).map((c,y)=>t(Ot,{},y))}):E.length>0?t(ne,{children:E.reverse().map((c,y)=>t(Pt,{data:c,index:y,doCheck:ve,checked:$},y))}):t(ut,{variant:"filled",severity:"warning",sx:{mx:2.5},children:"0 campaigns found."})})]})]})},jt=({open:e,anchorEl:o,doClose:n})=>{const{toggleNewCampaignFrom:i}=F();return p(_,{anchorEl:o,open:e,onClose:n,onClick:n,keepMounted:!1,MenuListProps:{"aria-labelledby":"Options"},anchorOrigin:le,transformOrigin:ce,sx:fe,children:[t(D,{onClick:()=>i(!0),children:"New Campaign"}),t(D,{children:"Manage Tabs"})]})},Xt=({open:e,anchorEl:o,doClose:n})=>p(_,{anchorEl:o,open:e,onClose:n,onClick:n,keepMounted:!1,MenuListProps:{"aria-labelledby":"Bulk Actions"},anchorOrigin:le,transformOrigin:ce,sx:yt,children:[t(D,{children:"Action 1"}),t(D,{children:"Action 2"})]}),Gt=({open:e,closeDrawer:o})=>t(et,{anchor:"right",open:e,onClose:(n,i)=>!Ne(i)&&o(),sx:{zIndex:"modal"},children:t(Oe,{sx:{width:{xs:"100vw",md:360}},children:p($e,{children:[t(M,{onClick:o,sx:{width:32,height:32},children:t(je,{})}),t(Xe,{children:"Create Campaign"})]})})}),Vt=()=>{const{moreOptEl:e,openMoreOpt:o,bulkActionEl:n,openBulkAction:i,showNewCampaignFrom:a}=W(),{setMoreOptEl:b,setBulkActionEl:g,toggleNewCampaignFrom:f}=F();return p(r.exports.Fragment,{children:[t($t,{}),t(jt,{open:o,anchorEl:e,doClose:()=>b(null)}),t(Xt,{open:i,anchorEl:n,doClose:()=>g(null)}),t(Gt,{open:a,closeDrawer:()=>f(!1)})]})},_t=()=>{const{toggleNewCampaignFrom:e}=F();return p(Et,{children:[p("div",{className:"top",children:[p("div",{className:"info",children:[t("h3",{className:"heading",children:"Click on a campaign to see details."}),t("h3",{className:"heading",children:"or"}),t("h3",{className:"heading",children:"Create a new campaign"})]}),t(se,{type:"button",variant:"contained",onClick:()=>e(!0),children:"New Campaign"})]}),t("div",{className:"bottom",children:t("div",{className:"image",children:t(pe,{src:"/static/images/svg/create-or-select.svg",alt:"Create or Select",sx:{width:201,height:"auto"}})})})]})},Ut=()=>{var s;const{setErrorMessage:e,setSuccessMessage:o}=V(),{activeCampaign:n,currentCampaign:i}=W(),{setActiveCampaign:a,setCurrentCampaign:b}=F(),[g,f]=r.exports.useState(!0),[m,d]=r.exports.useState(!1),v=async()=>{d(!0),setTimeout(()=>{console.log("done"),d(!1)},3e3)},x=r.exports.useRef(async l=>{if(l){f(!0);const C=await I.getCampaignById(l);if(!C.success)return a(void 0),e(C.message);b(C.payload),f(!1)}});return r.exports.useEffect(()=>{n&&x.current(n)},[n]),p(Lt,{children:[p(Dt,{children:[p(Wt,{children:[t(zt,{children:t(B,{component:"h3",children:g?t(k,{animation:"wave",width:"40%"}):i==null?void 0:i.name})}),t(Ht,{children:g?t(k,{variant:"rectangular",animation:"wave",width:53,height:16,sx:{borderRadius:4}}):t(me,{label:i==null?void 0:i.progress,className:"badge",size:"small",sx:{backgroundColor:ae((s=i==null?void 0:i.progress)!=null?s:re.REMOVED),alignItems:"center",justifyContent:"center",height:16,"& .MuiChip-label":{color:"#FFFFFF",fontSize:10,fontWeight:900,lineHeight:"12px"}}})})]}),t(Tt,{children:!g&&(i==null?void 0:i.progress)!=="COMPLETED"&&p(Nt,{children:[t(tt,{loading:m,color:"secondary",onClick:v,className:(i==null?void 0:i.progress)==="ACTIVE"?"":"btn-resume",variant:"contained",children:`${(i==null?void 0:i.progress)==="ACTIVE"?"Pause":"Resume"} Campaign`}),(i==null?void 0:i.type)!=="API"&&t(se,{variant:"contained",color:"primary",children:"Modify Campaign"})]})})]}),t(Rt,{children:t("div",{className:"header",children:t("h3",{className:"heading",children:g?t(k,{variant:"text",animation:"wave",width:145,height:22}):"Preview Message"})})})]})},Yt=()=>{const{activeCampaign:e}=W();return p(Ft,{children:[!e&&t(_t,{}),e&&t(Ut,{})]})},Bo=()=>p(xt,{children:[t(Re,{children:t("title",{children:"Engage Campaigns"})}),t(Vt,{}),t(Yt,{})]});export{Bo as default};

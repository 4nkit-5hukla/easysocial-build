import{al as R,u as P,ai as j,r as F,j as e,a as s,V as G,A as L,B as X,W as z,c6 as H,I as Q}from"./index.0e50089d.js";import{u as O,F as d}from"./FormTextField.c0e3e790.js";import{g as M}from"./mui-tel-input.es.e81d5065.js";import{P as g}from"./Auth.bb306ec0.js";import{F as E,G as k}from"./Grid.146b9954.js";import{F as i,a as B}from"./Form.52a74fc4.js";import{b as q,F as S}from"./Style.ced39dc3.js";import{C as D}from"./Card.de383c1e.js";import{M as T}from"./MenuItem.2347b4b6.js";import{I as Y}from"./InputAdornment.b9328cbd.js";import{V as $}from"./Visibility.acedffcc.js";import{V as J}from"./VisibilityOff.7f658c09.js";import{u as _,a as K,R as U,A as Z}from"./AuthProvider.e5b431f1.js";import{L as ee}from"./Link.123a1b4e.js";import"./TextField.c3de8082.js";import"./Select.4f434c76.js";import"./useFormControl.19c227b5.js";import"./isMuiElement.abfbb6fd.js";import"./Menu.75696a10.js";import"./List.f68a2eea.js";import"./useControlled.8f6662af.js";import"./ListItemText.ae179aaa.js";import"./listItemTextClasses.425e33b6.js";import"./ArrowRight.e09ead02.js";import"./dividerClasses.ce986c4c.js";import"./tslib.es6.61e9e735.js";const re="_37-t",te="QXWC",se="ch5p",W={Form:re,SignupBtm:te,FormSelectField:se,"MuiFilledInput-root":"ARHM","Mui-focused":"jjzt"},ne=({number:n})=>{const{setErrorMessage:a,setSuccessMessage:h}=R(),{setAccessToken:f,navigate:v}=P(),{country:m,countryName:u}=P(),{countriesList:V}=j(),[p,A]=F.exports.useState(g.PASSWORD),{control:c,handleSubmit:C,watch:y,setValue:x}=O({defaultValues:{mobile_number:n,name:"",country:u!=null?u:"",email:"",password:"",confirm_password:""}}),{mobile_number:I,country:b}=y(),o=async t=>{const r=await L.Signup(t);if(!r.success)return a(r.messages?r.messages.errors[0].message:r.message);f(r.payload.token),h(r.message),v("business-setup")},l=()=>{A(p===g.PASSWORD?g.TEXT:g.PASSWORD)};return e(D,{component:"form",onSubmit:C(o),className:W.Form,children:e(E,{children:s(k,{children:[e(i,{children:e(M,{label:"Mobile",placeholder:"Enter mobile no.",fullWidth:!0,defaultCountry:m,value:I,onChange:(t,r)=>{var N;x("mobile_number",(N=r.numberValue)!=null?N:t)},variant:"filled",sx:q})}),e(i,{children:e(d,{control:c,name:"name",label:"Name",placeholder:"Name",required:!0,sx:S})}),e(i,{children:e(d,{control:c,name:"email",label:"Email",placeholder:"Email",required:!0,sx:S})}),e(i,{children:s(d,{select:!0,control:c,label:"Country",name:"country",className:W.FormSelectField,required:!0,defaultValue:b!=null?b:"",children:[e(T,{value:"",disabled:!0,children:"Select Country"}),V.map((t,r)=>e(T,{value:t.name,children:t.name},r))]})}),e(i,{children:e(d,{control:c,name:"password",label:"Password",placeholder:"Password",type:p,required:!0,sx:S})}),e(i,{children:e(d,{control:c,name:"confirm_password",label:"Confirm Password",placeholder:"Confirm Password",type:p,required:!0,sx:S,InputProps:{endAdornment:e(Y,{position:"end",children:e(G,{onClick:l,children:p===g.PASSWORD?e($,{}):e(J,{})})})}})}),e(B,{type:"submit",children:"Register"})]})})})},ae=({setNumber:n})=>{const{setErrorMessage:a,setSuccessMessage:h}=R(),{country:f}=P(),{auth:v,isOTPSent:m}=_(),{sendOTP:u,otpVerification:V}=K(),{control:p,handleSubmit:A,watch:c,setValue:C}=O({defaultValues:{number:"",otp:""}}),{number:y}=c(),x=window,I=async o=>{const l=o.number,t=o.otp;if(!m){if(!l)return a("Enter mobile number");const r=await u(l);r.success?h(r.message):a(r.message)}if(m){if(!t)return a("Enter OTP");const r=await V(t);!r.success&&a(r.message),n(l)}},b=()=>{x.recaptchaVerifier=new U("captcha-container",{size:"invisible",callback:async function(){const o=await u(y);x.confirmationResult=o},"expired-callback":function(){alert("try again!")}},v)};return F.exports.useEffect(()=>{b()},[]),s(D,{component:"form",onSubmit:A(I),className:W.Form,children:[e(E,{children:s(k,{children:[e(i,{children:e(M,{label:"Mobile",placeholder:"Enter mobile no.",fullWidth:!0,defaultCountry:f,value:y,onChange:(o,l)=>{var t;C("number",(t=l.numberValue)!=null?t:o)},variant:"filled",sx:q,inputProps:{required:!0}})}),m&&e(i,{children:e(d,{control:p,name:"otp",label:"otp",type:"number",placeholder:"otp",required:!0,sx:S})}),e(B,{type:"submit",id:"sign-in-button",children:m?"Verify":"Get OTP"})]})}),s(X,{className:W.SignupBtm,children:["Already have an account? ",e(ee,{href:"/login",children:"Sign In"})]}),e("div",{id:"captcha-container"})]})},oe=()=>{const{otpVerified:n}=_(),[a,h]=F.exports.useState("");return s(F.exports.Fragment,{children:[!n&&e(ae,{setNumber:f=>h(f)}),n&&e(ne,{number:a})]})},ie="Cdk4",ce="Y2Lj",le="x0BD",me="NIxP",w={OuterWrapper:ie,InnerWrapper:ce,ImgWrapper:le,RightWrapper:me},Be=()=>{const{isTablet:n}=P();return s(F.exports.Fragment,{children:[e(z,{children:e("title",{children:"Signup"})}),e(H,{children:e(Z,{children:e("div",{className:w.OuterWrapper,children:s("div",{className:w.InnerWrapper,children:[n&&e("div",{className:w.ImgWrapper,children:s("div",{style:{position:"fixed"},children:[s("h1",{children:["Sign up and unbox",e("br",{}),"a pandora of marketing tools."]}),e(Q,{src:"static/images/svg/login.svg",alt:"Login Graphics"})]})}),e("div",{className:w.RightWrapper,children:e(oe,{})})]})})})})]})};export{Be as default};

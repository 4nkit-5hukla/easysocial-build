import{v as M,j as e,r as o,Y as p,aj as $,a as i,aa as z,ax as E,ab as W,V as T,T as Y,U as F,ac as K,b4 as V,B as q,a2 as v,b9 as G}from"./index.4acaa181.js";import{B as H}from"./BizParticipantsApi.294a343c.js";import{D as J}from"./Divider.17ed9266.js";import{T as Q}from"./TextField.3759393b.js";import{I as X}from"./InputAdornment.2a830e3f.js";import{S as Z}from"./Search.dd148e0c.js";import{L as ee}from"./List.e2978a9f.js";import{L as C}from"./ListItem.223c2eb8.js";import{C as te}from"./Check.64c6b743.js";import{L as P}from"./ListItemButton.19435e57.js";const re=M(e("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),R=o.exports.forwardRef((t,r)=>e(p,{direction:"up",ref:r,...t}));R.displayName="SlideUpTransition";const se=o.exports.forwardRef((t,r)=>e(p,{direction:"down",ref:r,...t}));se.displayName="SlideDownTransition";const ne=o.exports.forwardRef((t,r)=>e(p,{direction:"left",ref:r,...t}));ne.displayName="SlideLeftTransition";const ae=o.exports.forwardRef((t,r)=>e(p,{direction:"right",ref:r,...t}));ae.displayName="SlideRightTransition";function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},w(t)}function Le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}const oe="SYcp",ie={LeadAssign:oe},ce=()=>e(C,{disablePadding:!0,children:e(P,{disabled:!0,children:i(q,{className:"content",width:"100%",children:[e("h5",{children:e(v,{width:"80%"})}),e("h6",{children:e(v,{width:"50%"})})]})})}),be=({open:t,doClose:r,leads:l,onAssign:S})=>{const{setErrorMessage:B,setSuccessMessage:D}=$(),s=o.exports.useRef(),[m,d]=o.exports.useState(!1),[h,f]=o.exports.useState([]),[y,L]=o.exports.useState(null),A=async n=>{if(n.preventDefault(),s.current){const{value:a}=s.current;d(!0);const c=await H.getTeamMembersByNameAdvanced(a);return c.success?(f(c.payload),d(!1)):(f([]),d(!1))}},O=async()=>{const n=await G.assignLeadsToSelectedUserPost({leads:l,user_id:y});if(L(null),!n.success)return B(n.message);f([]),r(),D("Leads successfully assigned!"),S&&S()};return i(z,{open:t,TransitionComponent:R,onClose:(n,a)=>{E(a)||(f([]),d(!1),r())},className:ie.LeadAssign,"aria-labelledby":"filters",maxWidth:"xs",fullWidth:!0,children:[i(W,{component:"div",children:[e(T,{onClick:r,children:e(re,{})}),e(Y,{component:"h3",children:"Assign to member"}),e(F,{onClick:O,size:"large",children:"Done"})]}),e(J,{}),i(K,{children:[e("form",{onSubmit:A,children:e(Q,{placeholder:"Search team members...",variant:"standard",InputProps:{disableUnderline:!1,endAdornment:e(X,{position:"end",children:e(T,{type:"submit",children:e(Z,{})})})},autoComplete:"off",inputProps:{ref:s}})}),i(ee,{children:[!m&&h.length>0&&h.map(({name:n,id:a,mobile_number:c,team_name:_},k)=>{var x;const u=`${n} - ${_}`,g=u.toLowerCase().indexOf(""+((x=s.current)==null?void 0:x.value.toLowerCase())),b=g+(s.current?s.current.value.length:0)-1,N=u.slice(0,g),U=u.slice(g,b+1),j=u.slice(b+1),I=V(`${N}<b>${U}</b>${j}`);return e(C,{secondaryAction:y===a?e(te,{color:"primary"}):null,disablePadding:!0,children:e(P,{onClick:()=>L(a),children:i("div",{className:"content",children:[e("h5",{children:I}),c&&e("h6",{children:c})]})})},k)}),m&&s.current&&s.current.value.length>0&&Array(5).fill(void 0).map((n,a)=>e(ce,{},a)),!m&&h.length<1&&e("p",{children:"Search for member..."})]})]})]})};export{re as C,be as L,R as S,Le as _,w as a};

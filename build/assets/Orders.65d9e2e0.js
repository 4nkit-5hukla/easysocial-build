import{u as P,ai as _,r as t,a,j as r,aV as p,as as w,c9 as C,ca as A,W as B}from"./index.0fc63d4e.js";import{B as E}from"./BizParticipantsProvider.8f5d6b17.js";import{A as O}from"./AllPaymentsApi.138dd04a.js";import{g as I,I as F,T as H}from"./Tags.6a703ad0.js";import{C as N,I as v,a as k,b as R,T as $,c as j,d as W,O as D,P as z,e as G}from"./Styles.623f0960.js";import{S as U}from"./ServiceExpiryAlert.5101e1d4.js";import{M as V,a as q,D as J}from"./DeskHeader.1ed01a47.js";import{C as K}from"./Card.8962761a.js";import{C as L}from"./CardContent.b2f0281d.js";import{T as Q,a as Z,b as ee,c as T,d as s,e as re}from"./TableRow.dca495ce.js";import"./withStyles.54d4ccd0.js";import"./ListItem.6d0b39ca.js";import"./List.d46fa225.js";import"./listItemButtonClasses.9bb2654b.js";import"./isMuiElement.eba0df62.js";import"./styled.9b77f846.js";import"./LeftArrow.6537b7c2.js";import"./Search.882e17bb.js";import"./Clear.9e3d331a.js";import"./RangePopUp.61bf24ef.js";import"./index.eb4aa1c1.js";import"./TextField.dfa21b7c.js";import"./Select.7c32bfe7.js";import"./useFormControl.777b9f12.js";import"./Menu.e1eaa76e.js";import"./useControlled.8b48121e.js";import"./usePickerState.68438f35.js";import"./Grid.ac4525dd.js";import"./InputAdornment.f981dc0b.js";import"./StaticDateRangePicker.5c0f44f3.js";import"./PickersToolbarButton.d97e7aac.js";import"./Link.e8430bfc.js";const te=()=>{const{isMobile:m,isTablet:y}=P(),{showSnack:d}=_(),[h,g]=t.exports.useState([]),[u,x]=t.exports.useState(""),[f,M]=t.exports.useState(0),[i,S]=t.exports.useState(new Date(new Date().getFullYear(),0,1)),[c,b]=t.exports.useState(new Date(new Date().getFullYear(),11,31)),X=t.exports.useRef(async(e,n,l)=>{e&&e.setHours(0,0,0,0),n&&n.setHours(23,59,59,999);const o=await O.getAllOrders(e,n,l);if(!o.success)return d(o.message,"error");g(o.payload)});t.exports.useEffect(()=>{X.current(i,c,u)},[i,c,u]);const Y=t.exports.useRef(async()=>{const e=await O.getExpiryBusinessCount();if(!e.success)return d(e.message,"error");M(e.payload)});return t.exports.useEffect(()=>{Y.current()},[]),a(t.exports.Fragment,{children:[m&&r(V,{title:"Orders"}),r(I,{sx:N,children:a(F,{sx:v,children:[m&&r(q,{placeholder:"Search Order No.",setSearch:e=>x(e),from:i,to:c,setStartDate:e=>S(e),setEndDate:e=>b(e)}),f>0&&r(U,{noOfBusi:f}),r(K,{elevation:0,sx:k,children:a(L,{sx:R,children:[y&&r(J,{title:"Orders",placeholder:"Search Order No.",setSearch:e=>x(e),from:i,to:c,setStartDate:e=>S(e),setEndDate:e=>b(e)}),r(H,{sx:$,children:r(Q,{sx:j,children:a(Z,{children:[r(ee,{children:a(T,{sx:W,children:[r(s,{component:"th",children:"Date"}),r(s,{component:"th",children:"Particulars"}),r(s,{component:"th",children:"Order No."}),r(s,{component:"th",children:"Amount"}),r(s,{component:"th",children:"Inv No."})]})}),r(re,{children:h&&h.map(e=>{var o;let n="",l="";return e.order_type==="plan"&&(n=`${p(e.start_date).format("D")} - ${p(e.expiry_date).format("D MMM YYYY")}`,l=` Plan Code: ${(o=e.plan)==null?void 0:o.slug}`),r(w,{children:a(T,{children:[r(s,{sx:D,children:p(e.created_at).format("D MMM YYYY")}),a(s,{sx:z,children:[r("p",{children:e.business.business_name}),a("span",{children:[e.particulars.charAt(0).toUpperCase()+e.particulars.slice(1)," -"," ",e.short_desc&&e.short_desc]}),r("br",{}),r("span",{children:n}),r("label",{children:l})]}),r(s,{sx:G,children:C(e.id)}),a(s,{sx:D,children:[e.currency==="INR"?"\u20B9":"$",A(e.paid_amount)]}),r(s,{children:C(e.invoice_number)})]})})})})]})})})]})})]})})]})},Fe=()=>a(t.exports.Fragment,{children:[r(B,{children:r("title",{children:"Orders"})}),r(E,{children:r(te,{})})]});export{Fe as default};

import{E as S,j as e,X as I,u as w,$ as P,r as a,B as L,a as c,a0 as O,bH as z,I as V,W as X}from"./index.be9654c3.js";import{u as B,F as x}from"./FormTextField.1b6766b0.js";import{g as _}from"./mui-tel-input.es.10163db1.js";import{F as $,x as k,G as D,f,m as b,y as G,b as j}from"./CommonComponents.e402a32f.js";import{C as U}from"./Card.575c8934.js";import{I as q}from"./InputAdornment.b3693682.js";import"./TextField.a295446e.js";import"./Select.e4773e53.js";import"./isMuiElement.c36edbd6.js";import"./Menu.df47d1c7.js";import"./List.338bfb98.js";import"./ListItemText.aabd4d26.js";import"./listItemTextClasses.a29033a6.js";import"./MenuItem.7db6cbfc.js";const H=S(e("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),N=S(e("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),J={alignItems:{md:"center"},borderTopLeftRadius:{xs:24,md:0},borderTopRightRadius:{xs:24,md:0},boxShadow:{xs:"0 -4px 5px 0 rgb(0 0 0 / 8%)",md:"none"},height:{xs:"calc(100vh - 55px)",md:"calc(100vh - 66px)"},maxWidth:{md:"80%"},mx:"auto"},K={boxShadow:{xs:"none",md:"0 2px 10px 0 rgba(0,0,0,.15)"},borderRadius:4,py:6,px:4.375},Q=I("div")({backgroundColor:"#ffffff",display:"flex",justifyContent:"space-evenly",width:"100%"}),Y=I("h1")({color:"#3d424b",fontSize:24,fontWeight:700,marginBottom:40});var l=(t=>(t.EMAIL="email",t.MOBILE="mobile_number",t.USERNAME="username",t))(l||{}),r=(t=>(t.PASSWORD="password",t.TEXT="text",t))(r||{});const Z=()=>{const{country:t,callingCode:m,setAccessToken:A}=w(),{setErrorMessage:E,setSuccessMessage:F}=P(),y=`+${m}`.length,[M,u]=a.exports.useState(l.EMAIL),p=6,[d,v]=a.exports.useState(r.PASSWORD),{control:g,handleSubmit:C,watch:R,setValue:n}=B({defaultValues:{email:"",password:""}}),{email:o,mobile_number:i}=R(),W=()=>{v(d===r.PASSWORD?r.TEXT:r.PASSWORD)},T=async h=>{const s=await z.doSignIn(h);if(!s.success)return E(s.message);A(s.payload.token),F(s.message)};return a.exports.useEffect(()=>{o&&o.length===p+1&&`${parseInt(o)}`.length===o.length&&(u(l.MOBILE),n("mobile_number",`+${m}${o}`),n("email",void 0))},[o]),a.exports.useEffect(()=>{i&&i.length===p+y&&(u(l.EMAIL),n("email",i.replace(`+${m}`,"")),n("mobile_number",void 0))},[i]),e(L,{width:415,maxWidth:"48%",children:c(U,{component:"form",onSubmit:C(T),sx:K,children:[e(Y,{children:"Sign In, to get started!"}),e($,{sx:k,children:c(D,{children:[e(f,{children:M===l.EMAIL?e(x,{control:g,name:"email",label:"Email",placeholder:"Email",required:!0,sx:b,autoFocus:!0}):e(_,{label:"Mobile",placeholder:"Enter mobile no.",fullWidth:!0,defaultCountry:t,value:i,onChange:(h,s)=>{n("mobile_number",s.numberValue)},variant:"filled",sx:G,autoFocus:!0})}),e(f,{children:e(x,{control:g,name:"password",label:"Password",placeholder:"Password",type:d,required:!0,sx:b,InputProps:{endAdornment:e(q,{position:"end",children:e(O,{onClick:W,children:d===r.PASSWORD?e(H,{}):e(N,{})})})}})}),e(j,{type:"submit",children:"Sign In"})]})})]})})},ee=()=>e(L,{maxWidth:"48%",children:e(V,{src:"/static/images/svg/login.svg",alt:"Login Graphics",width:455,height:478})}),te=()=>{const{isTablet:t}=w();return c(Q,{sx:J,children:[t&&e(ee,{}),e(Z,{})]})},xe=()=>c(a.exports.Fragment,{children:[e(X,{children:e("title",{children:"Login"})}),e(te,{})]});export{xe as default};

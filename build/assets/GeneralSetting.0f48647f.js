var T=Object.defineProperty;var z=(n,t,a)=>t in n?T(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a;var l=(n,t,a)=>(z(n,typeof t!="symbol"?t+"":t,a),a);import{ai as b,aj as M,r,ak as p,u as P,Z as j,al as D,a as u,j as e,a0 as I,L as O,am as _,W as R}from"./index.07b2cd1d.js";import{u as V}from"./index.esm.cfe63d5b.js";import{L as k}from"./LeftArrow.54215bf6.js";import{c as B,H as F,d as N,e as H}from"./Wrappers.cc4377b9.js";import{C as f}from"./Card.e52bc3d2.js";import{A as q,a as U}from"./Form.b60872e2.js";import{p as S}from"./Position.module.ff7b7fa6.js";class i{}l(i,"getGeneralSettings",async()=>await b("/business","GET")),l(i,"putGeneralSettings",async(t,a)=>await b(`/business/${t}`,"PUT",{data:a})),l(i,"getCountryProvinces",async t=>await M(`/countries/${t}.json`,"GET"));const $=r.exports.lazy(()=>p(()=>import("./BusinessDetails.e329da47.js"),["assets/BusinessDetails.e329da47.js","assets/mui-tel-input.es.7dd19f75.js","assets/index.07b2cd1d.js","assets/index.6e2e3c06.css","assets/ListItemIcon.ec471dee.js","assets/listItemTextClasses.92d64a6b.js","assets/List.de41e8f1.js","assets/ListItemText.37dede89.js","assets/TextField.9f9684f1.js","assets/Select.ec105847.js","assets/isMuiElement.b517f635.js","assets/Menu.33eb8b46.js","assets/useControlled.ad4eef25.js","assets/InputAdornment.1271cfbe.js","assets/MenuItem.acc0f2fb.js","assets/FormTextField.9f7ee03b.js","assets/index.esm.cfe63d5b.js","assets/FileUpload.37db70fe.js","assets/index.31dd09c6.js","assets/AssetsApi.37782c6e.js","assets/FileUpload.a55168fb.css","assets/Tags.1d2f747f.js","assets/withStyles.d40b4a67.js","assets/ListItem.87fc2ad0.js","assets/listItemButtonClasses.1c459d57.js","assets/Grid.2a5a0d14.js","assets/Grid.6523dca6.css","assets/Form.b60872e2.js","assets/ArrowRight.11709813.js","assets/Form.22a18028.css","assets/Card.e52bc3d2.js","assets/Card.c95467a4.js","assets/CardContent.b8f30e84.js","assets/Card.fb089c80.css","assets/Style.d96d560c.js"])),K=r.exports.lazy(()=>p(()=>import("./BusinessAddress.28bd2653.js"),["assets/BusinessAddress.28bd2653.js","assets/index.07b2cd1d.js","assets/index.6e2e3c06.css","assets/FormTextField.9f7ee03b.js","assets/index.esm.cfe63d5b.js","assets/TextField.9f9684f1.js","assets/Select.ec105847.js","assets/isMuiElement.b517f635.js","assets/Menu.33eb8b46.js","assets/List.de41e8f1.js","assets/useControlled.ad4eef25.js","assets/Tags.1d2f747f.js","assets/withStyles.d40b4a67.js","assets/MenuItem.acc0f2fb.js","assets/listItemTextClasses.92d64a6b.js","assets/ListItem.87fc2ad0.js","assets/listItemButtonClasses.1c459d57.js","assets/Grid.2a5a0d14.js","assets/Grid.6523dca6.css","assets/Form.b60872e2.js","assets/ArrowRight.11709813.js","assets/Form.22a18028.css","assets/Card.e52bc3d2.js","assets/Card.c95467a4.js","assets/CardContent.b8f30e84.js","assets/Card.fb089c80.css","assets/Style.d96d560c.js","assets/LeftArrow.54215bf6.js","assets/Wrappers.cc4377b9.js","assets/Wrappers.250d6271.css","assets/Position.module.ff7b7fa6.js","assets/Position.22580428.css"])),W=r.exports.lazy(()=>p(()=>import("./BusinessLocation.215c422b.js"),["assets/BusinessLocation.215c422b.js","assets/index.07b2cd1d.js","assets/index.6e2e3c06.css","assets/FormTextField.9f7ee03b.js","assets/index.esm.cfe63d5b.js","assets/TextField.9f9684f1.js","assets/Select.ec105847.js","assets/isMuiElement.b517f635.js","assets/Menu.33eb8b46.js","assets/List.de41e8f1.js","assets/useControlled.ad4eef25.js","assets/Tags.1d2f747f.js","assets/withStyles.d40b4a67.js","assets/MenuItem.acc0f2fb.js","assets/listItemTextClasses.92d64a6b.js","assets/ListItem.87fc2ad0.js","assets/listItemButtonClasses.1c459d57.js","assets/Grid.2a5a0d14.js","assets/Grid.6523dca6.css","assets/Form.b60872e2.js","assets/ArrowRight.11709813.js","assets/Form.22a18028.css","assets/Styles.3fefcec0.js","assets/Card.c95467a4.js","assets/CardContent.b8f30e84.js"])),Z=()=>{const{isMobile:n}=P(),{setErrorMessage:t,setSuccessMessage:a}=j();D();const[y,w]=r.exports.useState(!0),[G,E]=r.exports.useState(Math.random()),{control:m,handleSubmit:x,watch:c,reset:L,setValue:g}=V({defaultValues:{business_name:"",mobile_number:"",industry:"",website:"",logo:"",address:"",city:"",state:"",country:"",pin_code:"",latitude:20.5937,longitude:78.9629,timezone:{label:"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:5.5}}}),{timezone:h}=c(),A=async s=>{try{const{id:d,mobile_number:C}=s,o=await i.putGeneralSettings(d,{...s,number:C,timezoneLabel:h.label,timezoneValue:h.value});if(o.errors)throw Error(o.errors.pop().message);if(!o.success&&o.message)throw Error(o.message);a(o.message),E(Math.random())}catch(d){t(d.message)}},v=r.exports.useRef(async()=>{try{const s=await i.getGeneralSettings();if(s.errors)throw Error(s.errors.pop().message);if(!s.success)throw Error(s.message);L(s.payload),w(!1)}catch(s){t(s.message)}});return r.exports.useEffect(()=>{v.current()},[G]),u(r.exports.Fragment,{children:[n&&u(B,{children:[e(I,{component:O,to:"/business-settings",className:"icon-md-button",children:e(k,{})}),e(F,{children:"General Settings"})]}),y?e(f,{className:S.AbsCenter,children:e(_,{height:72,width:72})}):e(r.exports.Suspense,{fallback:e(f,{className:S.AbsCenter,children:e(_,{height:72,width:72})}),children:e(N,{children:u(H,{onSubmit:x(A),children:[e($,{control:m,watch:c,setValue:g}),e(K,{control:m,watch:c}),e(W,{control:m,watch:c,setValue:g}),e(q,{children:e(U,{type:"submit",children:"Save"})})]})})})]})},J=()=>u(r.exports.Fragment,{children:[e(R,{children:e("title",{children:"General Settings"})}),e(Z,{})]}),ne=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{ne as G,i as S};

import{w as M,j as o,I as N,u as I,Z as k,r as l,a as t,a0 as G,d as f,A as W,W as z}from"./index.a8b2df7b.js";import{u as O}from"./index.esm.276adf77.js";import{g as V}from"./mui-tel-input.es.6a1367c8.js";import{I as c,P as a}from"./Auth.bb306ec0.js";import{F as $,G as D}from"./Grid.9f4e5ba1.js";import{F,a as R}from"./Form.9bbb4da7.js";import{F as b,a as _}from"./Style.57c2f24e.js";import{F as S}from"./FormTextField.ca01741a.js";import{C as j}from"./Card.bd9c7588.js";import{I as B}from"./InputAdornment.b97a990b.js";import{V as U}from"./Visibility.7504c137.js";import"./ListItemIcon.9b5e5041.js";import"./listItemTextClasses.0d2d954f.js";import"./List.e9d0b826.js";import"./ListItemText.04c53d91.js";import"./TextField.f1851448.js";import"./Select.a83a6cc9.js";import"./isMuiElement.42abfbfb.js";import"./Menu.58d7bdb3.js";import"./useControlled.e7b8947c.js";import"./MenuItem.311c4d23.js";import"./ArrowRight.4ddcb545.js";const X=M(o("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),q="_48mr",H="aEbD",Z="NzPd",J="-oSe",K="HEnC",Q="Aeze",Y="poGz",oo="OC8M",e={LoginGfx:q,LoginForm:H,LoginFormCard:Z,LoginTitle:J,SignIn:K,ForgotPassword:Q,LoginCaption:Y,LoginCaptionLink:oo},eo=()=>o("div",{className:e.LoginGfx,children:o(N,{src:"/static/images/svg/login.svg",alt:"Login Graphics",width:455,height:478})}),so=()=>{const{country:m,callingCode:d,setAccessToken:C}=I(),{setErrorMessage:w}=k(),x=`+${d}`.length,[P,g]=l.exports.useState(c.EMAIL),u=6,[p,A]=l.exports.useState(a.PASSWORD),{control:h,handleSubmit:T,watch:y,setValue:i}=O({defaultValues:{email:"",password:""}}),{email:s,mobile_number:r}=y(),E=()=>{A(p===a.PASSWORD?a.TEXT:a.PASSWORD)},v=async L=>{const n=await W.doSignIn(L);if(!n.success)return w(n.message);C(n.payload.token),console.log(n.message)};return l.exports.useEffect(()=>{s&&s.length===u+1&&`${parseInt(s)}`.length===s.length&&(g(c.MOBILE),i("mobile_number",`+${d}${s}`),i("email",void 0))},[s]),l.exports.useEffect(()=>{r&&r.length===u+x&&(g(c.EMAIL),i("email",r.replace(`+${d}`,"")),i("mobile_number",void 0))},[r]),t("div",{className:e.LoginForm,children:[t(j,{component:"form",className:e.LoginFormCard,onSubmit:T(v),children:[o("h1",{className:e.LoginTitle,children:"Sign In, to get started!"}),o($,{children:t(D,{children:[o(F,{children:P===c.EMAIL?o(S,{control:h,name:"email",label:"Email",placeholder:"Email",required:!0,sx:b,autoFocus:!0}):o(V,{label:"Mobile",placeholder:"Enter mobile no.",fullWidth:!0,defaultCountry:m,value:r,onChange:(L,n)=>{i("mobile_number",n.numberValue)},variant:"filled",sx:_,autoFocus:!0})}),o(F,{children:o(S,{control:h,name:"password",label:"Password",placeholder:"Password",type:p,required:!0,sx:b,InputLabelProps:{shrink:!0},InputProps:{endAdornment:o(B,{position:"end",children:o(G,{onClick:E,children:p===a.PASSWORD?o(U,{}):o(X,{})})})}})}),o(R,{type:"submit",className:e.SignIn,children:"Sign In"}),o(f,{to:"/forgot-password",className:e.ForgotPassword,children:"Forgot Password?"})]})})]}),t("div",{className:e.LoginCaption,children:["Don\u2019t have an account? ",o(f,{to:"/sign-up",className:e.LoginCaptionLink,children:"Sign Up"})]})]})},no="zdw2",to={LoginWrapper:no},yo=()=>{const{isTablet:m}=I();return t(l.exports.Fragment,{children:[o(z,{children:o("title",{children:"Login"})}),t("div",{className:to.LoginWrapper,children:[m&&o(eo,{}),o(so,{})]})]})};export{yo as default};

import{e as w,_ as i,r as u,c as M,j as k,a as K}from"./index.ca4653e7.js";import{e as ae}from"./Global.54008107.js";import{a as O,b as ce,p as _,c as ie,d as pe,e as le,u as ue,P as de,W as me,f as B,h as W,K as Pe,C as $}from"./PickersToolbarButton.1f705e32.js";import{g as U,a as N,s as v,c as j}from"./styled.0e1c85d3.js";import{T as fe,P as ke}from"./Typography.a45e4cf2.js";import{P as be}from"./Popper.3d85e4ac.js";import{b as he}from"./Modal.658ef5c2.js";import{G as De}from"./Menu.8fd80eea.js";import{u as I,a as Te}from"./ButtonBase.4773acc8.js";import{o as L}from"./SnackProvider.08a64b2a.js";import{M as Ce,P as ye}from"./PureDateInput.c29bb8ef.js";const Y=e=>e.length===1&&e[0]==="year",z=e=>e.length===2&&e.indexOf("month")!==-1&&e.indexOf("year")!==-1,xe=(e,o)=>Y(e)?{inputFormat:o.formats.year}:z(e)?{disableMaskedInput:!0,inputFormat:o.formats.monthAndYear}:{inputFormat:o.formats.keyboardDate};function H(e,o){var s;const r=O(),n=ce(),c=w({props:e,name:o}),a=(s=c.views)!=null?s:["year","day"];return i({openTo:"day",disableFuture:!1,disablePast:!1},xe(a,r),c,{views:a,minDate:_(r,c.minDate,n.minDate),maxDate:_(r,c.maxDate,n.maxDate)})}const Q={emptyValue:null,getTodayValue:e=>e.date(),parseInput:ie,areValuesEqual:(e,o,s)=>e.isEqual(o,s)};function Me(e){return U("MuiDatePickerToolbar",e)}N("MuiDatePickerToolbar",["root","title"]);const Ee=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],Re=e=>{const{classes:o}=e;return j({root:["root"],title:["title"]},Me,o)},ge=v(pe,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,o)=>o.root})({[`& .${le.penIconButton}`]:{position:"relative",top:4}}),we=v(fe,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,o)=>o.title})(({ownerState:e})=>i({},e.isLandscape&&{margin:"auto 16px auto auto"})),q=u.exports.forwardRef(function(o,s){const r=w({props:o,name:"MuiDatePickerToolbar"}),{parsedValue:n,isLandscape:c,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:d,toolbarFormat:t,toolbarPlaceholder:p="\u2013\u2013",toolbarTitle:P,views:m}=r,l=M(r,Ee),f=O(),b=ue(),h=Re(r),C=P!=null?P:b.datePickerDefaultToolbarTitle,E=u.exports.useMemo(()=>n?t?f.formatByString(n,t):Y(m)?f.format(n,"year"):z(m)?f.format(n,"month"):/en/.test(f.getCurrentLocaleCode())?f.format(n,"normalDateWithWeekday"):f.format(n,"normalDate"):p,[n,t,p,f,m]),D=r;return k(ge,i({ref:s,toolbarTitle:C,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:d,isLandscape:c,ownerState:D,className:h.root},l,{children:k(we,{variant:"h4",align:c?"left":"center",ownerState:D,className:h.title,children:E})}))});function ve(e){return U("MuiPickersPopper",e)}N("MuiPickersPopper",["root","paper"]);const Le=["onClick","onTouchStart"],Ie=e=>{const{classes:o}=e;return j({root:["root"],paper:["paper"]},ve,o)},Se=v(be,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({zIndex:e.zIndex.modal})),Ve=v(ke,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,o)=>o.paper})(({ownerState:e})=>i({transformOrigin:"top center",outline:0},e.placement==="top"&&{transformOrigin:"bottom center"}));function Ae(e,o){return o.documentElement.clientWidth<e.clientX||o.documentElement.clientHeight<e.clientY}function Fe(e,o){const s=u.exports.useRef(!1),r=u.exports.useRef(!1),n=u.exports.useRef(null),c=u.exports.useRef(!1);u.exports.useEffect(()=>{if(!e)return;function t(){c.current=!0}return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),c.current=!1}},[e]);const a=Te(t=>{if(!c.current)return;const p=r.current;r.current=!1;const P=L(n.current);if(!n.current||"clientX"in t&&Ae(t,P))return;if(s.current){s.current=!1;return}let m;t.composedPath?m=t.composedPath().indexOf(n.current)>-1:m=!P.documentElement.contains(t.target)||n.current.contains(t.target),!m&&!p&&o(t)}),d=()=>{r.current=!0};return u.exports.useEffect(()=>{if(e){const t=L(n.current),p=()=>{s.current=!0};return t.addEventListener("touchstart",a),t.addEventListener("touchmove",p),()=>{t.removeEventListener("touchstart",a),t.removeEventListener("touchmove",p)}}},[e,a]),u.exports.useEffect(()=>{if(e){const t=L(n.current);return t.addEventListener("click",a),()=>{t.removeEventListener("click",a),r.current=!1}}},[e,a]),[n,d,d]}function _e(e){var o;const s=w({props:e,name:"MuiPickersPopper"}),{anchorEl:r,children:n,containerRef:c=null,onBlur:a,onClose:d,onClear:t,onAccept:p,onCancel:P,onSetToday:m,open:l,PopperProps:f,role:b,TransitionComponent:h=De,TrapFocusProps:C,PaperProps:E={},components:D,componentsProps:R}=s;u.exports.useEffect(()=>{function T(g){l&&(g.key==="Escape"||g.key==="Esc")&&d()}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[d,l]);const y=u.exports.useRef(null);u.exports.useEffect(()=>{b!=="tooltip"&&(l?y.current=document.activeElement:y.current&&y.current instanceof HTMLElement&&setTimeout(()=>{y.current instanceof HTMLElement&&y.current.focus()}))},[l,b]);const[G,X,J]=Fe(l,a!=null?a:d),Z=u.exports.useRef(null),ee=I(Z,c),oe=I(ee,G),S=s,V=Ie(S),{onClick:A,onTouchStart:F}=E,te=M(E,Le),re=T=>{T.key==="Escape"&&(T.stopPropagation(),d())},ne=(o=D==null?void 0:D.ActionBar)!=null?o:de,se=(D==null?void 0:D.PaperContent)||u.exports.Fragment;return k(Se,i({transition:!0,role:b,open:l,anchorEl:r,onKeyDown:re,className:V.root},f,{children:({TransitionProps:T,placement:g})=>k(he,i({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},C,{children:k(h,i({},T,{children:k(Ve,i({tabIndex:-1,elevation:8,ref:oe,onClick:x=>{X(x),A&&A(x)},onTouchStart:x=>{J(x),F&&F(x)},ownerState:i({},S,{placement:g}),className:V.paper},te,{children:K(se,i({},R==null?void 0:R.paperContent,{children:[n,k(ne,i({onAccept:p,onClear:t,onCancel:P,onSetToday:m,actions:[]},R==null?void 0:R.actionBar))]}))}))}))}))}))}function Ke(e){const{children:o,DateInputProps:s,KeyboardDateInputComponent:r,onClear:n,onDismiss:c,onCancel:a,onAccept:d,onSetToday:t,open:p,PopperProps:P,PaperProps:m,TransitionComponent:l,components:f,componentsProps:b}=e,h=u.exports.useRef(null),C=I(s.inputRef,h);return K(me.Provider,{value:"desktop",children:[k(r,i({},s,{inputRef:C})),k(_e,{role:"dialog",open:p,anchorEl:h.current,TransitionComponent:l,PopperProps:P,PaperProps:m,onClose:c,onCancel:a,onClear:n,onAccept:d,onSetToday:t,components:f,componentsProps:b,children:o})]})}const Oe=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],Be=u.exports.forwardRef(function(o,s){const r=H(o,"MuiDesktopDatePicker"),n=B(r)!==null,{pickerProps:c,inputProps:a,wrapperProps:d}=W(r,Q),{PopperProps:t,PaperProps:p,ToolbarComponent:P=q,TransitionComponent:m,components:l,componentsProps:f}=r,b=M(r,Oe),h=i({},a,b,{components:l,componentsProps:f,ref:s,validationError:n});return k(Ke,i({},d,{DateInputProps:h,KeyboardDateInputComponent:Pe,PopperProps:t,PaperProps:p,TransitionComponent:m,components:l,componentsProps:f,children:k($,i({},c,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:P,DateInputProps:h,components:l,componentsProps:f},b))}))}),We=["ToolbarComponent","value","onChange","components","componentsProps"],$e=u.exports.forwardRef(function(o,s){const r=H(o,"MuiMobileDatePicker"),n=B(r)!==null,{pickerProps:c,inputProps:a,wrapperProps:d}=W(r,Q),{ToolbarComponent:t=q,components:p,componentsProps:P}=r,m=M(r,We),l=i({},a,m,{components:p,componentsProps:P,ref:s,validationError:n});return k(Ce,i({},m,d,{DateInputProps:l,PureDateInputComponent:ye,components:p,componentsProps:P,children:k($,i({},c,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:t,DateInputProps:l,components:p,componentsProps:P},m))}))}),Ue=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],eo=u.exports.forwardRef(function(o,s){const r=w({props:o,name:"MuiDatePicker"}),{desktopModeMediaQuery:n="@media (pointer: fine)",DialogProps:c,PopperProps:a,TransitionComponent:d}=r,t=M(r,Ue);return ae(n,{defaultMatches:!0})?k(Be,i({ref:s,PopperProps:a,TransitionComponent:d},t)):k($e,i({ref:s,DialogProps:c},t))});export{eo as D};
